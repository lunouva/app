(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))o(b);new MutationObserver(b=>{for(const g of b)if(g.type==="childList")for(const j of g.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&o(j)}).observe(document,{childList:!0,subtree:!0});function h(b){const g={};return b.integrity&&(g.integrity=b.integrity),b.referrerPolicy&&(g.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?g.credentials="include":b.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function o(b){if(b.ep)return;b.ep=!0;const g=h(b);fetch(b.href,g)}})();function _y(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var Lc={exports:{}},pi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd;function Sy(){if(Gd)return pi;Gd=1;var f=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function h(o,b,g){var j=null;if(g!==void 0&&(j=""+g),b.key!==void 0&&(j=""+b.key),"key"in b){g={};for(var z in b)z!=="key"&&(g[z]=b[z])}else g=b;return b=g.ref,{$$typeof:f,type:o,key:j,ref:b!==void 0?b:null,props:g}}return pi.Fragment=c,pi.jsx=h,pi.jsxs=h,pi}var kd;function jy(){return kd||(kd=1,Lc.exports=Sy()),Lc.exports}var s=jy(),Zc={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd;function Ny(){if(Qd)return Ne;Qd=1;var f=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),Q=Symbol.iterator;function H(y){return y===null||typeof y!="object"?null:(y=Q&&y[Q]||y["@@iterator"],typeof y=="function"?y:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ue=Object.assign,K={};function fe(y,G,ee){this.props=y,this.context=G,this.refs=K,this.updater=ee||V}fe.prototype.isReactComponent={},fe.prototype.setState=function(y,G){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,G,"setState")},fe.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function xe(){}xe.prototype=fe.prototype;function ie(y,G,ee){this.props=y,this.context=G,this.refs=K,this.updater=ee||V}var me=ie.prototype=new xe;me.constructor=ie,ue(me,fe.prototype),me.isPureReactComponent=!0;var le=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},Se=Object.prototype.hasOwnProperty;function Ye(y,G,ee,$,ce,qe){return ee=qe.ref,{$$typeof:f,type:y,key:G,ref:ee!==void 0?ee:null,props:qe}}function he(y,G){return Ye(y.type,G,void 0,void 0,void 0,y.props)}function Je(y){return typeof y=="object"&&y!==null&&y.$$typeof===f}function rt(y){var G={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(ee){return G[ee]})}var je=/\/+/g;function B(y,G){return typeof y=="object"&&y!==null&&y.key!=null?rt(""+y.key):G.toString(36)}function oe(){}function Ue(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(oe,oe):(y.status="pending",y.then(function(G){y.status==="pending"&&(y.status="fulfilled",y.value=G)},function(G){y.status==="pending"&&(y.status="rejected",y.reason=G)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function Te(y,G,ee,$,ce){var qe=typeof y;(qe==="undefined"||qe==="boolean")&&(y=null);var pe=!1;if(y===null)pe=!0;else switch(qe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(y.$$typeof){case f:case c:pe=!0;break;case M:return pe=y._init,Te(pe(y._payload),G,ee,$,ce)}}if(pe)return ce=ce(y),pe=$===""?"."+B(y,0):$,le(ce)?(ee="",pe!=null&&(ee=pe.replace(je,"$&/")+"/"),Te(ce,G,ee,"",function(zt){return zt})):ce!=null&&(Je(ce)&&(ce=he(ce,ee+(ce.key==null||y&&y.key===ce.key?"":(""+ce.key).replace(je,"$&/")+"/")+pe)),G.push(ce)),1;pe=0;var gt=$===""?".":$+":";if(le(y))for(var He=0;He<y.length;He++)$=y[He],qe=gt+B($,He),pe+=Te($,G,ee,qe,ce);else if(He=H(y),typeof He=="function")for(y=He.call(y),He=0;!($=y.next()).done;)$=$.value,qe=gt+B($,He++),pe+=Te($,G,ee,qe,ce);else if(qe==="object"){if(typeof y.then=="function")return Te(Ue(y),G,ee,$,ce);throw G=String(y),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return pe}function A(y,G,ee){if(y==null)return y;var $=[],ce=0;return Te(y,$,"","",function(qe){return G.call(ee,qe,ce++)}),$}function X(y){if(y._status===-1){var G=y._result;G=G(),G.then(function(ee){(y._status===0||y._status===-1)&&(y._status=1,y._result=ee)},function(ee){(y._status===0||y._status===-1)&&(y._status=2,y._result=ee)}),y._status===-1&&(y._status=0,y._result=G)}if(y._status===1)return y._result.default;throw y._result}var U=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)};function I(){}return Ne.Children={map:A,forEach:function(y,G,ee){A(y,function(){G.apply(this,arguments)},ee)},count:function(y){var G=0;return A(y,function(){G++}),G},toArray:function(y){return A(y,function(G){return G})||[]},only:function(y){if(!Je(y))throw Error("React.Children.only expected to receive a single React element child.");return y}},Ne.Component=fe,Ne.Fragment=h,Ne.Profiler=b,Ne.PureComponent=ie,Ne.StrictMode=o,Ne.Suspense=O,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(y){return P.H.useMemoCache(y)}},Ne.cache=function(y){return function(){return y.apply(null,arguments)}},Ne.cloneElement=function(y,G,ee){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var $=ue({},y.props),ce=y.key,qe=void 0;if(G!=null)for(pe in G.ref!==void 0&&(qe=void 0),G.key!==void 0&&(ce=""+G.key),G)!Se.call(G,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&G.ref===void 0||($[pe]=G[pe]);var pe=arguments.length-2;if(pe===1)$.children=ee;else if(1<pe){for(var gt=Array(pe),He=0;He<pe;He++)gt[He]=arguments[He+2];$.children=gt}return Ye(y.type,ce,void 0,void 0,qe,$)},Ne.createContext=function(y){return y={$$typeof:j,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:g,_context:y},y},Ne.createElement=function(y,G,ee){var $,ce={},qe=null;if(G!=null)for($ in G.key!==void 0&&(qe=""+G.key),G)Se.call(G,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ce[$]=G[$]);var pe=arguments.length-2;if(pe===1)ce.children=ee;else if(1<pe){for(var gt=Array(pe),He=0;He<pe;He++)gt[He]=arguments[He+2];ce.children=gt}if(y&&y.defaultProps)for($ in pe=y.defaultProps,pe)ce[$]===void 0&&(ce[$]=pe[$]);return Ye(y,qe,void 0,void 0,null,ce)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(y){return{$$typeof:z,render:y}},Ne.isValidElement=Je,Ne.lazy=function(y){return{$$typeof:M,_payload:{_status:-1,_result:y},_init:X}},Ne.memo=function(y,G){return{$$typeof:m,type:y,compare:G===void 0?null:G}},Ne.startTransition=function(y){var G=P.T,ee={};P.T=ee;try{var $=y(),ce=P.S;ce!==null&&ce(ee,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(I,U)}catch(qe){U(qe)}finally{P.T=G}},Ne.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ne.use=function(y){return P.H.use(y)},Ne.useActionState=function(y,G,ee){return P.H.useActionState(y,G,ee)},Ne.useCallback=function(y,G){return P.H.useCallback(y,G)},Ne.useContext=function(y){return P.H.useContext(y)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(y,G){return P.H.useDeferredValue(y,G)},Ne.useEffect=function(y,G,ee){var $=P.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(y,G)},Ne.useId=function(){return P.H.useId()},Ne.useImperativeHandle=function(y,G,ee){return P.H.useImperativeHandle(y,G,ee)},Ne.useInsertionEffect=function(y,G){return P.H.useInsertionEffect(y,G)},Ne.useLayoutEffect=function(y,G){return P.H.useLayoutEffect(y,G)},Ne.useMemo=function(y,G){return P.H.useMemo(y,G)},Ne.useOptimistic=function(y,G){return P.H.useOptimistic(y,G)},Ne.useReducer=function(y,G,ee){return P.H.useReducer(y,G,ee)},Ne.useRef=function(y){return P.H.useRef(y)},Ne.useState=function(y){return P.H.useState(y)},Ne.useSyncExternalStore=function(y,G,ee){return P.H.useSyncExternalStore(y,G,ee)},Ne.useTransition=function(){return P.H.useTransition()},Ne.version="19.1.1",Ne}var Xd;function er(){return Xd||(Xd=1,Zc.exports=Ny()),Zc.exports}var w=er();const tr=_y(w);var Vc={exports:{}},gi={},Kc={exports:{}},Jc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function Ty(){return Ld||(Ld=1,(function(f){function c(A,X){var U=A.length;A.push(X);e:for(;0<U;){var I=U-1>>>1,y=A[I];if(0<b(y,X))A[I]=X,A[U]=y,U=I;else break e}}function h(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var X=A[0],U=A.pop();if(U!==X){A[0]=U;e:for(var I=0,y=A.length,G=y>>>1;I<G;){var ee=2*(I+1)-1,$=A[ee],ce=ee+1,qe=A[ce];if(0>b($,U))ce<y&&0>b(qe,$)?(A[I]=qe,A[ce]=U,I=ce):(A[I]=$,A[ee]=U,I=ee);else if(ce<y&&0>b(qe,U))A[I]=qe,A[ce]=U,I=ce;else break e}}return X}function b(A,X){var U=A.sortIndex-X.sortIndex;return U!==0?U:A.id-X.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;f.unstable_now=function(){return g.now()}}else{var j=Date,z=j.now();f.unstable_now=function(){return j.now()-z}}var O=[],m=[],M=1,Q=null,H=3,V=!1,ue=!1,K=!1,fe=!1,xe=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function le(A){for(var X=h(m);X!==null;){if(X.callback===null)o(m);else if(X.startTime<=A)o(m),X.sortIndex=X.expirationTime,c(O,X);else break;X=h(m)}}function P(A){if(K=!1,le(A),!ue)if(h(O)!==null)ue=!0,Se||(Se=!0,B());else{var X=h(m);X!==null&&Te(P,X.startTime-A)}}var Se=!1,Ye=-1,he=5,Je=-1;function rt(){return fe?!0:!(f.unstable_now()-Je<he)}function je(){if(fe=!1,Se){var A=f.unstable_now();Je=A;var X=!0;try{e:{ue=!1,K&&(K=!1,ie(Ye),Ye=-1),V=!0;var U=H;try{t:{for(le(A),Q=h(O);Q!==null&&!(Q.expirationTime>A&&rt());){var I=Q.callback;if(typeof I=="function"){Q.callback=null,H=Q.priorityLevel;var y=I(Q.expirationTime<=A);if(A=f.unstable_now(),typeof y=="function"){Q.callback=y,le(A),X=!0;break t}Q===h(O)&&o(O),le(A)}else o(O);Q=h(O)}if(Q!==null)X=!0;else{var G=h(m);G!==null&&Te(P,G.startTime-A),X=!1}}break e}finally{Q=null,H=U,V=!1}X=void 0}}finally{X?B():Se=!1}}}var B;if(typeof me=="function")B=function(){me(je)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ue=oe.port2;oe.port1.onmessage=je,B=function(){Ue.postMessage(null)}}else B=function(){xe(je,0)};function Te(A,X){Ye=xe(function(){A(f.unstable_now())},X)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(A){A.callback=null},f.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<A?Math.floor(1e3/A):5},f.unstable_getCurrentPriorityLevel=function(){return H},f.unstable_next=function(A){switch(H){case 1:case 2:case 3:var X=3;break;default:X=H}var U=H;H=X;try{return A()}finally{H=U}},f.unstable_requestPaint=function(){fe=!0},f.unstable_runWithPriority=function(A,X){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=H;H=A;try{return X()}finally{H=U}},f.unstable_scheduleCallback=function(A,X,U){var I=f.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?I+U:I):U=I,A){case 1:var y=-1;break;case 2:y=250;break;case 5:y=1073741823;break;case 4:y=1e4;break;default:y=5e3}return y=U+y,A={id:M++,callback:X,priorityLevel:A,startTime:U,expirationTime:y,sortIndex:-1},U>I?(A.sortIndex=U,c(m,A),h(O)===null&&A===h(m)&&(K?(ie(Ye),Ye=-1):K=!0,Te(P,U-I))):(A.sortIndex=y,c(O,A),ue||V||(ue=!0,Se||(Se=!0,B()))),A},f.unstable_shouldYield=rt,f.unstable_wrapCallback=function(A){var X=H;return function(){var U=H;H=X;try{return A.apply(this,arguments)}finally{H=U}}}})(Jc)),Jc}var Zd;function Ay(){return Zd||(Zd=1,Kc.exports=Ty()),Kc.exports}var $c={exports:{}},qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function Ey(){if(Vd)return qt;Vd=1;var f=er();function c(O){var m="https://react.dev/errors/"+O;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)m+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+O+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(){}var o={d:{f:h,r:function(){throw Error(c(522))},D:h,C:h,L:h,m:h,X:h,S:h,M:h},p:0,findDOMNode:null},b=Symbol.for("react.portal");function g(O,m,M){var Q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:Q==null?null:""+Q,children:O,containerInfo:m,implementation:M}}var j=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function z(O,m){if(O==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,qt.createPortal=function(O,m){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(c(299));return g(O,m,null,M)},qt.flushSync=function(O){var m=j.T,M=o.p;try{if(j.T=null,o.p=2,O)return O()}finally{j.T=m,o.p=M,o.d.f()}},qt.preconnect=function(O,m){typeof O=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(O,m))},qt.prefetchDNS=function(O){typeof O=="string"&&o.d.D(O)},qt.preinit=function(O,m){if(typeof O=="string"&&m&&typeof m.as=="string"){var M=m.as,Q=z(M,m.crossOrigin),H=typeof m.integrity=="string"?m.integrity:void 0,V=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;M==="style"?o.d.S(O,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:Q,integrity:H,fetchPriority:V}):M==="script"&&o.d.X(O,{crossOrigin:Q,integrity:H,fetchPriority:V,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},qt.preinitModule=function(O,m){if(typeof O=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var M=z(m.as,m.crossOrigin);o.d.M(O,{crossOrigin:M,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(O)},qt.preload=function(O,m){if(typeof O=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var M=m.as,Q=z(M,m.crossOrigin);o.d.L(O,M,{crossOrigin:Q,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},qt.preloadModule=function(O,m){if(typeof O=="string")if(m){var M=z(m.as,m.crossOrigin);o.d.m(O,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:M,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(O)},qt.requestFormReset=function(O){o.d.r(O)},qt.unstable_batchedUpdates=function(O,m){return O(m)},qt.useFormState=function(O,m,M){return j.H.useFormState(O,m,M)},qt.useFormStatus=function(){return j.H.useHostTransitionStatus()},qt.version="19.1.1",qt}var Kd;function wy(){if(Kd)return $c.exports;Kd=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(c){console.error(c)}}return f(),$c.exports=Ey(),$c.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd;function My(){if(Jd)return gi;Jd=1;var f=Ay(),c=er(),h=wy();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function j(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function z(e){if(g(e)!==e)throw Error(o(188))}function O(e){var t=e.alternate;if(!t){if(t=g(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return z(n),e;if(i===a)return z(n),t;i=i.sibling}throw Error(o(188))}if(l.return!==a.return)l=n,a=i;else{for(var u=!1,r=n.child;r;){if(r===l){u=!0,l=n,a=i;break}if(r===a){u=!0,a=n,l=i;break}r=r.sibling}if(!u){for(r=i.child;r;){if(r===l){u=!0,l=i,a=n;break}if(r===a){u=!0,a=i,l=n;break}r=r.sibling}if(!u)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var M=Object.assign,Q=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),me=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Ye=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),Je=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function B(e){return e===null||typeof e!="object"?null:(e=je&&e[je]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function Ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ue:return"Fragment";case fe:return"Profiler";case K:return"StrictMode";case P:return"Suspense";case Se:return"SuspenseList";case Je:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case me:return(e.displayName||"Context")+".Provider";case ie:return(e._context.displayName||"Context")+".Consumer";case le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ye:return t=e.displayName||null,t!==null?t:Ue(e.type)||"Memo";case he:t=e._payload,e=e._init;try{return Ue(e(t))}catch{}}return null}var Te=Array.isArray,A=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=h.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},I=[],y=-1;function G(e){return{current:e}}function ee(e){0>y||(e.current=I[y],I[y]=null,y--)}function $(e,t){y++,I[y]=e.current,e.current=t}var ce=G(null),qe=G(null),pe=G(null),gt=G(null);function He(e,t){switch($(pe,t),$(qe,e),$(ce,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hd(t),e=yd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(ce),$(ce,e)}function zt(){ee(ce),ee(qe),ee(pe)}function St(e){e.memoizedState!==null&&$(gt,e);var t=ce.current,l=yd(t,e.type);t!==l&&($(qe,e),$(ce,l))}function it(e){qe.current===e&&(ee(ce),ee(qe)),gt.current===e&&(ee(gt),oi._currentValue=U)}var Bl=Object.prototype.hasOwnProperty,F=f.unstable_scheduleCallback,ma=f.unstable_cancelCallback,E=f.unstable_shouldYield,k=f.unstable_requestPaint,L=f.unstable_now,D=f.unstable_getCurrentPriorityLevel,J=f.unstable_ImmediatePriority,ve=f.unstable_UserBlockingPriority,re=f.unstable_NormalPriority,$e=f.unstable_LowPriority,se=f.unstable_IdlePriority,We=f.log,wt=f.unstable_setDisableYieldValue,be=null,et=null;function jt(e){if(typeof We=="function"&&wt(e),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(be,e)}catch{}}var st=Math.clz32?Math.clz32:Mt,Yl=Math.log,ha=Math.LN2;function Mt(e){return e>>>=0,e===0?32:31-(Yl(e)/ha|0)|0}var Pe=256,Ge=4194304;function ke(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xl(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var r=a&134217727;return r!==0?(a=r&~i,a!==0?n=ke(a):(u&=r,u!==0?n=ke(u):l||(l=r&~e,l!==0&&(n=ke(l))))):(r=a&~i,r!==0?n=ke(r):u!==0?n=ke(u):l||(l=a&~e,l!==0&&(n=ke(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function vl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _n(){var e=Pe;return Pe<<=1,(Pe&4194048)===0&&(Pe=256),e}function Gl(){var e=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),e}function qa(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function bl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ya(e,t,l,a,n,i){var u=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var r=e.entanglements,d=e.expirationTimes,S=e.hiddenUpdates;for(l=u&~l;0<l;){var C=31-st(l),Y=1<<C;r[C]=0,d[C]=-1;var N=S[C];if(N!==null)for(S[C]=null,C=0;C<N.length;C++){var T=N[C];T!==null&&(T.lane&=-536870913)}l&=~Y}a!==0&&bi(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(u&~t))}function bi(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-st(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&4194090}function kt(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-st(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function Sn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function kl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jn(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Cd(e.type))}function za(e,t){var l=X.p;try{return X.p=e,t()}finally{X.p=l}}var ul=Math.random().toString(36).slice(2),ht="__reactFiber$"+ul,Nt="__reactProps$"+ul,_l="__reactContainer$"+ul,Ca="__reactEvents$"+ul,v="__reactListeners$"+ul,q="__reactHandles$"+ul,Z="__reactResources$"+ul,W="__reactMarker$"+ul;function _e(e){delete e[ht],delete e[Nt],delete e[Ca],delete e[v],delete e[q]}function ae(e){var t=e[ht];if(t)return t;for(var l=e.parentNode;l;){if(t=l[_l]||l[ht]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=vd(e);e!==null;){if(l=e[ht])return l;e=vd(e)}return t}e=l,l=e.parentNode}return null}function Ae(e){if(e=e[ht]||e[_l]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ot(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function tt(e){var t=e[Z];return t||(t=e[Z]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Me(e){e[W]=!0}var Ql=new Set,Xl={};function Sl(e,t){Ra(e,t),Ra(e+"Capture",t)}function Ra(e,t){for(Xl[e]=t,e=0;e<t.length;e++)Ql.add(t[e])}var mm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ar={},nr={};function hm(e){return Bl.call(nr,e)?!0:Bl.call(ar,e)?!1:mm.test(e)?nr[e]=!0:(ar[e]=!0,!1)}function _i(e,t,l){if(hm(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Si(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function jl(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}var Bs,ir;function Ua(e){if(Bs===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Bs=t&&t[1]||"",ir=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+e+ir}var Ys=!1;function Gs(e,t){if(!e||Ys)return"";Ys=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(T){var N=T}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(T){N=T}e.call(Y.prototype)}}else{try{throw Error()}catch(T){N=T}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(T){if(T&&N&&typeof T.stack=="string")return[T.stack,N.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),u=i[0],r=i[1];if(u&&r){var d=u.split(`
`),S=r.split(`
`);for(n=a=0;a<d.length&&!d[a].includes("DetermineComponentFrameRoot");)a++;for(;n<S.length&&!S[n].includes("DetermineComponentFrameRoot");)n++;if(a===d.length||n===S.length)for(a=d.length-1,n=S.length-1;1<=a&&0<=n&&d[a]!==S[n];)n--;for(;1<=a&&0<=n;a--,n--)if(d[a]!==S[n]){if(a!==1||n!==1)do if(a--,n--,0>n||d[a]!==S[n]){var C=`
`+d[a].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=a&&0<=n);break}}}finally{Ys=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ua(l):""}function ym(e){switch(e.tag){case 26:case 27:case 5:return Ua(e.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 15:return Gs(e.type,!1);case 11:return Gs(e.type.render,!1);case 1:return Gs(e.type,!0);case 31:return Ua("Activity");default:return""}}function sr(e){try{var t="";do t+=ym(e),e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ur(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pm(e){var t=ur(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(u){a=""+u,i.call(this,u)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(u){a=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ji(e){e._valueTracker||(e._valueTracker=pm(e))}function cr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=ur(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gm=/[\n"\\]/g;function Ft(e){return e.replace(gm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ks(e,t,l,a,n,i,u,r){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Wt(t)):e.value!==""+Wt(t)&&(e.value=""+Wt(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?Qs(e,u,Wt(t)):l!=null?Qs(e,u,Wt(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+Wt(r):e.removeAttribute("name")}function rr(e,t,l,a,n,i,u,r){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;l=l!=null?""+Wt(l):"",t=t!=null?""+Wt(t):l,r||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=r?e.checked:!!a,e.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u)}function Qs(e,t,l){t==="number"&&Ni(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ha(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Wt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function fr(e,t,l){if(t!=null&&(t=""+Wt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Wt(l):""}function or(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(Te(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Wt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a)}function Ba(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var xm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dr(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||xm.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function mr(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&dr(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&dr(e,i,t[i])}function Xs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(e){return bm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ls=null;function Zs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ya=null,Ga=null;function hr(e){var t=Ae(e);if(t&&(e=t.stateNode)){var l=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ks(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[Nt]||null;if(!n)throw Error(o(90));ks(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&cr(a)}break e;case"textarea":fr(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Ha(e,!!l.multiple,t,!1)}}}var Vs=!1;function yr(e,t,l){if(Vs)return e(t,l);Vs=!0;try{var a=e(t);return a}finally{if(Vs=!1,(Ya!==null||Ga!==null)&&(fs(),Ya&&(t=Ya,e=Ga,Ga=Ya=null,hr(t),e)))for(t=0;t<e.length;t++)hr(e[t])}}function Nn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Nt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var Nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ks=!1;if(Nl)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{Ks=!1}var Ll=null,Js=null,Ai=null;function pr(){if(Ai)return Ai;var e,t=Js,l=t.length,a,n="value"in Ll?Ll.value:Ll.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var u=l-e;for(a=1;a<=u&&t[l-a]===n[i-a];a++);return Ai=n.slice(e,1<a?1-a:void 0)}function Ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wi(){return!0}function gr(){return!1}function Ut(e){function t(l,a,n,i,u){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(l=e[r],this[r]=l?l(i):i[r]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wi:gr,this.isPropagationStopped=gr,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),t}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Ut(pa),An=M({},pa,{view:0,detail:0}),_m=Ut(An),$s,Ws,En,Oi=M({},An,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==En&&(En&&e.type==="mousemove"?($s=e.screenX-En.screenX,Ws=e.screenY-En.screenY):Ws=$s=0,En=e),$s)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),xr=Ut(Oi),Sm=M({},Oi,{dataTransfer:0}),jm=Ut(Sm),Nm=M({},An,{relatedTarget:0}),Fs=Ut(Nm),Tm=M({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Am=Ut(Tm),Em=M({},pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wm=Ut(Em),Mm=M({},pa,{data:0}),vr=Ut(Mm),Om={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qm[e])?!!t[e]:!1}function Ps(){return zm}var Cm=M({},An,{key:function(e){if(e.key){var t=Om[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(e){return e.type==="keypress"?Ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rm=Ut(Cm),Um=M({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),br=Ut(Um),Hm=M({},An,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),Bm=Ut(Hm),Ym=M({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gm=Ut(Ym),km=M({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qm=Ut(km),Xm=M({},pa,{newState:0,oldState:0}),Lm=Ut(Xm),Zm=[9,13,27,32],Is=Nl&&"CompositionEvent"in window,wn=null;Nl&&"documentMode"in document&&(wn=document.documentMode);var Vm=Nl&&"TextEvent"in window&&!wn,_r=Nl&&(!Is||wn&&8<wn&&11>=wn),Sr=" ",jr=!1;function Nr(e,t){switch(e){case"keyup":return Zm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ka=!1;function Km(e,t){switch(e){case"compositionend":return Tr(t);case"keypress":return t.which!==32?null:(jr=!0,Sr);case"textInput":return e=t.data,e===Sr&&jr?null:e;default:return null}}function Jm(e,t){if(ka)return e==="compositionend"||!Is&&Nr(e,t)?(e=pr(),Ai=Js=Ll=null,ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _r&&t.locale!=="ko"?null:t.data;default:return null}}var $m={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$m[e.type]:t==="textarea"}function Er(e,t,l,a){Ya?Ga?Ga.push(a):Ga=[a]:Ya=a,t=ps(t,"onChange"),0<t.length&&(l=new Mi("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Mn=null,On=null;function Wm(e){rd(e,0)}function Di(e){var t=Ot(e);if(cr(t))return e}function wr(e,t){if(e==="change")return t}var Mr=!1;if(Nl){var eu;if(Nl){var tu="oninput"in document;if(!tu){var Or=document.createElement("div");Or.setAttribute("oninput","return;"),tu=typeof Or.oninput=="function"}eu=tu}else eu=!1;Mr=eu&&(!document.documentMode||9<document.documentMode)}function Dr(){Mn&&(Mn.detachEvent("onpropertychange",qr),On=Mn=null)}function qr(e){if(e.propertyName==="value"&&Di(On)){var t=[];Er(t,On,e,Zs(e)),yr(Wm,t)}}function Fm(e,t,l){e==="focusin"?(Dr(),Mn=t,On=l,Mn.attachEvent("onpropertychange",qr)):e==="focusout"&&Dr()}function Pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Di(On)}function Im(e,t){if(e==="click")return Di(t)}function eh(e,t){if(e==="input"||e==="change")return Di(t)}function th(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:th;function Dn(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!Bl.call(t,n)||!Qt(e[n],t[n]))return!1}return!0}function zr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cr(e,t){var l=zr(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zr(l)}}function Rr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ur(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ni(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Ni(e.document)}return t}function lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lh=Nl&&"documentMode"in document&&11>=document.documentMode,Qa=null,au=null,qn=null,nu=!1;function Hr(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;nu||Qa==null||Qa!==Ni(a)||(a=Qa,"selectionStart"in a&&lu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),qn&&Dn(qn,a)||(qn=a,a=ps(au,"onSelect"),0<a.length&&(t=new Mi("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Qa)))}function ga(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Xa={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},iu={},Br={};Nl&&(Br=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function xa(e){if(iu[e])return iu[e];if(!Xa[e])return e;var t=Xa[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Br)return iu[e]=t[l];return e}var Yr=xa("animationend"),Gr=xa("animationiteration"),kr=xa("animationstart"),ah=xa("transitionrun"),nh=xa("transitionstart"),ih=xa("transitioncancel"),Qr=xa("transitionend"),Xr=new Map,su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");su.push("scrollEnd");function cl(e,t){Xr.set(e,t),Sl(t,[e])}var Lr=new WeakMap;function Pt(e,t){if(typeof e=="object"&&e!==null){var l=Lr.get(e);return l!==void 0?l:(t={value:e,source:t,stack:sr(t)},Lr.set(e,t),t)}return{value:e,source:t,stack:sr(t)}}var It=[],La=0,uu=0;function qi(){for(var e=La,t=uu=La=0;t<e;){var l=It[t];It[t++]=null;var a=It[t];It[t++]=null;var n=It[t];It[t++]=null;var i=It[t];if(It[t++]=null,a!==null&&n!==null){var u=a.pending;u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n}i!==0&&Zr(l,n,i)}}function zi(e,t,l,a){It[La++]=e,It[La++]=t,It[La++]=l,It[La++]=a,uu|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function cu(e,t,l,a){return zi(e,t,l,a),Ci(e)}function Za(e,t){return zi(e,null,null,t),Ci(e)}function Zr(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-st(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function Ci(e){if(50<ai)throw ai=0,hc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Va={};function sh(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,l,a){return new sh(e,t,l,a)}function ru(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tl(e,t){var l=e.alternate;return l===null?(l=Xt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Vr(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ri(e,t,l,a,n,i){var u=0;if(a=e,typeof e=="function")ru(e)&&(u=1);else if(typeof e=="string")u=cy(e,l,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Je:return e=Xt(31,l,t,n),e.elementType=Je,e.lanes=i,e;case ue:return va(l.children,n,i,t);case K:u=8,n|=24;break;case fe:return e=Xt(12,l,t,n|2),e.elementType=fe,e.lanes=i,e;case P:return e=Xt(13,l,t,n),e.elementType=P,e.lanes=i,e;case Se:return e=Xt(19,l,t,n),e.elementType=Se,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:case me:u=10;break e;case ie:u=9;break e;case le:u=11;break e;case Ye:u=14;break e;case he:u=16,a=null;break e}u=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Xt(u,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function va(e,t,l,a){return e=Xt(7,e,a,t),e.lanes=l,e}function fu(e,t,l){return e=Xt(6,e,null,t),e.lanes=l,e}function ou(e,t,l){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ka=[],Ja=0,Ui=null,Hi=0,el=[],tl=0,ba=null,Al=1,El="";function _a(e,t){Ka[Ja++]=Hi,Ka[Ja++]=Ui,Ui=e,Hi=t}function Kr(e,t,l){el[tl++]=Al,el[tl++]=El,el[tl++]=ba,ba=e;var a=Al;e=El;var n=32-st(a)-1;a&=~(1<<n),l+=1;var i=32-st(t)+n;if(30<i){var u=n-n%5;i=(a&(1<<u)-1).toString(32),a>>=u,n-=u,Al=1<<32-st(t)+n|l<<n|a,El=i+e}else Al=1<<i|l<<n|a,El=e}function du(e){e.return!==null&&(_a(e,1),Kr(e,1,0))}function mu(e){for(;e===Ui;)Ui=Ka[--Ja],Ka[Ja]=null,Hi=Ka[--Ja],Ka[Ja]=null;for(;e===ba;)ba=el[--tl],el[tl]=null,El=el[--tl],el[tl]=null,Al=el[--tl],el[tl]=null}var Ct=null,ut=null,Be=!1,Sa=null,dl=!1,hu=Error(o(519));function ja(e){var t=Error(o(418,""));throw Rn(Pt(t,e)),hu}function Jr(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[ht]=e,t[Nt]=a,l){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(l=0;l<ii.length;l++)De(ii[l],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),rr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),ji(t);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),or(t,a.value,a.defaultValue,a.children),ji(t)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||md(t.textContent,l)?(a.popover!=null&&(De("beforetoggle",t),De("toggle",t)),a.onScroll!=null&&De("scroll",t),a.onScrollEnd!=null&&De("scrollend",t),a.onClick!=null&&(t.onclick=gs),t=!0):t=!1,t||ja(e)}function $r(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 5:case 13:dl=!1;return;case 27:case 3:dl=!0;return;default:Ct=Ct.return}}function zn(e){if(e!==Ct)return!1;if(!Be)return $r(e),Be=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Oc(e.type,e.memoizedProps)),l=!l),l&&ut&&ja(e),$r(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(t===0){ut=fl(e.nextSibling);break e}t--}else l!=="$"&&l!=="$!"&&l!=="$?"||t++;e=e.nextSibling}ut=null}}else t===27?(t=ut,sa(e.type)?(e=Cc,Cc=null,ut=e):ut=t):ut=Ct?fl(e.stateNode.nextSibling):null;return!0}function Cn(){ut=Ct=null,Be=!1}function Wr(){var e=Sa;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),Sa=null),e}function Rn(e){Sa===null?Sa=[e]:Sa.push(e)}var yu=G(null),Na=null,wl=null;function Zl(e,t,l){$(yu,t._currentValue),t._currentValue=l}function Ml(e){e._currentValue=yu.current,ee(yu)}function pu(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function gu(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var u=n.child;i=i.firstContext;e:for(;i!==null;){var r=i;i=n;for(var d=0;d<t.length;d++)if(r.context===t[d]){i.lanes|=l,r=i.alternate,r!==null&&(r.lanes|=l),pu(i.return,l,e),a||(u=null);break e}i=r.next}}else if(n.tag===18){if(u=n.return,u===null)throw Error(o(341));u.lanes|=l,i=u.alternate,i!==null&&(i.lanes|=l),pu(u,l,e),u=null}else u=n.child;if(u!==null)u.return=n;else for(u=n;u!==null;){if(u===e){u=null;break}if(n=u.sibling,n!==null){n.return=u.return,u=n;break}u=u.return}n=u}}function Un(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var u=n.alternate;if(u===null)throw Error(o(387));if(u=u.memoizedProps,u!==null){var r=n.type;Qt(n.pendingProps.value,u.value)||(e!==null?e.push(r):e=[r])}}else if(n===gt.current){if(u=n.alternate,u===null)throw Error(o(387));u.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(oi):e=[oi])}n=n.return}e!==null&&gu(t,e,l,a),t.flags|=262144}function Bi(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ta(e){Na=e,wl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return Fr(Na,e)}function Yi(e,t){return Na===null&&Ta(e),Fr(e,t)}function Fr(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},wl===null){if(e===null)throw Error(o(308));wl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wl=wl.next=t;return l}var uh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},ch=f.unstable_scheduleCallback,rh=f.unstable_NormalPriority,yt={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xu(){return{controller:new uh,data:new Map,refCount:0}}function Hn(e){e.refCount--,e.refCount===0&&ch(rh,function(){e.controller.abort()})}var Bn=null,vu=0,$a=0,Wa=null;function fh(e,t){if(Bn===null){var l=Bn=[];vu=0,$a=_c(),Wa={status:"pending",value:void 0,then:function(a){l.push(a)}}}return vu++,t.then(Pr,Pr),t}function Pr(){if(--vu===0&&Bn!==null){Wa!==null&&(Wa.status="fulfilled");var e=Bn;Bn=null,$a=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function oh(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var Ir=A.S;A.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&fh(e,t),Ir!==null&&Ir(e,t)};var Aa=G(null);function bu(){var e=Aa.current;return e!==null?e:Ie.pooledCache}function Gi(e,t){t===null?$(Aa,Aa.current):$(Aa,t.pool)}function ef(){var e=bu();return e===null?null:{parent:yt._currentValue,pool:e}}var Yn=Error(o(460)),tf=Error(o(474)),ki=Error(o(542)),_u={then:function(){}};function lf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qi(){}function af(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Qi,Qi),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sf(e),e;default:if(typeof t.status=="string")t.then(Qi,Qi);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sf(e),e}throw Gn=t,Yn}}var Gn=null;function nf(){if(Gn===null)throw Error(o(459));var e=Gn;return Gn=null,e}function sf(e){if(e===Yn||e===ki)throw Error(o(483))}var Vl=!1;function Su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ju(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Qe&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=Ci(e),Zr(e,null,l),t}return zi(e,a,t,l),Ci(e)}function kn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,kt(e,l)}}function Nu(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var u={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=u:i=i.next=u,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Tu=!1;function Qn(){if(Tu){var e=Wa;if(e!==null)throw e}}function Xn(e,t,l,a){Tu=!1;var n=e.updateQueue;Vl=!1;var i=n.firstBaseUpdate,u=n.lastBaseUpdate,r=n.shared.pending;if(r!==null){n.shared.pending=null;var d=r,S=d.next;d.next=null,u===null?i=S:u.next=S,u=d;var C=e.alternate;C!==null&&(C=C.updateQueue,r=C.lastBaseUpdate,r!==u&&(r===null?C.firstBaseUpdate=S:r.next=S,C.lastBaseUpdate=d))}if(i!==null){var Y=n.baseState;u=0,C=S=d=null,r=i;do{var N=r.lane&-536870913,T=N!==r.lane;if(T?(ze&N)===N:(a&N)===N){N!==0&&N===$a&&(Tu=!0),C!==null&&(C=C.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var ge=e,de=r;N=t;var Ke=l;switch(de.tag){case 1:if(ge=de.payload,typeof ge=="function"){Y=ge.call(Ke,Y,N);break e}Y=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=de.payload,N=typeof ge=="function"?ge.call(Ke,Y,N):ge,N==null)break e;Y=M({},Y,N);break e;case 2:Vl=!0}}N=r.callback,N!==null&&(e.flags|=64,T&&(e.flags|=8192),T=n.callbacks,T===null?n.callbacks=[N]:T.push(N))}else T={lane:N,tag:r.tag,payload:r.payload,callback:r.callback,next:null},C===null?(S=C=T,d=Y):C=C.next=T,u|=N;if(r=r.next,r===null){if(r=n.shared.pending,r===null)break;T=r,r=T.next,T.next=null,n.lastBaseUpdate=T,n.shared.pending=null}}while(!0);C===null&&(d=Y),n.baseState=d,n.firstBaseUpdate=S,n.lastBaseUpdate=C,i===null&&(n.shared.lanes=0),la|=u,e.lanes=u,e.memoizedState=Y}}function uf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function cf(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)uf(l[e],t)}var Fa=G(null),Xi=G(0);function rf(e,t){e=Ul,$(Xi,e),$(Fa,t),Ul=e|t.baseLanes}function Au(){$(Xi,Ul),$(Fa,Fa.current)}function Eu(){Ul=Xi.current,ee(Fa),ee(Xi)}var $l=0,Ee=null,Ze=null,dt=null,Li=!1,Pa=!1,Ea=!1,Zi=0,Ln=0,Ia=null,dh=0;function ft(){throw Error(o(321))}function wu(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Qt(e[l],t[l]))return!1;return!0}function Mu(e,t,l,a,n,i){return $l=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?Vf:Kf,Ea=!1,i=l(a,n),Ea=!1,Pa&&(i=of(t,l,a,n)),ff(e),i}function ff(e){A.H=Fi;var t=Ze!==null&&Ze.next!==null;if($l=0,dt=Ze=Ee=null,Li=!1,Ln=0,Ia=null,t)throw Error(o(300));e===null||xt||(e=e.dependencies,e!==null&&Bi(e)&&(xt=!0))}function of(e,t,l,a){Ee=e;var n=0;do{if(Pa&&(Ia=null),Ln=0,Pa=!1,25<=n)throw Error(o(301));if(n+=1,dt=Ze=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}A.H=vh,i=t(l,a)}while(Pa);return i}function mh(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?Zn(t):t,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Ee.flags|=1024),t}function Ou(){var e=Zi!==0;return Zi=0,e}function Du(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function qu(e){if(Li){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Li=!1}$l=0,dt=Ze=Ee=null,Pa=!1,Ln=Zi=0,Ia=null}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ee.memoizedState=dt=e:dt=dt.next=e,dt}function mt(){if(Ze===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=dt===null?Ee.memoizedState:dt.next;if(t!==null)dt=t,Ze=e;else{if(e===null)throw Ee.alternate===null?Error(o(467)):Error(o(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},dt===null?Ee.memoizedState=dt=e:dt=dt.next=e}return dt}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zn(e){var t=Ln;return Ln+=1,Ia===null&&(Ia=[]),e=af(Ia,e,t),t=Ee,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?Vf:Kf),e}function Vi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zn(e);if(e.$$typeof===me)return Dt(e)}throw Error(o(438,String(e)))}function Cu(e){var t=null,l=Ee.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=Ee.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=zu(),Ee.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=rt;return t.index++,l}function Ol(e,t){return typeof t=="function"?t(e):t}function Ki(e){var t=mt();return Ru(t,Ze,e)}function Ru(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var u=n.next;n.next=i.next,i.next=u}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var r=u=null,d=null,S=t,C=!1;do{var Y=S.lane&-536870913;if(Y!==S.lane?(ze&Y)===Y:($l&Y)===Y){var N=S.revertLane;if(N===0)d!==null&&(d=d.next={lane:0,revertLane:0,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),Y===$a&&(C=!0);else if(($l&N)===N){S=S.next,N===$a&&(C=!0);continue}else Y={lane:0,revertLane:S.revertLane,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},d===null?(r=d=Y,u=i):d=d.next=Y,Ee.lanes|=N,la|=N;Y=S.action,Ea&&l(i,Y),i=S.hasEagerState?S.eagerState:l(i,Y)}else N={lane:Y,revertLane:S.revertLane,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},d===null?(r=d=N,u=i):d=d.next=N,Ee.lanes|=Y,la|=Y;S=S.next}while(S!==null&&S!==t);if(d===null?u=i:d.next=r,!Qt(i,e.memoizedState)&&(xt=!0,C&&(l=Wa,l!==null)))throw l;e.memoizedState=i,e.baseState=u,e.baseQueue=d,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Uu(e){var t=mt(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var u=n=n.next;do i=e(i,u.action),u=u.next;while(u!==n);Qt(i,t.memoizedState)||(xt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function df(e,t,l){var a=Ee,n=mt(),i=Be;if(i){if(l===void 0)throw Error(o(407));l=l()}else l=t();var u=!Qt((Ze||n).memoizedState,l);u&&(n.memoizedState=l,xt=!0),n=n.queue;var r=yf.bind(null,a,n,e);if(Vn(2048,8,r,[e]),n.getSnapshot!==t||u||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,en(9,Ji(),hf.bind(null,a,n,l,t),null),Ie===null)throw Error(o(349));i||($l&124)!==0||mf(a,t,l)}return l}function mf(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Ee.updateQueue,t===null?(t=zu(),Ee.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function hf(e,t,l,a){t.value=l,t.getSnapshot=a,pf(t)&&gf(e)}function yf(e,t,l){return l(function(){pf(t)&&gf(e)})}function pf(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Qt(e,l)}catch{return!0}}function gf(e){var t=Za(e,2);t!==null&&Jt(t,e,2)}function Hu(e){var t=Ht();if(typeof e=="function"){var l=e;if(e=l(),Ea){jt(!0);try{l()}finally{jt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:e},t}function xf(e,t,l,a){return e.baseState=l,Ru(e,Ze,typeof a=="function"?a:Ol)}function hh(e,t,l,a,n){if(Wi(e))throw Error(o(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){i.listeners.push(u)}};A.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,vf(t,i)):(i.next=l.next,t.pending=l.next=i)}}function vf(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=A.T,u={};A.T=u;try{var r=l(n,a),d=A.S;d!==null&&d(u,r),bf(e,t,r)}catch(S){Bu(e,t,S)}finally{A.T=i}}else try{i=l(n,a),bf(e,t,i)}catch(S){Bu(e,t,S)}}function bf(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){_f(e,t,a)},function(a){return Bu(e,t,a)}):_f(e,t,l)}function _f(e,t,l){t.status="fulfilled",t.value=l,Sf(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,vf(e,l)))}function Bu(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Sf(t),t=t.next;while(t!==a)}e.action=null}function Sf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function jf(e,t){return t}function Nf(e,t){if(Be){var l=Ie.formState;if(l!==null){e:{var a=Ee;if(Be){if(ut){t:{for(var n=ut,i=dl;n.nodeType!==8;){if(!i){n=null;break t}if(n=fl(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){ut=fl(n.nextSibling),a=n.data==="F!";break e}}ja(a)}a=!1}a&&(t=l[0])}}return l=Ht(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jf,lastRenderedState:t},l.queue=a,l=Xf.bind(null,Ee,a),a.dispatch=l,a=Hu(!1),i=Xu.bind(null,Ee,!1,a.queue),a=Ht(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=hh.bind(null,Ee,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Tf(e){var t=mt();return Af(t,Ze,e)}function Af(e,t,l){if(t=Ru(e,t,jf)[0],e=Ki(Ol)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Zn(t)}catch(u){throw u===Yn?ki:u}else a=t;t=mt();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(Ee.flags|=2048,en(9,Ji(),yh.bind(null,n,l),null)),[a,i,e]}function yh(e,t){e.action=t}function Ef(e){var t=mt(),l=Ze;if(l!==null)return Af(t,l,e);mt(),t=t.memoizedState,l=mt();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function en(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=zu(),Ee.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Ji(){return{destroy:void 0,resource:void 0}}function wf(){return mt().memoizedState}function $i(e,t,l,a){var n=Ht();a=a===void 0?null:a,Ee.flags|=e,n.memoizedState=en(1|t,Ji(),l,a)}function Vn(e,t,l,a){var n=mt();a=a===void 0?null:a;var i=n.memoizedState.inst;Ze!==null&&a!==null&&wu(a,Ze.memoizedState.deps)?n.memoizedState=en(t,i,l,a):(Ee.flags|=e,n.memoizedState=en(1|t,i,l,a))}function Mf(e,t){$i(8390656,8,e,t)}function Of(e,t){Vn(2048,8,e,t)}function Df(e,t){return Vn(4,2,e,t)}function qf(e,t){return Vn(4,4,e,t)}function zf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cf(e,t,l){l=l!=null?l.concat([e]):null,Vn(4,4,zf.bind(null,t,e),l)}function Yu(){}function Rf(e,t){var l=mt();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&wu(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Uf(e,t){var l=mt();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&wu(t,a[1]))return a[0];if(a=e(),Ea){jt(!0);try{e()}finally{jt(!1)}}return l.memoizedState=[a,t],a}function Gu(e,t,l){return l===void 0||($l&1073741824)!==0?e.memoizedState=t:(e.memoizedState=l,e=Go(),Ee.lanes|=e,la|=e,l)}function Hf(e,t,l,a){return Qt(l,t)?l:Fa.current!==null?(e=Gu(e,l,a),Qt(e,t)||(xt=!0),e):($l&42)===0?(xt=!0,e.memoizedState=l):(e=Go(),Ee.lanes|=e,la|=e,t)}function Bf(e,t,l,a,n){var i=X.p;X.p=i!==0&&8>i?i:8;var u=A.T,r={};A.T=r,Xu(e,!1,t,l);try{var d=n(),S=A.S;if(S!==null&&S(r,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var C=oh(d,a);Kn(e,t,C,Kt(e))}else Kn(e,t,a,Kt(e))}catch(Y){Kn(e,t,{then:function(){},status:"rejected",reason:Y},Kt())}finally{X.p=i,A.T=u}}function ph(){}function ku(e,t,l,a){if(e.tag!==5)throw Error(o(476));var n=Yf(e).queue;Bf(e,n,t,U,l===null?ph:function(){return Gf(e),l(a)})}function Yf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:U},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gf(e){var t=Yf(e).next.queue;Kn(e,t,{},Kt())}function Qu(){return Dt(oi)}function kf(){return mt().memoizedState}function Qf(){return mt().memoizedState}function gh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Kt();e=Kl(l);var a=Jl(t,e,l);a!==null&&(Jt(a,t,l),kn(a,t,l)),t={cache:xu()},e.payload=t;return}t=t.return}}function xh(e,t,l){var a=Kt();l={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Wi(e)?Lf(t,l):(l=cu(e,t,l,a),l!==null&&(Jt(l,e,a),Zf(l,t,a)))}function Xf(e,t,l){var a=Kt();Kn(e,t,l,a)}function Kn(e,t,l,a){var n={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wi(e))Lf(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var u=t.lastRenderedState,r=i(u,l);if(n.hasEagerState=!0,n.eagerState=r,Qt(r,u))return zi(e,t,n,0),Ie===null&&qi(),!1}catch{}finally{}if(l=cu(e,t,n,a),l!==null)return Jt(l,e,a),Zf(l,t,a),!0}return!1}function Xu(e,t,l,a){if(a={lane:2,revertLane:_c(),action:a,hasEagerState:!1,eagerState:null,next:null},Wi(e)){if(t)throw Error(o(479))}else t=cu(e,l,a,2),t!==null&&Jt(t,e,2)}function Wi(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Lf(e,t){Pa=Li=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Zf(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,kt(e,l)}}var Fi={readContext:Dt,use:Vi,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},Vf={readContext:Dt,use:Vi,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Mf,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,$i(4194308,4,zf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return $i(4194308,4,e,t)},useInsertionEffect:function(e,t){$i(4,2,e,t)},useMemo:function(e,t){var l=Ht();t=t===void 0?null:t;var a=e();if(Ea){jt(!0);try{e()}finally{jt(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Ht();if(l!==void 0){var n=l(t);if(Ea){jt(!0);try{l(t)}finally{jt(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=xh.bind(null,Ee,e),[a.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:function(e){e=Hu(e);var t=e.queue,l=Xf.bind(null,Ee,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Yu,useDeferredValue:function(e,t){var l=Ht();return Gu(l,e,t)},useTransition:function(){var e=Hu(!1);return e=Bf.bind(null,Ee,e.queue,!0,!1),Ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=Ee,n=Ht();if(Be){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Ie===null)throw Error(o(349));(ze&124)!==0||mf(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,Mf(yf.bind(null,a,i,e),[e]),a.flags|=2048,en(9,Ji(),hf.bind(null,a,i,l,t),null),l},useId:function(){var e=Ht(),t=Ie.identifierPrefix;if(Be){var l=El,a=Al;l=(a&~(1<<32-st(a)-1)).toString(32)+l,t=""+t+"R"+l,l=Zi++,0<l&&(t+="H"+l.toString(32)),t+=""}else l=dh++,t=""+t+"r"+l.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Qu,useFormState:Nf,useActionState:Nf,useOptimistic:function(e){var t=Ht();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Xu.bind(null,Ee,!0,l),l.dispatch=t,[e,t]},useMemoCache:Cu,useCacheRefresh:function(){return Ht().memoizedState=gh.bind(null,Ee)}},Kf={readContext:Dt,use:Vi,useCallback:Rf,useContext:Dt,useEffect:Of,useImperativeHandle:Cf,useInsertionEffect:Df,useLayoutEffect:qf,useMemo:Uf,useReducer:Ki,useRef:wf,useState:function(){return Ki(Ol)},useDebugValue:Yu,useDeferredValue:function(e,t){var l=mt();return Hf(l,Ze.memoizedState,e,t)},useTransition:function(){var e=Ki(Ol)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:Zn(e),t]},useSyncExternalStore:df,useId:kf,useHostTransitionStatus:Qu,useFormState:Tf,useActionState:Tf,useOptimistic:function(e,t){var l=mt();return xf(l,Ze,e,t)},useMemoCache:Cu,useCacheRefresh:Qf},vh={readContext:Dt,use:Vi,useCallback:Rf,useContext:Dt,useEffect:Of,useImperativeHandle:Cf,useInsertionEffect:Df,useLayoutEffect:qf,useMemo:Uf,useReducer:Uu,useRef:wf,useState:function(){return Uu(Ol)},useDebugValue:Yu,useDeferredValue:function(e,t){var l=mt();return Ze===null?Gu(l,e,t):Hf(l,Ze.memoizedState,e,t)},useTransition:function(){var e=Uu(Ol)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:Zn(e),t]},useSyncExternalStore:df,useId:kf,useHostTransitionStatus:Qu,useFormState:Ef,useActionState:Ef,useOptimistic:function(e,t){var l=mt();return Ze!==null?xf(l,Ze,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Cu,useCacheRefresh:Qf},tn=null,Jn=0;function Pi(e){var t=Jn;return Jn+=1,tn===null&&(tn=[]),af(tn,e,t)}function $n(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ii(e,t){throw t.$$typeof===Q?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Jf(e){var t=e._init;return t(e._payload)}function $f(e){function t(x,p){if(e){var _=x.deletions;_===null?(x.deletions=[p],x.flags|=16):_.push(p)}}function l(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function a(x){for(var p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function n(x,p){return x=Tl(x,p),x.index=0,x.sibling=null,x}function i(x,p,_){return x.index=_,e?(_=x.alternate,_!==null?(_=_.index,_<p?(x.flags|=67108866,p):_):(x.flags|=67108866,p)):(x.flags|=1048576,p)}function u(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function r(x,p,_,R){return p===null||p.tag!==6?(p=fu(_,x.mode,R),p.return=x,p):(p=n(p,_),p.return=x,p)}function d(x,p,_,R){var te=_.type;return te===ue?C(x,p,_.props.children,R,_.key):p!==null&&(p.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===he&&Jf(te)===p.type)?(p=n(p,_.props),$n(p,_),p.return=x,p):(p=Ri(_.type,_.key,_.props,null,x.mode,R),$n(p,_),p.return=x,p)}function S(x,p,_,R){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=ou(_,x.mode,R),p.return=x,p):(p=n(p,_.children||[]),p.return=x,p)}function C(x,p,_,R,te){return p===null||p.tag!==7?(p=va(_,x.mode,R,te),p.return=x,p):(p=n(p,_),p.return=x,p)}function Y(x,p,_){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=fu(""+p,x.mode,_),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case H:return _=Ri(p.type,p.key,p.props,null,x.mode,_),$n(_,p),_.return=x,_;case V:return p=ou(p,x.mode,_),p.return=x,p;case he:var R=p._init;return p=R(p._payload),Y(x,p,_)}if(Te(p)||B(p))return p=va(p,x.mode,_,null),p.return=x,p;if(typeof p.then=="function")return Y(x,Pi(p),_);if(p.$$typeof===me)return Y(x,Yi(x,p),_);Ii(x,p)}return null}function N(x,p,_,R){var te=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return te!==null?null:r(x,p,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case H:return _.key===te?d(x,p,_,R):null;case V:return _.key===te?S(x,p,_,R):null;case he:return te=_._init,_=te(_._payload),N(x,p,_,R)}if(Te(_)||B(_))return te!==null?null:C(x,p,_,R,null);if(typeof _.then=="function")return N(x,p,Pi(_),R);if(_.$$typeof===me)return N(x,p,Yi(x,_),R);Ii(x,_)}return null}function T(x,p,_,R,te){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return x=x.get(_)||null,r(p,x,""+R,te);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case H:return x=x.get(R.key===null?_:R.key)||null,d(p,x,R,te);case V:return x=x.get(R.key===null?_:R.key)||null,S(p,x,R,te);case he:var we=R._init;return R=we(R._payload),T(x,p,_,R,te)}if(Te(R)||B(R))return x=x.get(_)||null,C(p,x,R,te,null);if(typeof R.then=="function")return T(x,p,_,Pi(R),te);if(R.$$typeof===me)return T(x,p,_,Yi(p,R),te);Ii(p,R)}return null}function ge(x,p,_,R){for(var te=null,we=null,ne=p,ye=p=0,bt=null;ne!==null&&ye<_.length;ye++){ne.index>ye?(bt=ne,ne=null):bt=ne.sibling;var Re=N(x,ne,_[ye],R);if(Re===null){ne===null&&(ne=bt);break}e&&ne&&Re.alternate===null&&t(x,ne),p=i(Re,p,ye),we===null?te=Re:we.sibling=Re,we=Re,ne=bt}if(ye===_.length)return l(x,ne),Be&&_a(x,ye),te;if(ne===null){for(;ye<_.length;ye++)ne=Y(x,_[ye],R),ne!==null&&(p=i(ne,p,ye),we===null?te=ne:we.sibling=ne,we=ne);return Be&&_a(x,ye),te}for(ne=a(ne);ye<_.length;ye++)bt=T(ne,x,ye,_[ye],R),bt!==null&&(e&&bt.alternate!==null&&ne.delete(bt.key===null?ye:bt.key),p=i(bt,p,ye),we===null?te=bt:we.sibling=bt,we=bt);return e&&ne.forEach(function(oa){return t(x,oa)}),Be&&_a(x,ye),te}function de(x,p,_,R){if(_==null)throw Error(o(151));for(var te=null,we=null,ne=p,ye=p=0,bt=null,Re=_.next();ne!==null&&!Re.done;ye++,Re=_.next()){ne.index>ye?(bt=ne,ne=null):bt=ne.sibling;var oa=N(x,ne,Re.value,R);if(oa===null){ne===null&&(ne=bt);break}e&&ne&&oa.alternate===null&&t(x,ne),p=i(oa,p,ye),we===null?te=oa:we.sibling=oa,we=oa,ne=bt}if(Re.done)return l(x,ne),Be&&_a(x,ye),te;if(ne===null){for(;!Re.done;ye++,Re=_.next())Re=Y(x,Re.value,R),Re!==null&&(p=i(Re,p,ye),we===null?te=Re:we.sibling=Re,we=Re);return Be&&_a(x,ye),te}for(ne=a(ne);!Re.done;ye++,Re=_.next())Re=T(ne,x,ye,Re.value,R),Re!==null&&(e&&Re.alternate!==null&&ne.delete(Re.key===null?ye:Re.key),p=i(Re,p,ye),we===null?te=Re:we.sibling=Re,we=Re);return e&&ne.forEach(function(by){return t(x,by)}),Be&&_a(x,ye),te}function Ke(x,p,_,R){if(typeof _=="object"&&_!==null&&_.type===ue&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case H:e:{for(var te=_.key;p!==null;){if(p.key===te){if(te=_.type,te===ue){if(p.tag===7){l(x,p.sibling),R=n(p,_.props.children),R.return=x,x=R;break e}}else if(p.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===he&&Jf(te)===p.type){l(x,p.sibling),R=n(p,_.props),$n(R,_),R.return=x,x=R;break e}l(x,p);break}else t(x,p);p=p.sibling}_.type===ue?(R=va(_.props.children,x.mode,R,_.key),R.return=x,x=R):(R=Ri(_.type,_.key,_.props,null,x.mode,R),$n(R,_),R.return=x,x=R)}return u(x);case V:e:{for(te=_.key;p!==null;){if(p.key===te)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){l(x,p.sibling),R=n(p,_.children||[]),R.return=x,x=R;break e}else{l(x,p);break}else t(x,p);p=p.sibling}R=ou(_,x.mode,R),R.return=x,x=R}return u(x);case he:return te=_._init,_=te(_._payload),Ke(x,p,_,R)}if(Te(_))return ge(x,p,_,R);if(B(_)){if(te=B(_),typeof te!="function")throw Error(o(150));return _=te.call(_),de(x,p,_,R)}if(typeof _.then=="function")return Ke(x,p,Pi(_),R);if(_.$$typeof===me)return Ke(x,p,Yi(x,_),R);Ii(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,p!==null&&p.tag===6?(l(x,p.sibling),R=n(p,_),R.return=x,x=R):(l(x,p),R=fu(_,x.mode,R),R.return=x,x=R),u(x)):l(x,p)}return function(x,p,_,R){try{Jn=0;var te=Ke(x,p,_,R);return tn=null,te}catch(ne){if(ne===Yn||ne===ki)throw ne;var we=Xt(29,ne,null,x.mode);return we.lanes=R,we.return=x,we}finally{}}}var ln=$f(!0),Wf=$f(!1),ll=G(null),ml=null;function Wl(e){var t=e.alternate;$(pt,pt.current&1),$(ll,e),ml===null&&(t===null||Fa.current!==null||t.memoizedState!==null)&&(ml=e)}function Ff(e){if(e.tag===22){if($(pt,pt.current),$(ll,e),ml===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ml=e)}}else Fl()}function Fl(){$(pt,pt.current),$(ll,ll.current)}function Dl(e){ee(ll),ml===e&&(ml=null),ee(pt)}var pt=G(0);function es(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||zc(l)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Lu(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:M({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Zu={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Kt(),n=Kl(a);n.payload=t,l!=null&&(n.callback=l),t=Jl(e,n,a),t!==null&&(Jt(t,e,a),kn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Kt(),n=Kl(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=Jl(e,n,a),t!==null&&(Jt(t,e,a),kn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Kt(),a=Kl(l);a.tag=2,t!=null&&(a.callback=t),t=Jl(e,a,l),t!==null&&(Jt(t,e,l),kn(t,e,l))}};function Pf(e,t,l,a,n,i,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,u):t.prototype&&t.prototype.isPureReactComponent?!Dn(l,a)||!Dn(n,i):!0}function If(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Zu.enqueueReplaceState(t,t.state,null)}function wa(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=M({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}var ts=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function eo(e){ts(e)}function to(e){console.error(e)}function lo(e){ts(e)}function ls(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ao(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Vu(e,t,l){return l=Kl(l),l.tag=3,l.payload={element:null},l.callback=function(){ls(e,t)},l}function no(e){return e=Kl(e),e.tag=3,e}function io(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){ao(t,l,a)}}var u=l.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){ao(t,l,a),typeof n!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var r=a.stack;this.componentDidCatch(a.value,{componentStack:r!==null?r:""})})}function bh(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Un(t,l,n,!0),l=ll.current,l!==null){switch(l.tag){case 13:return ml===null?pc():l.alternate===null&&ct===0&&(ct=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===_u?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),xc(e,a,n)),!1;case 22:return l.flags|=65536,a===_u?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),xc(e,a,n)),!1}throw Error(o(435,l.tag))}return xc(e,a,n),pc(),!1}if(Be)return t=ll.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==hu&&(e=Error(o(422),{cause:a}),Rn(Pt(e,l)))):(a!==hu&&(t=Error(o(423),{cause:a}),Rn(Pt(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=Pt(a,l),n=Vu(e.stateNode,a,n),Nu(e,n),ct!==4&&(ct=2)),!1;var i=Error(o(520),{cause:a});if(i=Pt(i,l),li===null?li=[i]:li.push(i),ct!==4&&(ct=2),t===null)return!0;a=Pt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Vu(l.stateNode,a,e),Nu(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(aa===null||!aa.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=no(n),io(n,e,l,a),Nu(l,n),!1}l=l.return}while(l!==null);return!1}var so=Error(o(461)),xt=!1;function Tt(e,t,l,a){t.child=e===null?Wf(t,null,l,a):ln(t,e.child,l,a)}function uo(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var u={};for(var r in a)r!=="ref"&&(u[r]=a[r])}else u=a;return Ta(t),a=Mu(e,t,l,u,i,n),r=Ou(),e!==null&&!xt?(Du(e,t,n),ql(e,t,n)):(Be&&r&&du(t),t.flags|=1,Tt(e,t,a,n),t.child)}function co(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!ru(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,ro(e,t,i,a,n)):(e=Ri(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!ec(e,n)){var u=i.memoizedProps;if(l=l.compare,l=l!==null?l:Dn,l(u,a)&&e.ref===t.ref)return ql(e,t,n)}return t.flags|=1,e=Tl(i,a),e.ref=t.ref,e.return=t,t.child=e}function ro(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(Dn(i,a)&&e.ref===t.ref)if(xt=!1,t.pendingProps=a=i,ec(e,n))(e.flags&131072)!==0&&(xt=!0);else return t.lanes=e.lanes,ql(e,t,n)}return Ku(e,t,l,a,n)}function fo(e,t,l){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=i!==null?i.baseLanes|l:l,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;t.childLanes=i&~a}else t.childLanes=0,t.child=null;return oo(e,t,a,l)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gi(t,i!==null?i.cachePool:null),i!==null?rf(t,i):Au(),Ff(t);else return t.lanes=t.childLanes=536870912,oo(e,t,i!==null?i.baseLanes|l:l,l)}else i!==null?(Gi(t,i.cachePool),rf(t,i),Fl(),t.memoizedState=null):(e!==null&&Gi(t,null),Au(),Fl());return Tt(e,t,n,l),t.child}function oo(e,t,l,a){var n=bu();return n=n===null?null:{parent:yt._currentValue,pool:n},t.memoizedState={baseLanes:l,cachePool:n},e!==null&&Gi(t,null),Au(),Ff(t),e!==null&&Un(e,t,a,!0),null}function as(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Ku(e,t,l,a,n){return Ta(t),l=Mu(e,t,l,a,void 0,n),a=Ou(),e!==null&&!xt?(Du(e,t,n),ql(e,t,n)):(Be&&a&&du(t),t.flags|=1,Tt(e,t,l,n),t.child)}function mo(e,t,l,a,n,i){return Ta(t),t.updateQueue=null,l=of(t,a,l,n),ff(e),a=Ou(),e!==null&&!xt?(Du(e,t,i),ql(e,t,i)):(Be&&a&&du(t),t.flags|=1,Tt(e,t,l,i),t.child)}function ho(e,t,l,a,n){if(Ta(t),t.stateNode===null){var i=Va,u=l.contextType;typeof u=="object"&&u!==null&&(i=Dt(u)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Zu,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},Su(t),u=l.contextType,i.context=typeof u=="object"&&u!==null?Dt(u):Va,i.state=t.memoizedState,u=l.getDerivedStateFromProps,typeof u=="function"&&(Lu(t,l,u,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(u=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),u!==i.state&&Zu.enqueueReplaceState(i,i.state,null),Xn(t,a,i,n),Qn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var r=t.memoizedProps,d=wa(l,r);i.props=d;var S=i.context,C=l.contextType;u=Va,typeof C=="object"&&C!==null&&(u=Dt(C));var Y=l.getDerivedStateFromProps;C=typeof Y=="function"||typeof i.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,C||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r||S!==u)&&If(t,i,a,u),Vl=!1;var N=t.memoizedState;i.state=N,Xn(t,a,i,n),Qn(),S=t.memoizedState,r||N!==S||Vl?(typeof Y=="function"&&(Lu(t,l,Y,a),S=t.memoizedState),(d=Vl||Pf(t,l,d,a,N,S,u))?(C||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=S),i.props=a,i.state=S,i.context=u,a=d):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,ju(e,t),u=t.memoizedProps,C=wa(l,u),i.props=C,Y=t.pendingProps,N=i.context,S=l.contextType,d=Va,typeof S=="object"&&S!==null&&(d=Dt(S)),r=l.getDerivedStateFromProps,(S=typeof r=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==Y||N!==d)&&If(t,i,a,d),Vl=!1,N=t.memoizedState,i.state=N,Xn(t,a,i,n),Qn();var T=t.memoizedState;u!==Y||N!==T||Vl||e!==null&&e.dependencies!==null&&Bi(e.dependencies)?(typeof r=="function"&&(Lu(t,l,r,a),T=t.memoizedState),(C=Vl||Pf(t,l,C,a,N,T,d)||e!==null&&e.dependencies!==null&&Bi(e.dependencies))?(S||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,T,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,T,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=T),i.props=a,i.state=T,i.context=d,a=C):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,as(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=ln(t,e.child,null,n),t.child=ln(t,null,l,n)):Tt(e,t,l,n),t.memoizedState=i.state,e=t.child):e=ql(e,t,n),e}function yo(e,t,l,a){return Cn(),t.flags|=256,Tt(e,t,l,a),t.child}var Ju={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $u(e){return{baseLanes:e,cachePool:ef()}}function Wu(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=al),e}function po(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),u&&(n=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(Be){if(n?Wl(t):Fl(),Be){var r=ut,d;if(d=r){e:{for(d=r,r=dl;d.nodeType!==8;){if(!r){r=null;break e}if(d=fl(d.nextSibling),d===null){r=null;break e}}r=d}r!==null?(t.memoizedState={dehydrated:r,treeContext:ba!==null?{id:Al,overflow:El}:null,retryLane:536870912,hydrationErrors:null},d=Xt(18,null,null,0),d.stateNode=r,d.return=t,t.child=d,Ct=t,ut=null,d=!0):d=!1}d||ja(t)}if(r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null))return zc(r)?t.lanes=32:t.lanes=536870912,null;Dl(t)}return r=a.children,a=a.fallback,n?(Fl(),n=t.mode,r=ns({mode:"hidden",children:r},n),a=va(a,n,l,null),r.return=t,a.return=t,r.sibling=a,t.child=r,n=t.child,n.memoizedState=$u(l),n.childLanes=Wu(e,u,l),t.memoizedState=Ju,a):(Wl(t),Fu(t,r))}if(d=e.memoizedState,d!==null&&(r=d.dehydrated,r!==null)){if(i)t.flags&256?(Wl(t),t.flags&=-257,t=Pu(e,t,l)):t.memoizedState!==null?(Fl(),t.child=e.child,t.flags|=128,t=null):(Fl(),n=a.fallback,r=t.mode,a=ns({mode:"visible",children:a.children},r),n=va(n,r,l,null),n.flags|=2,a.return=t,n.return=t,a.sibling=n,t.child=a,ln(t,e.child,null,l),a=t.child,a.memoizedState=$u(l),a.childLanes=Wu(e,u,l),t.memoizedState=Ju,t=n);else if(Wl(t),zc(r)){if(u=r.nextSibling&&r.nextSibling.dataset,u)var S=u.dgst;u=S,a=Error(o(419)),a.stack="",a.digest=u,Rn({value:a,source:null,stack:null}),t=Pu(e,t,l)}else if(xt||Un(e,t,l,!1),u=(l&e.childLanes)!==0,xt||u){if(u=Ie,u!==null&&(a=l&-l,a=(a&42)!==0?1:Sn(a),a=(a&(u.suspendedLanes|l))!==0?0:a,a!==0&&a!==d.retryLane))throw d.retryLane=a,Za(e,a),Jt(u,e,a),so;r.data==="$?"||pc(),t=Pu(e,t,l)}else r.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=d.treeContext,ut=fl(r.nextSibling),Ct=t,Be=!0,Sa=null,dl=!1,e!==null&&(el[tl++]=Al,el[tl++]=El,el[tl++]=ba,Al=e.id,El=e.overflow,ba=t),t=Fu(t,a.children),t.flags|=4096);return t}return n?(Fl(),n=a.fallback,r=t.mode,d=e.child,S=d.sibling,a=Tl(d,{mode:"hidden",children:a.children}),a.subtreeFlags=d.subtreeFlags&65011712,S!==null?n=Tl(S,n):(n=va(n,r,l,null),n.flags|=2),n.return=t,a.return=t,a.sibling=n,t.child=a,a=n,n=t.child,r=e.child.memoizedState,r===null?r=$u(l):(d=r.cachePool,d!==null?(S=yt._currentValue,d=d.parent!==S?{parent:S,pool:S}:d):d=ef(),r={baseLanes:r.baseLanes|l,cachePool:d}),n.memoizedState=r,n.childLanes=Wu(e,u,l),t.memoizedState=Ju,a):(Wl(t),l=e.child,e=l.sibling,l=Tl(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=l,t.memoizedState=null,l)}function Fu(e,t){return t=ns({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ns(e,t){return e=Xt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Pu(e,t,l){return ln(t,e.child,null,l),e=Fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function go(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),pu(e.return,t,l)}function Iu(e,t,l,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=l,i.tailMode=n)}function xo(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(Tt(e,t,a.children,l),a=pt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&go(e,l,t);else if(e.tag===19)go(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch($(pt,a),n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&es(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Iu(t,!1,n,l,i);break;case"backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&es(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Iu(t,!0,l,null,i);break;case"together":Iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),la|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Un(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=Tl(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Tl(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function ec(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Bi(e)))}function _h(e,t,l){switch(t.tag){case 3:He(t,t.stateNode.containerInfo),Zl(t,yt,e.memoizedState.cache),Cn();break;case 27:case 5:St(t);break;case 4:He(t,t.stateNode.containerInfo);break;case 10:Zl(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Wl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?po(e,t,l):(Wl(t),e=ql(e,t,l),e!==null?e.sibling:null);Wl(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Un(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return xo(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),$(pt,pt.current),a)break;return null;case 22:case 23:return t.lanes=0,fo(e,t,l);case 24:Zl(t,yt,e.memoizedState.cache)}return ql(e,t,l)}function vo(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)xt=!0;else{if(!ec(e,l)&&(t.flags&128)===0)return xt=!1,_h(e,t,l);xt=(e.flags&131072)!==0}else xt=!1,Be&&(t.flags&1048576)!==0&&Kr(t,Hi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,n=a._init;if(a=n(a._payload),t.type=a,typeof a=="function")ru(a)?(e=wa(a,e),t.tag=1,t=ho(null,t,a,e,l)):(t.tag=0,t=Ku(null,t,a,e,l));else{if(a!=null){if(n=a.$$typeof,n===le){t.tag=11,t=uo(null,t,a,e,l);break e}else if(n===Ye){t.tag=14,t=co(null,t,a,e,l);break e}}throw t=Ue(a)||a,Error(o(306,t,""))}}return t;case 0:return Ku(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=wa(a,t.pendingProps),ho(e,t,a,n,l);case 3:e:{if(He(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,ju(e,t),Xn(t,a,null,l);var u=t.memoizedState;if(a=u.cache,Zl(t,yt,a),a!==i.cache&&gu(t,[yt],l,!0),Qn(),a=u.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=yo(e,t,a,l);break e}else if(a!==n){n=Pt(Error(o(424)),t),Rn(n),t=yo(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ut=fl(e.firstChild),Ct=t,Be=!0,Sa=null,dl=!0,l=Wf(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Cn(),a===n){t=ql(e,t,l);break e}Tt(e,t,a,l)}t=t.child}return t;case 26:return as(e,t),e===null?(l=jd(t.type,null,t.pendingProps,null))?t.memoizedState=l:Be||(l=t.type,e=t.pendingProps,a=xs(pe.current).createElement(l),a[ht]=t,a[Nt]=e,Et(a,l,e),Me(a),t.stateNode=a):t.memoizedState=jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return St(t),e===null&&Be&&(a=t.stateNode=bd(t.type,t.pendingProps,pe.current),Ct=t,dl=!0,n=ut,sa(t.type)?(Cc=n,ut=fl(a.firstChild)):ut=n),Tt(e,t,t.pendingProps.children,l),as(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Be&&((n=a=ut)&&(a=$h(a,t.type,t.pendingProps,dl),a!==null?(t.stateNode=a,Ct=t,ut=fl(a.firstChild),dl=!1,n=!0):n=!1),n||ja(t)),St(t),n=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,a=i.children,Oc(n,i)?a=null:u!==null&&Oc(n,u)&&(t.flags|=32),t.memoizedState!==null&&(n=Mu(e,t,mh,null,null,l),oi._currentValue=n),as(e,t),Tt(e,t,a,l),t.child;case 6:return e===null&&Be&&((e=l=ut)&&(l=Wh(l,t.pendingProps,dl),l!==null?(t.stateNode=l,Ct=t,ut=null,e=!0):e=!1),e||ja(t)),null;case 13:return po(e,t,l);case 4:return He(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ln(t,null,a,l):Tt(e,t,a,l),t.child;case 11:return uo(e,t,t.type,t.pendingProps,l);case 7:return Tt(e,t,t.pendingProps,l),t.child;case 8:return Tt(e,t,t.pendingProps.children,l),t.child;case 12:return Tt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Zl(t,t.type,a.value),Tt(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,Ta(t),n=Dt(n),a=a(n),t.flags|=1,Tt(e,t,a,l),t.child;case 14:return co(e,t,t.type,t.pendingProps,l);case 15:return ro(e,t,t.type,t.pendingProps,l);case 19:return xo(e,t,l);case 31:return a=t.pendingProps,l=t.mode,a={mode:a.mode,children:a.children},e===null?(l=ns(a,l),l.ref=t.ref,t.child=l,l.return=t,t=l):(l=Tl(e.child,a),l.ref=t.ref,t.child=l,l.return=t,t=l),t;case 22:return fo(e,t,l);case 24:return Ta(t),a=Dt(yt),e===null?(n=bu(),n===null&&(n=Ie,i=xu(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},Su(t),Zl(t,yt,n)):((e.lanes&l)!==0&&(ju(e,t),Xn(t,null,null,l),Qn()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Zl(t,yt,a)):(a=i.cache,Zl(t,yt,a),a!==n.cache&&gu(t,[yt],l,!0))),Tt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function zl(e){e.flags|=4}function bo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wd(t)){if(t=ll.current,t!==null&&((ze&4194048)===ze?ml!==null:(ze&62914560)!==ze&&(ze&536870912)===0||t!==ml))throw Gn=_u,tf;e.flags|=8192}}function is(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gl():536870912,e.lanes|=t,un|=t)}function Wn(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function Sh(e,t,l){var a=t.pendingProps;switch(mu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return nt(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ml(yt),zt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(zn(t)?zl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Wr())),nt(t),null;case 26:return l=t.memoizedState,e===null?(zl(t),l!==null?(nt(t),bo(t,l)):(nt(t),t.flags&=-16777217)):l?l!==e.memoizedState?(zl(t),nt(t),bo(t,l)):(nt(t),t.flags&=-16777217):(e.memoizedProps!==a&&zl(t),nt(t),t.flags&=-16777217),null;case 27:it(t),l=pe.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&zl(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return nt(t),null}e=ce.current,zn(t)?Jr(t):(e=bd(n,a,l),t.stateNode=e,zl(t))}return nt(t),null;case 5:if(it(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&zl(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return nt(t),null}if(e=ce.current,zn(t))Jr(t);else{switch(n=xs(pe.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?n.createElement("select",{is:a.is}):n.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?n.createElement(l,{is:a.is}):n.createElement(l)}}e[ht]=t,e[Nt]=a;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Et(e,l,a),l){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&zl(t)}}return nt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&zl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=pe.current,zn(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=Ct,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[ht]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||md(e.nodeValue,l)),e||ja(t)}else e=xs(e).createTextNode(a),e[ht]=t,t.stateNode=e}return nt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=zn(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[ht]=t}else Cn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),n=!1}else n=Wr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Dl(t),t):(Dl(t),null)}if(Dl(t),(t.flags&128)!==0)return t.lanes=l,t;if(l=a!==null,e=e!==null&&e.memoizedState!==null,l){a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool);var i=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)}return l!==e&&l&&(t.child.flags|=8192),is(t,t.updateQueue),nt(t),null;case 4:return zt(),e===null&&Tc(t.stateNode.containerInfo),nt(t),null;case 10:return Ml(t.type),nt(t),null;case 19:if(ee(pt),n=t.memoizedState,n===null)return nt(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)Wn(n,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=es(e),i!==null){for(t.flags|=128,Wn(n,!1),e=i.updateQueue,t.updateQueue=e,is(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Vr(l,e),l=l.sibling;return $(pt,pt.current&1|2),t.child}e=e.sibling}n.tail!==null&&L()>cs&&(t.flags|=128,a=!0,Wn(n,!1),t.lanes=4194304)}else{if(!a)if(e=es(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,is(t,e),Wn(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!Be)return nt(t),null}else 2*L()-n.renderingStartTime>cs&&l!==536870912&&(t.flags|=128,a=!0,Wn(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=L(),t.sibling=null,e=pt.current,$(pt,a?e&1|2:e&1),t):(nt(t),null);case 22:case 23:return Dl(t),Eu(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),l=t.updateQueue,l!==null&&is(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&ee(Aa),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ml(yt),nt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function jh(e,t){switch(mu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ml(yt),zt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return it(t),null;case 13:if(Dl(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(pt),null;case 4:return zt(),null;case 10:return Ml(t.type),null;case 22:case 23:return Dl(t),Eu(),e!==null&&ee(Aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ml(yt),null;case 25:return null;default:return null}}function _o(e,t){switch(mu(t),t.tag){case 3:Ml(yt),zt();break;case 26:case 27:case 5:it(t);break;case 4:zt();break;case 13:Dl(t);break;case 19:ee(pt);break;case 10:Ml(t.type);break;case 22:case 23:Dl(t),Eu(),e!==null&&ee(Aa);break;case 24:Ml(yt)}}function Fn(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,u=l.inst;a=i(),u.destroy=a}l=l.next}while(l!==n)}}catch(r){Fe(t,t.return,r)}}function Pl(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var u=a.inst,r=u.destroy;if(r!==void 0){u.destroy=void 0,n=t;var d=l,S=r;try{S()}catch(C){Fe(n,d,C)}}}a=a.next}while(a!==i)}}catch(C){Fe(t,t.return,C)}}function So(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{cf(t,l)}catch(a){Fe(e,e.return,a)}}}function jo(e,t,l){l.props=wa(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Fe(e,t,a)}}function Pn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){Fe(e,t,n)}}function hl(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){Fe(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){Fe(e,t,n)}else l.current=null}function No(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){Fe(e,e.return,n)}}function tc(e,t,l){try{var a=e.stateNode;Lh(a,e.type,l,t),a[Nt]=t}catch(n){Fe(e,e.return,n)}}function To(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sa(e.type)||e.tag===4}function lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||To(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ac(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=gs));else if(a!==4&&(a===27&&sa(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(ac(e,t,l),e=e.sibling;e!==null;)ac(e,t,l),e=e.sibling}function ss(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&sa(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ss(e,t,l),e=e.sibling;e!==null;)ss(e,t,l),e=e.sibling}function Ao(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Et(t,a,l),t[ht]=e,t[Nt]=l}catch(i){Fe(e,e.return,i)}}var Cl=!1,ot=!1,nc=!1,Eo=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Nh(e,t){if(e=e.containerInfo,wc=Ns,e=Ur(e),lu(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var u=0,r=-1,d=-1,S=0,C=0,Y=e,N=null;t:for(;;){for(var T;Y!==l||n!==0&&Y.nodeType!==3||(r=u+n),Y!==i||a!==0&&Y.nodeType!==3||(d=u+a),Y.nodeType===3&&(u+=Y.nodeValue.length),(T=Y.firstChild)!==null;)N=Y,Y=T;for(;;){if(Y===e)break t;if(N===l&&++S===n&&(r=u),N===i&&++C===a&&(d=u),(T=Y.nextSibling)!==null)break;Y=N,N=Y.parentNode}Y=T}l=r===-1||d===-1?null:{start:r,end:d}}else l=null}l=l||{start:0,end:0}}else l=null;for(Mc={focusedElem:e,selectionRange:l},Ns=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var ge=wa(l.type,n,l.elementType===l.type);e=a.getSnapshotBeforeUpdate(ge,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(de){Fe(l,l.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)qc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function wo(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Il(e,l),a&4&&Fn(5,l);break;case 1:if(Il(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(u){Fe(l,l.return,u)}else{var n=wa(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Fe(l,l.return,u)}}a&64&&So(l),a&512&&Pn(l,l.return);break;case 3:if(Il(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{cf(e,t)}catch(u){Fe(l,l.return,u)}}break;case 27:t===null&&a&4&&Ao(l);case 26:case 5:Il(e,l),t===null&&a&4&&No(l),a&512&&Pn(l,l.return);break;case 12:Il(e,l);break;case 13:Il(e,l),a&4&&Do(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=zh.bind(null,l),Fh(e,l))));break;case 22:if(a=l.memoizedState!==null||Cl,!a){t=t!==null&&t.memoizedState!==null||ot,n=Cl;var i=ot;Cl=a,(ot=t)&&!i?ea(e,l,(l.subtreeFlags&8772)!==0):Il(e,l),Cl=n,ot=i}break;case 30:break;default:Il(e,l)}}function Mo(e){var t=e.alternate;t!==null&&(e.alternate=null,Mo(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,Bt=!1;function Rl(e,t,l){for(l=l.child;l!==null;)Oo(e,t,l),l=l.sibling}function Oo(e,t,l){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(be,l)}catch{}switch(l.tag){case 26:ot||hl(l,t),Rl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ot||hl(l,t);var a=lt,n=Bt;sa(l.type)&&(lt=l.stateNode,Bt=!1),Rl(e,t,l),ui(l.stateNode),lt=a,Bt=n;break;case 5:ot||hl(l,t);case 6:if(a=lt,n=Bt,lt=null,Rl(e,t,l),lt=a,Bt=n,lt!==null)if(Bt)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(l.stateNode)}catch(i){Fe(l,t,i)}else try{lt.removeChild(l.stateNode)}catch(i){Fe(l,t,i)}break;case 18:lt!==null&&(Bt?(e=lt,xd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),yi(e)):xd(lt,l.stateNode));break;case 4:a=lt,n=Bt,lt=l.stateNode.containerInfo,Bt=!0,Rl(e,t,l),lt=a,Bt=n;break;case 0:case 11:case 14:case 15:ot||Pl(2,l,t),ot||Pl(4,l,t),Rl(e,t,l);break;case 1:ot||(hl(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&jo(l,t,a)),Rl(e,t,l);break;case 21:Rl(e,t,l);break;case 22:ot=(a=ot)||l.memoizedState!==null,Rl(e,t,l),ot=a;break;default:Rl(e,t,l)}}function Do(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yi(e)}catch(l){Fe(t,t.return,l)}}function Th(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Eo),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Eo),t;default:throw Error(o(435,e.tag))}}function ic(e,t){var l=Th(e);t.forEach(function(a){var n=Ch.bind(null,e,a);l.has(a)||(l.add(a),a.then(n,n))})}function Lt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,u=t,r=u;e:for(;r!==null;){switch(r.tag){case 27:if(sa(r.type)){lt=r.stateNode,Bt=!1;break e}break;case 5:lt=r.stateNode,Bt=!1;break e;case 3:case 4:lt=r.stateNode.containerInfo,Bt=!0;break e}r=r.return}if(lt===null)throw Error(o(160));Oo(i,u,n),lt=null,Bt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)qo(t,e),t=t.sibling}var rl=null;function qo(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),Zt(e),a&4&&(Pl(3,e,e.return),Fn(3,e),Pl(5,e,e.return));break;case 1:Lt(t,e),Zt(e),a&512&&(ot||l===null||hl(l,l.return)),a&64&&Cl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=rl;if(Lt(t,e),Zt(e),a&512&&(ot||l===null||hl(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[W]||i[ht]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),Et(i,a,l),i[ht]=e,Me(i),a=i;break e;case"link":var u=Ad("link","href",n).get(a+(l.href||""));if(u){for(var r=0;r<u.length;r++)if(i=u[r],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){u.splice(r,1);break t}}i=n.createElement(a),Et(i,a,l),n.head.appendChild(i);break;case"meta":if(u=Ad("meta","content",n).get(a+(l.content||""))){for(r=0;r<u.length;r++)if(i=u[r],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){u.splice(r,1);break t}}i=n.createElement(a),Et(i,a,l),n.head.appendChild(i);break;default:throw Error(o(468,a))}i[ht]=e,Me(i),a=i}e.stateNode=a}else Ed(n,e.type,e.stateNode);else e.stateNode=Td(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Ed(n,e.type,e.stateNode):Td(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&tc(e,e.memoizedProps,l.memoizedProps)}break;case 27:Lt(t,e),Zt(e),a&512&&(ot||l===null||hl(l,l.return)),l!==null&&a&4&&tc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Lt(t,e),Zt(e),a&512&&(ot||l===null||hl(l,l.return)),e.flags&32){n=e.stateNode;try{Ba(n,"")}catch(T){Fe(e,e.return,T)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,tc(e,n,l!==null?l.memoizedProps:n)),a&1024&&(nc=!0);break;case 6:if(Lt(t,e),Zt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(T){Fe(e,e.return,T)}}break;case 3:if(_s=null,n=rl,rl=vs(t.containerInfo),Lt(t,e),rl=n,Zt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{yi(t.containerInfo)}catch(T){Fe(e,e.return,T)}nc&&(nc=!1,zo(e));break;case 4:a=rl,rl=vs(e.stateNode.containerInfo),Lt(t,e),Zt(e),rl=a;break;case 12:Lt(t,e),Zt(e);break;case 13:Lt(t,e),Zt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(oc=L()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ic(e,a)));break;case 22:n=e.memoizedState!==null;var d=l!==null&&l.memoizedState!==null,S=Cl,C=ot;if(Cl=S||n,ot=C||d,Lt(t,e),ot=C,Cl=S,Zt(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||d||Cl||ot||Ma(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){d=l=t;try{if(i=d.stateNode,n)u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{r=d.stateNode;var Y=d.memoizedProps.style,N=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;r.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(T){Fe(d,d.return,T)}}}else if(t.tag===6){if(l===null){d=t;try{d.stateNode.nodeValue=n?"":d.memoizedProps}catch(T){Fe(d,d.return,T)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,ic(e,l))));break;case 19:Lt(t,e),Zt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ic(e,a)));break;case 30:break;case 21:break;default:Lt(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(To(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var n=l.stateNode,i=lc(e);ss(e,i,n);break;case 5:var u=l.stateNode;l.flags&32&&(Ba(u,""),l.flags&=-33);var r=lc(e);ss(e,r,u);break;case 3:case 4:var d=l.stateNode.containerInfo,S=lc(e);ac(e,S,d);break;default:throw Error(o(161))}}catch(C){Fe(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zo(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;zo(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Il(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wo(e,t.alternate,t),t=t.sibling}function Ma(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Pl(4,t,t.return),Ma(t);break;case 1:hl(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&jo(t,t.return,l),Ma(t);break;case 27:ui(t.stateNode);case 26:case 5:hl(t,t.return),Ma(t);break;case 22:t.memoizedState===null&&Ma(t);break;case 30:Ma(t);break;default:Ma(t)}e=e.sibling}}function ea(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,u=i.flags;switch(i.tag){case 0:case 11:case 15:ea(n,i,l),Fn(4,i);break;case 1:if(ea(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(S){Fe(a,a.return,S)}if(a=i,n=a.updateQueue,n!==null){var r=a.stateNode;try{var d=n.shared.hiddenCallbacks;if(d!==null)for(n.shared.hiddenCallbacks=null,n=0;n<d.length;n++)uf(d[n],r)}catch(S){Fe(a,a.return,S)}}l&&u&64&&So(i),Pn(i,i.return);break;case 27:Ao(i);case 26:case 5:ea(n,i,l),l&&a===null&&u&4&&No(i),Pn(i,i.return);break;case 12:ea(n,i,l);break;case 13:ea(n,i,l),l&&u&4&&Do(n,i);break;case 22:i.memoizedState===null&&ea(n,i,l),Pn(i,i.return);break;case 30:break;default:ea(n,i,l)}t=t.sibling}}function sc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Hn(l))}function uc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hn(e))}function yl(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Co(e,t,l,a),t=t.sibling}function Co(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:yl(e,t,l,a),n&2048&&Fn(9,t);break;case 1:yl(e,t,l,a);break;case 3:yl(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hn(e)));break;case 12:if(n&2048){yl(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,u=i.id,r=i.onPostCommit;typeof r=="function"&&r(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(d){Fe(t,t.return,d)}}else yl(e,t,l,a);break;case 13:yl(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,u=t.alternate,t.memoizedState!==null?i._visibility&2?yl(e,t,l,a):In(e,t):i._visibility&2?yl(e,t,l,a):(i._visibility|=2,an(e,t,l,a,(t.subtreeFlags&10256)!==0)),n&2048&&sc(u,t);break;case 24:yl(e,t,l,a),n&2048&&uc(t.alternate,t);break;default:yl(e,t,l,a)}}function an(e,t,l,a,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,u=t,r=l,d=a,S=u.flags;switch(u.tag){case 0:case 11:case 15:an(i,u,r,d,n),Fn(8,u);break;case 23:break;case 22:var C=u.stateNode;u.memoizedState!==null?C._visibility&2?an(i,u,r,d,n):In(i,u):(C._visibility|=2,an(i,u,r,d,n)),n&&S&2048&&sc(u.alternate,u);break;case 24:an(i,u,r,d,n),n&&S&2048&&uc(u.alternate,u);break;default:an(i,u,r,d,n)}t=t.sibling}}function In(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:In(l,a),n&2048&&sc(a.alternate,a);break;case 24:In(l,a),n&2048&&uc(a.alternate,a);break;default:In(l,a)}t=t.sibling}}var ei=8192;function nn(e){if(e.subtreeFlags&ei)for(e=e.child;e!==null;)Ro(e),e=e.sibling}function Ro(e){switch(e.tag){case 26:nn(e),e.flags&ei&&e.memoizedState!==null&&fy(rl,e.memoizedState,e.memoizedProps);break;case 5:nn(e);break;case 3:case 4:var t=rl;rl=vs(e.stateNode.containerInfo),nn(e),rl=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ei,ei=16777216,nn(e),ei=t):nn(e));break;default:nn(e)}}function Uo(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ti(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,Bo(a,e)}Uo(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ho(e),e=e.sibling}function Ho(e){switch(e.tag){case 0:case 11:case 15:ti(e),e.flags&2048&&Pl(9,e,e.return);break;case 3:ti(e);break;case 12:ti(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,us(e)):ti(e);break;default:ti(e)}}function us(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,Bo(a,e)}Uo(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Pl(8,t,t.return),us(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,us(t));break;default:us(t)}e=e.sibling}}function Bo(e,t){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:Pl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Hn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,vt=a;else e:for(l=e;vt!==null;){a=vt;var n=a.sibling,i=a.return;if(Mo(a),a===l){vt=null;break e}if(n!==null){n.return=i,vt=n;break e}vt=i}}}var Ah={getCacheForType:function(e){var t=Dt(yt),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l}},Eh=typeof WeakMap=="function"?WeakMap:Map,Qe=0,Ie=null,Oe=null,ze=0,Xe=0,Vt=null,ta=!1,sn=!1,cc=!1,Ul=0,ct=0,la=0,Oa=0,rc=0,al=0,un=0,li=null,Yt=null,fc=!1,oc=0,cs=1/0,rs=null,aa=null,At=0,na=null,cn=null,rn=0,dc=0,mc=null,Yo=null,ai=0,hc=null;function Kt(){if((Qe&2)!==0&&ze!==0)return ze&-ze;if(A.T!==null){var e=$a;return e!==0?e:_c()}return jn()}function Go(){al===0&&(al=(ze&536870912)===0||Be?_n():536870912);var e=ll.current;return e!==null&&(e.flags|=32),al}function Jt(e,t,l){(e===Ie&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(fn(e,0),ia(e,ze,al,!1)),bl(e,l),((Qe&2)===0||e!==Ie)&&(e===Ie&&((Qe&2)===0&&(Oa|=l),ct===4&&ia(e,ze,al,!1)),pl(e))}function ko(e,t,l){if((Qe&6)!==0)throw Error(o(327));var a=!l&&(t&124)===0&&(t&e.expiredLanes)===0||vl(e,t),n=a?Oh(e,t):gc(e,t,!0),i=a;do{if(n===0){sn&&!a&&ia(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!wh(l)){n=gc(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var r=e;n=li;var d=r.current.memoizedState.isDehydrated;if(d&&(fn(r,u).flags|=256),u=gc(r,u,!1),u!==2){if(cc&&!d){r.errorRecoveryDisabledLanes|=i,Oa|=i,n=4;break e}i=Yt,Yt=n,i!==null&&(Yt===null?Yt=i:Yt.push.apply(Yt,i))}n=u}if(i=!1,n!==2)continue}}if(n===1){fn(e,0),ia(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:ia(a,t,al,!ta);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=oc+300-L(),10<n)){if(ia(a,t,al,!ta),xl(a,0,!0)!==0)break e;a.timeoutHandle=pd(Qo.bind(null,a,l,Yt,rs,fc,t,al,Oa,un,ta,i,2,-0,0),n);break e}Qo(a,l,Yt,rs,fc,t,al,Oa,un,ta,i,0,-0,0)}}break}while(!0);pl(e)}function Qo(e,t,l,a,n,i,u,r,d,S,C,Y,N,T){if(e.timeoutHandle=-1,Y=t.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(fi={stylesheets:null,count:0,unsuspend:ry},Ro(t),Y=oy(),Y!==null)){e.cancelPendingCommit=Y($o.bind(null,e,t,i,l,a,n,u,r,d,C,1,N,T)),ia(e,i,u,!S);return}$o(e,t,i,l,a,n,u,r,d)}function wh(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!Qt(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ia(e,t,l,a){t&=~rc,t&=~Oa,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-st(n),u=1<<i;a[i]=-1,n&=~u}l!==0&&bi(e,l,t)}function fs(){return(Qe&6)===0?(ni(0),!1):!0}function yc(){if(Oe!==null){if(Xe===0)var e=Oe.return;else e=Oe,wl=Na=null,qu(e),tn=null,Jn=0,e=Oe;for(;e!==null;)_o(e.alternate,e),e=e.return;Oe=null}}function fn(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Vh(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),yc(),Ie=e,Oe=l=Tl(e.current,null),ze=t,Xe=0,Vt=null,ta=!1,sn=vl(e,t),cc=!1,un=al=rc=Oa=la=ct=0,Yt=li=null,fc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-st(a),i=1<<n;t|=e[n],a&=~i}return Ul=t,qi(),l}function Xo(e,t){Ee=null,A.H=Fi,t===Yn||t===ki?(t=nf(),Xe=3):t===tf?(t=nf(),Xe=4):Xe=t===so?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,Oe===null&&(ct=1,ls(e,Pt(t,e.current)))}function Lo(){var e=A.H;return A.H=Fi,e===null?Fi:e}function Zo(){var e=A.A;return A.A=Ah,e}function pc(){ct=4,ta||(ze&4194048)!==ze&&ll.current!==null||(sn=!0),(la&134217727)===0&&(Oa&134217727)===0||Ie===null||ia(Ie,ze,al,!1)}function gc(e,t,l){var a=Qe;Qe|=2;var n=Lo(),i=Zo();(Ie!==e||ze!==t)&&(rs=null,fn(e,t)),t=!1;var u=ct;e:do try{if(Xe!==0&&Oe!==null){var r=Oe,d=Vt;switch(Xe){case 8:yc(),u=6;break e;case 3:case 2:case 9:case 6:ll.current===null&&(t=!0);var S=Xe;if(Xe=0,Vt=null,on(e,r,d,S),l&&sn){u=0;break e}break;default:S=Xe,Xe=0,Vt=null,on(e,r,d,S)}}Mh(),u=ct;break}catch(C){Xo(e,C)}while(!0);return t&&e.shellSuspendCounter++,wl=Na=null,Qe=a,A.H=n,A.A=i,Oe===null&&(Ie=null,ze=0,qi()),u}function Mh(){for(;Oe!==null;)Vo(Oe)}function Oh(e,t){var l=Qe;Qe|=2;var a=Lo(),n=Zo();Ie!==e||ze!==t?(rs=null,cs=L()+500,fn(e,t)):sn=vl(e,t);e:do try{if(Xe!==0&&Oe!==null){t=Oe;var i=Vt;t:switch(Xe){case 1:Xe=0,Vt=null,on(e,t,i,1);break;case 2:case 9:if(lf(i)){Xe=0,Vt=null,Ko(t);break}t=function(){Xe!==2&&Xe!==9||Ie!==e||(Xe=7),pl(e)},i.then(t,t);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:lf(i)?(Xe=0,Vt=null,Ko(t)):(Xe=0,Vt=null,on(e,t,i,7));break;case 5:var u=null;switch(Oe.tag){case 26:u=Oe.memoizedState;case 5:case 27:var r=Oe;if(!u||wd(u)){Xe=0,Vt=null;var d=r.sibling;if(d!==null)Oe=d;else{var S=r.return;S!==null?(Oe=S,os(S)):Oe=null}break t}}Xe=0,Vt=null,on(e,t,i,5);break;case 6:Xe=0,Vt=null,on(e,t,i,6);break;case 8:yc(),ct=6;break e;default:throw Error(o(462))}}Dh();break}catch(C){Xo(e,C)}while(!0);return wl=Na=null,A.H=a,A.A=n,Qe=l,Oe!==null?0:(Ie=null,ze=0,qi(),ct)}function Dh(){for(;Oe!==null&&!E();)Vo(Oe)}function Vo(e){var t=vo(e.alternate,e,Ul);e.memoizedProps=e.pendingProps,t===null?os(e):Oe=t}function Ko(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=mo(l,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=mo(l,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:qu(t);default:_o(l,t),t=Oe=Vr(t,Ul),t=vo(l,t,Ul)}e.memoizedProps=e.pendingProps,t===null?os(e):Oe=t}function on(e,t,l,a){wl=Na=null,qu(t),tn=null,Jn=0;var n=t.return;try{if(bh(e,n,t,l,ze)){ct=1,ls(e,Pt(l,e.current)),Oe=null;return}}catch(i){if(n!==null)throw Oe=n,i;ct=1,ls(e,Pt(l,e.current)),Oe=null;return}t.flags&32768?(Be||a===1?e=!0:sn||(ze&536870912)!==0?e=!1:(ta=e=!0,(a===2||a===9||a===3||a===6)&&(a=ll.current,a!==null&&a.tag===13&&(a.flags|=16384))),Jo(t,e)):os(t)}function os(e){var t=e;do{if((t.flags&32768)!==0){Jo(t,ta);return}e=t.return;var l=Sh(t.alternate,t,Ul);if(l!==null){Oe=l;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);ct===0&&(ct=5)}function Jo(e,t){do{var l=jh(e.alternate,e);if(l!==null){l.flags&=32767,Oe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=l}while(e!==null);ct=6,Oe=null}function $o(e,t,l,a,n,i,u,r,d){e.cancelPendingCommit=null;do ds();while(At!==0);if((Qe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,i|=uu,ya(e,l,i,u,r,d),e===Ie&&(Oe=Ie=null,ze=0),cn=t,na=e,rn=l,dc=i,mc=n,Yo=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Rh(re,function(){return ed(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=A.T,A.T=null,n=X.p,X.p=2,u=Qe,Qe|=4;try{Nh(e,t,l)}finally{Qe=u,X.p=n,A.T=a}}At=1,Wo(),Fo(),Po()}}function Wo(){if(At===1){At=0;var e=na,t=cn,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=A.T,A.T=null;var a=X.p;X.p=2;var n=Qe;Qe|=4;try{qo(t,e);var i=Mc,u=Ur(e.containerInfo),r=i.focusedElem,d=i.selectionRange;if(u!==r&&r&&r.ownerDocument&&Rr(r.ownerDocument.documentElement,r)){if(d!==null&&lu(r)){var S=d.start,C=d.end;if(C===void 0&&(C=S),"selectionStart"in r)r.selectionStart=S,r.selectionEnd=Math.min(C,r.value.length);else{var Y=r.ownerDocument||document,N=Y&&Y.defaultView||window;if(N.getSelection){var T=N.getSelection(),ge=r.textContent.length,de=Math.min(d.start,ge),Ke=d.end===void 0?de:Math.min(d.end,ge);!T.extend&&de>Ke&&(u=Ke,Ke=de,de=u);var x=Cr(r,de),p=Cr(r,Ke);if(x&&p&&(T.rangeCount!==1||T.anchorNode!==x.node||T.anchorOffset!==x.offset||T.focusNode!==p.node||T.focusOffset!==p.offset)){var _=Y.createRange();_.setStart(x.node,x.offset),T.removeAllRanges(),de>Ke?(T.addRange(_),T.extend(p.node,p.offset)):(_.setEnd(p.node,p.offset),T.addRange(_))}}}}for(Y=[],T=r;T=T.parentNode;)T.nodeType===1&&Y.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<Y.length;r++){var R=Y[r];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}Ns=!!wc,Mc=wc=null}finally{Qe=n,X.p=a,A.T=l}}e.current=t,At=2}}function Fo(){if(At===2){At=0;var e=na,t=cn,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=A.T,A.T=null;var a=X.p;X.p=2;var n=Qe;Qe|=4;try{wo(e,t.alternate,t)}finally{Qe=n,X.p=a,A.T=l}}At=3}}function Po(){if(At===4||At===3){At=0,k();var e=na,t=cn,l=rn,a=Yo;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,cn=na=null,Io(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(aa=null),kl(l),t=t.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(be,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=A.T,n=X.p,X.p=2,A.T=null;try{for(var i=e.onRecoverableError,u=0;u<a.length;u++){var r=a[u];i(r.value,{componentStack:r.stack})}}finally{A.T=t,X.p=n}}(rn&3)!==0&&ds(),pl(e),n=e.pendingLanes,(l&4194090)!==0&&(n&42)!==0?e===hc?ai++:(ai=0,hc=e):ai=0,ni(0)}}function Io(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Hn(t)))}function ds(e){return Wo(),Fo(),Po(),ed()}function ed(){if(At!==5)return!1;var e=na,t=dc;dc=0;var l=kl(rn),a=A.T,n=X.p;try{X.p=32>l?32:l,A.T=null,l=mc,mc=null;var i=na,u=rn;if(At=0,cn=na=null,rn=0,(Qe&6)!==0)throw Error(o(331));var r=Qe;if(Qe|=4,Ho(i.current),Co(i,i.current,u,l),Qe=r,ni(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(be,i)}catch{}return!0}finally{X.p=n,A.T=a,Io(e,t)}}function td(e,t,l){t=Pt(l,t),t=Vu(e.stateNode,t,2),e=Jl(e,t,2),e!==null&&(bl(e,2),pl(e))}function Fe(e,t,l){if(e.tag===3)td(e,e,l);else for(;t!==null;){if(t.tag===3){td(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(aa===null||!aa.has(a))){e=Pt(l,e),l=no(2),a=Jl(t,l,2),a!==null&&(io(l,a,t,e),bl(a,2),pl(a));break}}t=t.return}}function xc(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Eh;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(cc=!0,n.add(l),e=qh.bind(null,e,t,l),t.then(e,e))}function qh(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ie===e&&(ze&l)===l&&(ct===4||ct===3&&(ze&62914560)===ze&&300>L()-oc?(Qe&2)===0&&fn(e,0):rc|=l,un===ze&&(un=0)),pl(e)}function ld(e,t){t===0&&(t=Gl()),e=Za(e,t),e!==null&&(bl(e,t),pl(e))}function zh(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),ld(e,l)}function Ch(e,t){var l=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),ld(e,l)}function Rh(e,t){return F(e,t)}var ms=null,dn=null,vc=!1,hs=!1,bc=!1,Da=0;function pl(e){e!==dn&&e.next===null&&(dn===null?ms=dn=e:dn=dn.next=e),hs=!0,vc||(vc=!0,Hh())}function ni(e,t){if(!bc&&hs){bc=!0;do for(var l=!1,a=ms;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var u=a.suspendedLanes,r=a.pingedLanes;i=(1<<31-st(42|e)+1)-1,i&=n&~(u&~r),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,sd(a,i))}else i=ze,i=xl(a,a===Ie?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||vl(a,i)||(l=!0,sd(a,i));a=a.next}while(l);bc=!1}}function Uh(){ad()}function ad(){hs=vc=!1;var e=0;Da!==0&&(Zh()&&(e=Da),Da=0);for(var t=L(),l=null,a=ms;a!==null;){var n=a.next,i=nd(a,t);i===0?(a.next=null,l===null?ms=n:l.next=n,n===null&&(dn=l)):(l=a,(e!==0||(i&3)!==0)&&(hs=!0)),a=n}ni(e)}function nd(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var u=31-st(i),r=1<<u,d=n[u];d===-1?((r&l)===0||(r&a)!==0)&&(n[u]=bn(r,t)):d<=t&&(e.expiredLanes|=r),i&=~r}if(t=Ie,l=ze,l=xl(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ma(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||vl(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&ma(a),kl(l)){case 2:case 8:l=ve;break;case 32:l=re;break;case 268435456:l=se;break;default:l=re}return a=id.bind(null,e),l=F(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&ma(a),e.callbackPriority=2,e.callbackNode=null,2}function id(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(ds()&&e.callbackNode!==l)return null;var a=ze;return a=xl(e,e===Ie?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(ko(e,a,t),nd(e,L()),e.callbackNode!=null&&e.callbackNode===l?id.bind(null,e):null)}function sd(e,t){if(ds())return null;ko(e,t,!0)}function Hh(){Kh(function(){(Qe&6)!==0?F(J,Uh):ad()})}function _c(){return Da===0&&(Da=_n()),Da}function ud(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ti(""+e)}function cd(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Bh(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=ud((n[Nt]||null).action),u=a.submitter;u&&(t=(t=u[Nt]||null)?ud(t.formAction):u.getAttribute("formAction"),t!==null&&(i=t,u=null));var r=new Mi("action","action",null,a,n);e.push({event:r,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Da!==0){var d=u?cd(n,u):new FormData(n);ku(l,{pending:!0,data:d,method:n.method,action:i},null,d)}}else typeof i=="function"&&(r.preventDefault(),d=u?cd(n,u):new FormData(n),ku(l,{pending:!0,data:d,method:n.method,action:i},i,d))},currentTarget:n}]})}}for(var Sc=0;Sc<su.length;Sc++){var jc=su[Sc],Yh=jc.toLowerCase(),Gh=jc[0].toUpperCase()+jc.slice(1);cl(Yh,"on"+Gh)}cl(Yr,"onAnimationEnd"),cl(Gr,"onAnimationIteration"),cl(kr,"onAnimationStart"),cl("dblclick","onDoubleClick"),cl("focusin","onFocus"),cl("focusout","onBlur"),cl(ah,"onTransitionRun"),cl(nh,"onTransitionStart"),cl(ih,"onTransitionCancel"),cl(Qr,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ii));function rd(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var u=a.length-1;0<=u;u--){var r=a[u],d=r.instance,S=r.currentTarget;if(r=r.listener,d!==i&&n.isPropagationStopped())break e;i=r,n.currentTarget=S;try{i(n)}catch(C){ts(C)}n.currentTarget=null,i=d}else for(u=0;u<a.length;u++){if(r=a[u],d=r.instance,S=r.currentTarget,r=r.listener,d!==i&&n.isPropagationStopped())break e;i=r,n.currentTarget=S;try{i(n)}catch(C){ts(C)}n.currentTarget=null,i=d}}}}function De(e,t){var l=t[Ca];l===void 0&&(l=t[Ca]=new Set);var a=e+"__bubble";l.has(a)||(fd(t,e,2,!1),l.add(a))}function Nc(e,t,l){var a=0;t&&(a|=4),fd(l,e,a,t)}var ys="_reactListening"+Math.random().toString(36).slice(2);function Tc(e){if(!e[ys]){e[ys]=!0,Ql.forEach(function(l){l!=="selectionchange"&&(kh.has(l)||Nc(l,!1,e),Nc(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ys]||(t[ys]=!0,Nc("selectionchange",!1,t))}}function fd(e,t,l,a){switch(Cd(t)){case 2:var n=hy;break;case 8:n=yy;break;default:n=Yc}l=n.bind(null,t,l,e),n=void 0,!Ks||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function Ac(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var r=a.stateNode.containerInfo;if(r===n)break;if(u===4)for(u=a.return;u!==null;){var d=u.tag;if((d===3||d===4)&&u.stateNode.containerInfo===n)return;u=u.return}for(;r!==null;){if(u=ae(r),u===null)return;if(d=u.tag,d===5||d===6||d===26||d===27){a=i=u;continue e}r=r.parentNode}}a=a.return}yr(function(){var S=i,C=Zs(l),Y=[];e:{var N=Xr.get(e);if(N!==void 0){var T=Mi,ge=e;switch(e){case"keypress":if(Ei(l)===0)break e;case"keydown":case"keyup":T=Rm;break;case"focusin":ge="focus",T=Fs;break;case"focusout":ge="blur",T=Fs;break;case"beforeblur":case"afterblur":T=Fs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=Bm;break;case Yr:case Gr:case kr:T=Am;break;case Qr:T=Gm;break;case"scroll":case"scrollend":T=_m;break;case"wheel":T=Qm;break;case"copy":case"cut":case"paste":T=wm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=br;break;case"toggle":case"beforetoggle":T=Lm}var de=(t&4)!==0,Ke=!de&&(e==="scroll"||e==="scrollend"),x=de?N!==null?N+"Capture":null:N;de=[];for(var p=S,_;p!==null;){var R=p;if(_=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||_===null||x===null||(R=Nn(p,x),R!=null&&de.push(si(p,R,_))),Ke)break;p=p.return}0<de.length&&(N=new T(N,ge,null,l,C),Y.push({event:N,listeners:de}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",T=e==="mouseout"||e==="pointerout",N&&l!==Ls&&(ge=l.relatedTarget||l.fromElement)&&(ae(ge)||ge[_l]))break e;if((T||N)&&(N=C.window===C?C:(N=C.ownerDocument)?N.defaultView||N.parentWindow:window,T?(ge=l.relatedTarget||l.toElement,T=S,ge=ge?ae(ge):null,ge!==null&&(Ke=g(ge),de=ge.tag,ge!==Ke||de!==5&&de!==27&&de!==6)&&(ge=null)):(T=null,ge=S),T!==ge)){if(de=xr,R="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(de=br,R="onPointerLeave",x="onPointerEnter",p="pointer"),Ke=T==null?N:Ot(T),_=ge==null?N:Ot(ge),N=new de(R,p+"leave",T,l,C),N.target=Ke,N.relatedTarget=_,R=null,ae(C)===S&&(de=new de(x,p+"enter",ge,l,C),de.target=_,de.relatedTarget=Ke,R=de),Ke=R,T&&ge)t:{for(de=T,x=ge,p=0,_=de;_;_=mn(_))p++;for(_=0,R=x;R;R=mn(R))_++;for(;0<p-_;)de=mn(de),p--;for(;0<_-p;)x=mn(x),_--;for(;p--;){if(de===x||x!==null&&de===x.alternate)break t;de=mn(de),x=mn(x)}de=null}else de=null;T!==null&&od(Y,N,T,de,!1),ge!==null&&Ke!==null&&od(Y,Ke,ge,de,!0)}}e:{if(N=S?Ot(S):window,T=N.nodeName&&N.nodeName.toLowerCase(),T==="select"||T==="input"&&N.type==="file")var te=wr;else if(Ar(N))if(Mr)te=eh;else{te=Pm;var we=Fm}else T=N.nodeName,!T||T.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?S&&Xs(S.elementType)&&(te=wr):te=Im;if(te&&(te=te(e,S))){Er(Y,te,l,C);break e}we&&we(e,N,S),e==="focusout"&&S&&N.type==="number"&&S.memoizedProps.value!=null&&Qs(N,"number",N.value)}switch(we=S?Ot(S):window,e){case"focusin":(Ar(we)||we.contentEditable==="true")&&(Qa=we,au=S,qn=null);break;case"focusout":qn=au=Qa=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,Hr(Y,l,C);break;case"selectionchange":if(lh)break;case"keydown":case"keyup":Hr(Y,l,C)}var ne;if(Is)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ka?Nr(e,l)&&(ye="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ye="onCompositionStart");ye&&(_r&&l.locale!=="ko"&&(ka||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ka&&(ne=pr()):(Ll=C,Js="value"in Ll?Ll.value:Ll.textContent,ka=!0)),we=ps(S,ye),0<we.length&&(ye=new vr(ye,e,null,l,C),Y.push({event:ye,listeners:we}),ne?ye.data=ne:(ne=Tr(l),ne!==null&&(ye.data=ne)))),(ne=Vm?Km(e,l):Jm(e,l))&&(ye=ps(S,"onBeforeInput"),0<ye.length&&(we=new vr("onBeforeInput","beforeinput",null,l,C),Y.push({event:we,listeners:ye}),we.data=ne)),Bh(Y,e,S,l,C)}rd(Y,t)})}function si(e,t,l){return{instance:e,listener:t,currentTarget:l}}function ps(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Nn(e,l),n!=null&&a.unshift(si(e,n,i)),n=Nn(e,t),n!=null&&a.push(si(e,n,i))),e.tag===3)return a;e=e.return}return[]}function mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function od(e,t,l,a,n){for(var i=t._reactName,u=[];l!==null&&l!==a;){var r=l,d=r.alternate,S=r.stateNode;if(r=r.tag,d!==null&&d===a)break;r!==5&&r!==26&&r!==27||S===null||(d=S,n?(S=Nn(l,i),S!=null&&u.unshift(si(l,S,d))):n||(S=Nn(l,i),S!=null&&u.push(si(l,S,d)))),l=l.return}u.length!==0&&e.push({event:t,listeners:u})}var Qh=/\r\n?/g,Xh=/\u0000|\uFFFD/g;function dd(e){return(typeof e=="string"?e:""+e).replace(Qh,`
`).replace(Xh,"")}function md(e,t){return t=dd(t),dd(e)===t}function gs(){}function Ve(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ba(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ba(e,""+a);break;case"className":Si(e,"class",a);break;case"tabIndex":Si(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(e,l,a);break;case"style":mr(e,a,i);break;case"data":if(t!=="object"){Si(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ti(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Ve(e,t,"name",n.name,n,null),Ve(e,t,"formEncType",n.formEncType,n,null),Ve(e,t,"formMethod",n.formMethod,n,null),Ve(e,t,"formTarget",n.formTarget,n,null)):(Ve(e,t,"encType",n.encType,n,null),Ve(e,t,"method",n.method,n,null),Ve(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ti(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=gs);break;case"onScroll":a!=null&&De("scroll",e);break;case"onScrollEnd":a!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Ti(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":De("beforetoggle",e),De("toggle",e),_i(e,"popover",a);break;case"xlinkActuate":jl(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":jl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":jl(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":jl(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":jl(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":jl(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":jl(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":jl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":jl(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":_i(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=vm.get(l)||l,_i(e,l,a))}}function Ec(e,t,l,a,n,i){switch(l){case"style":mr(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ba(e,a):(typeof a=="number"||typeof a=="bigint")&&Ba(e,""+a);break;case"onScroll":a!=null&&De("scroll",e);break;case"onScrollEnd":a!=null&&De("scrollend",e);break;case"onClick":a!=null&&(e.onclick=gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[Nt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):_i(e,l,a)}}}function Et(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];if(u!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ve(e,t,i,u,l,null)}}n&&Ve(e,t,"srcSet",l.srcSet,l,null),a&&Ve(e,t,"src",l.src,l,null);return;case"input":De("invalid",e);var r=i=u=n=null,d=null,S=null;for(a in l)if(l.hasOwnProperty(a)){var C=l[a];if(C!=null)switch(a){case"name":n=C;break;case"type":u=C;break;case"checked":d=C;break;case"defaultChecked":S=C;break;case"value":i=C;break;case"defaultValue":r=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(137,t));break;default:Ve(e,t,a,C,l,null)}}rr(e,i,r,d,S,u,n,!1),ji(e);return;case"select":De("invalid",e),a=u=i=null;for(n in l)if(l.hasOwnProperty(n)&&(r=l[n],r!=null))switch(n){case"value":i=r;break;case"defaultValue":u=r;break;case"multiple":a=r;default:Ve(e,t,n,r,l,null)}t=i,l=u,e.multiple=!!a,t!=null?Ha(e,!!a,t,!1):l!=null&&Ha(e,!!a,l,!0);return;case"textarea":De("invalid",e),i=n=a=null;for(u in l)if(l.hasOwnProperty(u)&&(r=l[u],r!=null))switch(u){case"value":a=r;break;case"defaultValue":n=r;break;case"children":i=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(o(91));break;default:Ve(e,t,u,r,l,null)}or(e,a,n,i),ji(e);return;case"option":for(d in l)if(l.hasOwnProperty(d)&&(a=l[d],a!=null))switch(d){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ve(e,t,d,a,l,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(a=0;a<ii.length;a++)De(ii[a],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(S in l)if(l.hasOwnProperty(S)&&(a=l[S],a!=null))switch(S){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ve(e,t,S,a,l,null)}return;default:if(Xs(t)){for(C in l)l.hasOwnProperty(C)&&(a=l[C],a!==void 0&&Ec(e,t,C,a,l,void 0));return}}for(r in l)l.hasOwnProperty(r)&&(a=l[r],a!=null&&Ve(e,t,r,a,l,null))}function Lh(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,u=null,r=null,d=null,S=null,C=null;for(T in l){var Y=l[T];if(l.hasOwnProperty(T)&&Y!=null)switch(T){case"checked":break;case"value":break;case"defaultValue":d=Y;default:a.hasOwnProperty(T)||Ve(e,t,T,null,a,Y)}}for(var N in a){var T=a[N];if(Y=l[N],a.hasOwnProperty(N)&&(T!=null||Y!=null))switch(N){case"type":i=T;break;case"name":n=T;break;case"checked":S=T;break;case"defaultChecked":C=T;break;case"value":u=T;break;case"defaultValue":r=T;break;case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(137,t));break;default:T!==Y&&Ve(e,t,N,T,a,Y)}}ks(e,u,r,d,S,C,i,n);return;case"select":T=u=r=N=null;for(i in l)if(d=l[i],l.hasOwnProperty(i)&&d!=null)switch(i){case"value":break;case"multiple":T=d;default:a.hasOwnProperty(i)||Ve(e,t,i,null,a,d)}for(n in a)if(i=a[n],d=l[n],a.hasOwnProperty(n)&&(i!=null||d!=null))switch(n){case"value":N=i;break;case"defaultValue":r=i;break;case"multiple":u=i;default:i!==d&&Ve(e,t,n,i,a,d)}t=r,l=u,a=T,N!=null?Ha(e,!!l,N,!1):!!a!=!!l&&(t!=null?Ha(e,!!l,t,!0):Ha(e,!!l,l?[]:"",!1));return;case"textarea":T=N=null;for(r in l)if(n=l[r],l.hasOwnProperty(r)&&n!=null&&!a.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:Ve(e,t,r,null,a,n)}for(u in a)if(n=a[u],i=l[u],a.hasOwnProperty(u)&&(n!=null||i!=null))switch(u){case"value":N=n;break;case"defaultValue":T=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==i&&Ve(e,t,u,n,a,i)}fr(e,N,T);return;case"option":for(var ge in l)if(N=l[ge],l.hasOwnProperty(ge)&&N!=null&&!a.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:Ve(e,t,ge,null,a,N)}for(d in a)if(N=a[d],T=l[d],a.hasOwnProperty(d)&&N!==T&&(N!=null||T!=null))switch(d){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Ve(e,t,d,N,a,T)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in l)N=l[de],l.hasOwnProperty(de)&&N!=null&&!a.hasOwnProperty(de)&&Ve(e,t,de,null,a,N);for(S in a)if(N=a[S],T=l[S],a.hasOwnProperty(S)&&N!==T&&(N!=null||T!=null))switch(S){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(137,t));break;default:Ve(e,t,S,N,a,T)}return;default:if(Xs(t)){for(var Ke in l)N=l[Ke],l.hasOwnProperty(Ke)&&N!==void 0&&!a.hasOwnProperty(Ke)&&Ec(e,t,Ke,void 0,a,N);for(C in a)N=a[C],T=l[C],!a.hasOwnProperty(C)||N===T||N===void 0&&T===void 0||Ec(e,t,C,N,a,T);return}}for(var x in l)N=l[x],l.hasOwnProperty(x)&&N!=null&&!a.hasOwnProperty(x)&&Ve(e,t,x,null,a,N);for(Y in a)N=a[Y],T=l[Y],!a.hasOwnProperty(Y)||N===T||N==null&&T==null||Ve(e,t,Y,N,a,T)}var wc=null,Mc=null;function xs(e){return e.nodeType===9?e:e.ownerDocument}function hd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Oc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dc=null;function Zh(){var e=window.event;return e&&e.type==="popstate"?e===Dc?!1:(Dc=e,!0):(Dc=null,!1)}var pd=typeof setTimeout=="function"?setTimeout:void 0,Vh=typeof clearTimeout=="function"?clearTimeout:void 0,gd=typeof Promise=="function"?Promise:void 0,Kh=typeof queueMicrotask=="function"?queueMicrotask:typeof gd<"u"?function(e){return gd.resolve(null).then(e).catch(Jh)}:pd;function Jh(e){setTimeout(function(){throw e})}function sa(e){return e==="head"}function xd(e,t){var l=t,a=0,n=0;do{var i=l.nextSibling;if(e.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"){if(0<a&&8>a){l=a;var u=e.ownerDocument;if(l&1&&ui(u.documentElement),l&2&&ui(u.body),l&4)for(l=u.head,ui(l),u=l.firstChild;u;){var r=u.nextSibling,d=u.nodeName;u[W]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&u.rel.toLowerCase()==="stylesheet"||l.removeChild(u),u=r}}if(n===0){e.removeChild(i),yi(t);return}n--}else l==="$"||l==="$?"||l==="$!"?n++:a=l.charCodeAt(0)-48;else a=0;l=i}while(l);yi(t)}function qc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qc(l),_e(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function $h(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[W])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=fl(e.nextSibling),e===null)break}return null}function Wh(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=fl(e.nextSibling),e===null))return null;return e}function zc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Fh(e,t){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function fl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Cc=null;function vd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(t===0)return e;t--}else l==="/$"&&t++}e=e.previousSibling}return null}function bd(e,t,l){switch(t=xs(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function ui(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_e(e)}var nl=new Map,_d=new Set;function vs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hl=X.d;X.d={f:Ph,r:Ih,D:ey,C:ty,L:ly,m:ay,X:iy,S:ny,M:sy};function Ph(){var e=Hl.f(),t=fs();return e||t}function Ih(e){var t=Ae(e);t!==null&&t.tag===5&&t.type==="form"?Gf(t):Hl.r(e)}var hn=typeof document>"u"?null:document;function Sd(e,t,l){var a=hn;if(a&&typeof t=="string"&&t){var n=Ft(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),_d.has(n)||(_d.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),Et(t,"link",e),Me(t),a.head.appendChild(t)))}}function ey(e){Hl.D(e),Sd("dns-prefetch",e,null)}function ty(e,t){Hl.C(e,t),Sd("preconnect",e,t)}function ly(e,t,l){Hl.L(e,t,l);var a=hn;if(a&&e&&t){var n='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Ft(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Ft(l.imageSizes)+'"]')):n+='[href="'+Ft(e)+'"]';var i=n;switch(t){case"style":i=yn(e);break;case"script":i=pn(e)}nl.has(i)||(e=M({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),nl.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(ci(i))||t==="script"&&a.querySelector(ri(i))||(t=a.createElement("link"),Et(t,"link",e),Me(t),a.head.appendChild(t)))}}function ay(e,t){Hl.m(e,t);var l=hn;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Ft(a)+'"][href="'+Ft(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=pn(e)}if(!nl.has(i)&&(e=M({rel:"modulepreload",href:e},t),nl.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ri(i)))return}a=l.createElement("link"),Et(a,"link",e),Me(a),l.head.appendChild(a)}}}function ny(e,t,l){Hl.S(e,t,l);var a=hn;if(a&&e){var n=tt(a).hoistableStyles,i=yn(e);t=t||"default";var u=n.get(i);if(!u){var r={loading:0,preload:null};if(u=a.querySelector(ci(i)))r.loading=5;else{e=M({rel:"stylesheet",href:e,"data-precedence":t},l),(l=nl.get(i))&&Rc(e,l);var d=u=a.createElement("link");Me(d),Et(d,"link",e),d._p=new Promise(function(S,C){d.onload=S,d.onerror=C}),d.addEventListener("load",function(){r.loading|=1}),d.addEventListener("error",function(){r.loading|=2}),r.loading|=4,bs(u,t,a)}u={type:"stylesheet",instance:u,count:1,state:r},n.set(i,u)}}}function iy(e,t){Hl.X(e,t);var l=hn;if(l&&e){var a=tt(l).hoistableScripts,n=pn(e),i=a.get(n);i||(i=l.querySelector(ri(n)),i||(e=M({src:e,async:!0},t),(t=nl.get(n))&&Uc(e,t),i=l.createElement("script"),Me(i),Et(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function sy(e,t){Hl.M(e,t);var l=hn;if(l&&e){var a=tt(l).hoistableScripts,n=pn(e),i=a.get(n);i||(i=l.querySelector(ri(n)),i||(e=M({src:e,async:!0,type:"module"},t),(t=nl.get(n))&&Uc(e,t),i=l.createElement("script"),Me(i),Et(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function jd(e,t,l,a){var n=(n=pe.current)?vs(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=yn(l.href),l=tt(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=yn(l.href);var i=tt(n).hoistableStyles,u=i.get(e);if(u||(n=n.ownerDocument||n,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,u),(i=n.querySelector(ci(e)))&&!i._p&&(u.instance=i,u.state.loading=5),nl.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},nl.set(e,l),i||uy(n,e,l,u.state))),t&&a===null)throw Error(o(528,""));return u}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=pn(l),l=tt(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function yn(e){return'href="'+Ft(e)+'"'}function ci(e){return'link[rel="stylesheet"]['+e+"]"}function Nd(e){return M({},e,{"data-precedence":e.precedence,precedence:null})}function uy(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Et(t,"link",l),Me(t),e.head.appendChild(t))}function pn(e){return'[src="'+Ft(e)+'"]'}function ri(e){return"script[async]"+e}function Td(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ft(l.href)+'"]');if(a)return t.instance=a,Me(a),a;var n=M({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Me(a),Et(a,"style",n),bs(a,l.precedence,e),t.instance=a;case"stylesheet":n=yn(l.href);var i=e.querySelector(ci(n));if(i)return t.state.loading|=4,t.instance=i,Me(i),i;a=Nd(l),(n=nl.get(n))&&Rc(a,n),i=(e.ownerDocument||e).createElement("link"),Me(i);var u=i;return u._p=new Promise(function(r,d){u.onload=r,u.onerror=d}),Et(i,"link",a),t.state.loading|=4,bs(i,l.precedence,e),t.instance=i;case"script":return i=pn(l.src),(n=e.querySelector(ri(i)))?(t.instance=n,Me(n),n):(a=l,(n=nl.get(i))&&(a=M({},l),Uc(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),Me(n),Et(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,bs(a,l.precedence,e));return t.instance}function bs(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,u=0;u<a.length;u++){var r=a[u];if(r.dataset.precedence===t)i=r;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Rc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var _s=null;function Ad(e,t,l){if(_s===null){var a=new Map,n=_s=new Map;n.set(l,a)}else n=_s,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[W]||i[ht]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var u=i.getAttribute(t)||"";u=e+u;var r=a.get(u);r?r.push(i):a.set(u,[i])}}return a}function Ed(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function cy(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function wd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var fi=null;function ry(){}function fy(e,t,l){if(fi===null)throw Error(o(475));var a=fi;if(t.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=yn(l.href),i=e.querySelector(ci(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Ss.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=i,Me(i);return}i=e.ownerDocument||e,l=Nd(l),(n=nl.get(n))&&Rc(l,n),i=i.createElement("link"),Me(i);var u=i;u._p=new Promise(function(r,d){u.onload=r,u.onerror=d}),Et(i,"link",l),t.instance=i}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Ss.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function oy(){if(fi===null)throw Error(o(475));var e=fi;return e.stylesheets&&e.count===0&&Hc(e,e.stylesheets),0<e.count?function(t){var l=setTimeout(function(){if(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Ss(){if(this.count--,this.count===0){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var js=null;function Hc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,js=new Map,t.forEach(dy,e),js=null,Ss.call(e))}function dy(e,t){if(!(t.state.loading&4)){var l=js.get(e);if(l)var a=l.get(null);else{l=new Map,js.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var u=n[i];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(l.set(u.dataset.precedence,u),a=u)}a&&l.set(null,a)}n=t.instance,u=n.getAttribute("data-precedence"),i=l.get(u)||a,i===a&&l.set(null,n),l.set(u,n),this.count++,a=Ss.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var oi={$$typeof:me,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function my(e,t,l,a,n,i,u,r){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qa(0),this.hiddenUpdates=qa(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function Md(e,t,l,a,n,i,u,r,d,S,C,Y){return e=new my(e,t,l,u,r,d,S,Y),t=1,i===!0&&(t|=24),i=Xt(3,null,null,t),e.current=i,i.stateNode=e,t=xu(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},Su(i),e}function Od(e){return e?(e=Va,e):Va}function Dd(e,t,l,a,n,i){n=Od(n),a.context===null?a.context=n:a.pendingContext=n,a=Kl(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=Jl(e,a,t),l!==null&&(Jt(l,e,t),kn(l,e,t))}function qd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Bc(e,t){qd(e,t),(e=e.alternate)&&qd(e,t)}function zd(e){if(e.tag===13){var t=Za(e,67108864);t!==null&&Jt(t,e,67108864),Bc(e,67108864)}}var Ns=!0;function hy(e,t,l,a){var n=A.T;A.T=null;var i=X.p;try{X.p=2,Yc(e,t,l,a)}finally{X.p=i,A.T=n}}function yy(e,t,l,a){var n=A.T;A.T=null;var i=X.p;try{X.p=8,Yc(e,t,l,a)}finally{X.p=i,A.T=n}}function Yc(e,t,l,a){if(Ns){var n=Gc(a);if(n===null)Ac(e,t,a,Ts,l),Rd(e,a);else if(gy(n,e,t,l,a))a.stopPropagation();else if(Rd(e,a),t&4&&-1<py.indexOf(e)){for(;n!==null;){var i=Ae(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var u=ke(i.pendingLanes);if(u!==0){var r=i;for(r.pendingLanes|=2,r.entangledLanes|=2;u;){var d=1<<31-st(u);r.entanglements[1]|=d,u&=~d}pl(i),(Qe&6)===0&&(cs=L()+500,ni(0))}}break;case 13:r=Za(i,2),r!==null&&Jt(r,i,2),fs(),Bc(i,2)}if(i=Gc(a),i===null&&Ac(e,t,a,Ts,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else Ac(e,t,a,null,l)}}function Gc(e){return e=Zs(e),kc(e)}var Ts=null;function kc(e){if(Ts=null,e=ae(e),e!==null){var t=g(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=j(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ts=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(D()){case J:return 2;case ve:return 8;case re:case $e:return 32;case se:return 268435456;default:return 32}default:return 32}}var Qc=!1,ua=null,ca=null,ra=null,di=new Map,mi=new Map,fa=[],py="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rd(e,t){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(t.pointerId)}}function hi(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Ae(t),t!==null&&zd(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function gy(e,t,l,a,n){switch(t){case"focusin":return ua=hi(ua,e,t,l,a,n),!0;case"dragenter":return ca=hi(ca,e,t,l,a,n),!0;case"mouseover":return ra=hi(ra,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return di.set(i,hi(di.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,mi.set(i,hi(mi.get(i)||null,e,t,l,a,n)),!0}return!1}function Ud(e){var t=ae(e.target);if(t!==null){var l=g(t);if(l!==null){if(t=l.tag,t===13){if(t=j(l),t!==null){e.blockedOn=t,za(e.priority,function(){if(l.tag===13){var a=Kt();a=Sn(a);var n=Za(l,a);n!==null&&Jt(n,l,a),Bc(l,a)}});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function As(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Gc(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ls=a,l.target.dispatchEvent(a),Ls=null}else return t=Ae(l),t!==null&&zd(t),e.blockedOn=l,!1;t.shift()}return!0}function Hd(e,t,l){As(e)&&l.delete(t)}function xy(){Qc=!1,ua!==null&&As(ua)&&(ua=null),ca!==null&&As(ca)&&(ca=null),ra!==null&&As(ra)&&(ra=null),di.forEach(Hd),mi.forEach(Hd)}function Es(e,t){e.blockedOn===t&&(e.blockedOn=null,Qc||(Qc=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,xy)))}var ws=null;function Bd(e){ws!==e&&(ws=e,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){ws===e&&(ws=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(kc(a||l)===null)continue;break}var i=Ae(l);i!==null&&(e.splice(t,3),t-=3,ku(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function yi(e){function t(d){return Es(d,e)}ua!==null&&Es(ua,e),ca!==null&&Es(ca,e),ra!==null&&Es(ra,e),di.forEach(t),mi.forEach(t);for(var l=0;l<fa.length;l++){var a=fa[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<fa.length&&(l=fa[0],l.blockedOn===null);)Ud(l),l.blockedOn===null&&fa.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],u=n[Nt]||null;if(typeof i=="function")u||Bd(l);else if(u){var r=null;if(i&&i.hasAttribute("formAction")){if(n=i,u=i[Nt]||null)r=u.formAction;else if(kc(n)!==null)continue}else r=u.action;typeof r=="function"?l[a+1]=r:(l.splice(a,3),a-=3),Bd(l)}}}function Xc(e){this._internalRoot=e}Ms.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=Kt();Dd(l,a,e,t,null,null)},Ms.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dd(e.current,2,null,e,null,null),fs(),t[_l]=null}};function Ms(e){this._internalRoot=e}Ms.prototype.unstable_scheduleHydration=function(e){if(e){var t=jn();e={blockedOn:null,target:e,priority:t};for(var l=0;l<fa.length&&t!==0&&t<fa[l].priority;l++);fa.splice(l,0,e),l===0&&Ud(e)}};var Yd=c.version;if(Yd!=="19.1.1")throw Error(o(527,Yd,"19.1.1"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=O(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var vy={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{be=Os.inject(vy),et=Os}catch{}}return gi.createRoot=function(e,t){if(!b(e))throw Error(o(299));var l=!1,a="",n=eo,i=to,u=lo,r=null;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(r=t.unstable_transitionCallbacks)),t=Md(e,1,!1,null,null,l,a,n,i,u,r,null),e[_l]=t.current,Tc(e),new Xc(t)},gi.hydrateRoot=function(e,t,l){if(!b(e))throw Error(o(299));var a=!1,n="",i=eo,u=to,r=lo,d=null,S=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(u=l.onCaughtError),l.onRecoverableError!==void 0&&(r=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(d=l.unstable_transitionCallbacks),l.formState!==void 0&&(S=l.formState)),t=Md(e,1,!0,t,l??null,a,n,i,u,r,d,S),t.context=Od(null),l=t.current,a=Kt(),a=Sn(a),n=Kl(a),n.callback=null,Jl(l,n,a),l=a,t.current.lanes=l,bl(t,l),pl(t),e[_l]=t.current,Tc(e),new Ms(t)},gi.version="19.1.1",gi}var $d;function Oy(){if($d)return Vc.exports;$d=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(c){console.error(c)}}return f(),Vc.exports=My(),Vc.exports}var Dy=Oy();const im=w.createContext({path:typeof window<"u"&&window.location&&window.location.pathname||"/",navigate:()=>{}});function qy({children:f}){const[c,h]=w.useState(()=>{if(typeof window>"u"||!window.location)return"/";try{return window.location.pathname||"/"}catch{return"/"}});w.useEffect(()=>{if(typeof window>"u")return;const g=()=>{try{h(window.location.pathname||"/")}catch{h("/")}};return window.addEventListener("popstate",g),()=>window.removeEventListener("popstate",g)},[]);const o=(g,j={})=>{if(!g)return;if(typeof window>"u"||!window.history||!window.location){h(g);return}const z=g;if(z!==c){try{j.replace?window.history.replaceState({},"",z):window.history.pushState({},"",z)}catch{}h(z)}},b=w.useMemo(()=>({path:c,navigate:o}),[c]);return s.jsx(im.Provider,{value:b,children:f})}function sm(){return w.useContext(im)}function zy(f){if(!f||f==="")return{name:"root",params:{}};if(f==="/")return{name:"root",params:{}};if(f.startsWith("/login"))return{name:"login",params:{}};if(f.startsWith("/dashboard"))return{name:"dashboard",params:{}};if(f.startsWith("/my"))return{name:"my",params:{}};if(f.startsWith("/employees"))return{name:"employees",params:{}};if(f.startsWith("/availability"))return{name:"availability",params:{}};if(f.startsWith("/feed"))return{name:"feed",params:{}};if(f.startsWith("/tasks"))return{name:"tasks",params:{}};if(f.startsWith("/messages"))return{name:"messages",params:{}};if(f.startsWith("/requests"))return{name:"requests",params:{}};if(f.startsWith("/settings"))return{name:"settings",params:{}};const c=f.match(/^\/schedule\/(\d{4}-\d{2}-\d{2})/);return c?{name:"schedule",params:{week:c[1]}}:f.startsWith("/schedule")?{name:"schedule",params:{}}:{name:"unknown",params:{}}}function Cy(f,c){const h=Array.isArray(f)?f:[],o=Array.isArray(c)?c:[];return h.map(b=>{const g=new Date(b);g.setHours(0,0,0,0);const j=g.toDateString(),z=o.filter(O=>{if(!O||!O.starts_at)return!1;const m=new Date(O.starts_at);return Number.isNaN(m.getTime())?!1:m.getFullYear()===g.getFullYear()&&m.getMonth()===g.getMonth()&&m.getDate()===g.getDate()}).sort((O,m)=>new Date(O.starts_at)-new Date(m.starts_at));return{key:j,date:g,shifts:z}})}function Wd(f){const c=new Date(f);return Number.isNaN(c.getTime())?"":c.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}function Ry(f,c){return!f||!c?"":`${Wd(f)}  ${Wd(c)}`}function Uy(f,c,h=0){const o=new Date(f),b=new Date(c);if(Number.isNaN(o.getTime())||Number.isNaN(b.getTime()))return"";const g=(Number(h)||0)*6e4,j=Math.max(0,b.getTime()-o.getTime()-g),z=Math.round(j/6e4),O=Math.floor(z/60),m=z%60;return O<=0&&m<=0?"":m===0?`${O}h`:O===0?`${m}m`:`${O}h ${m}m`}function Hy(f){const c=new Date(f);if(Number.isNaN(c.getTime()))return"";const h=c.toLocaleDateString([],{weekday:"short"}),o=c.getDate();return`${h} ${o}`}function By(f){switch(f){case"owner":return"border-emerald-200 bg-emerald-50 text-emerald-900";case"manager":return"border-amber-200 bg-amber-50 text-amber-900";default:return"border-sky-200 bg-sky-50 text-sky-900"}}function Yy(f){return f==="employee"?"Crew":f.charAt(0).toUpperCase()+f.slice(1)}function Gy({weekDays:f,shifts:c,users:h=[],positionsById:o={}}){const b=w.useMemo(()=>Cy(f,c),[f,c]),g=w.useMemo(()=>Object.fromEntries((h||[]).map(j=>[j.id,j])),[h]);return s.jsx("div",{className:"space-y-4",children:b.map(({key:j,date:z,shifts:O})=>s.jsxs("div",{className:"border-b border-gray-100 pb-3 last:border-b-0",children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:Hy(z)}),O.length===0&&s.jsx("div",{className:"text-[11px] text-gray-400",children:"No shifts"})]}),s.jsx("div",{className:"space-y-2",children:O.map(m=>{const M=g[m.user_id],Q=o[m.position_id]||null,H=M?.role||"employee",V=By(H),ue=Uy(m.starts_at,m.ends_at,m.break_min);return s.jsxs("div",{className:`w-full rounded-xl border px-3 py-2 text-sm shadow-sm ${V}`,children:[s.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[s.jsx("div",{className:"font-semibold",children:Ry(m.starts_at,m.ends_at)}),ue&&s.jsx("div",{className:"text-xs font-medium opacity-80",children:ue})]}),s.jsx("div",{className:"mt-1 text-sm font-medium",children:M?.full_name||"Unassigned"}),s.jsxs("div",{className:"mt-0.5 text-xs opacity-90",children:[Q?.name||"Shift",s.jsxs("span",{children:["  ",Yy(H)]})]})]},m.id)})})]},j))})}const vn=f=>{if(f instanceof Date){const o=new Date(f);return isNaN(o.getTime())?new Date:o}const c=String(f||"");if(/^\d{4}-\d{2}-\d{2}$/.test(c)){const[o,b,g]=c.split("-").map(Number);return new Date(o,b-1,g)}const h=new Date(c);return isNaN(h.getTime())?new Date:h},Fc=f=>vn(f).toISOString().slice(0,10),gn=f=>{const c=vn(f),h=c.getFullYear(),o=String(c.getMonth()+1).padStart(2,"0"),b=String(c.getDate()).padStart(2,"0");return`${h}-${o}-${b}`},Ds=f=>vn(f).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Fd=f=>vn(f).toLocaleDateString([],{weekday:"short",month:"numeric",day:"numeric"}),Pd=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#e879f9","#22d3ee","#fb7185"],Id=(f="")=>{let c=0;const h=String(f);for(let o=0;o<h.length;o++)c=c*31+h.charCodeAt(o)>>>0;return Pd[c%Pd.length]},em=(f="")=>({owner:"#e11d48",manager:"#0ea5e9",employee:"#64748b"})[f]||"#6b7280",Wc=(f,c,h=0)=>Math.max(0,(vn(c)-vn(f)-(Number(h)||0)*6e4)/36e5),ky=(f,c,h)=>f>=c&&f<=h,um=()=>{try{return typeof localStorage>"u"?null:localStorage.getItem("shiftmate_auth_token")}catch{return null}},Qy=()=>typeof fetch=="function"&&!!um(),Xy=async(f,c={})=>{const h=um();if(typeof fetch!="function"||!h)throw new Error("schedule_api_unavailable");const o=await fetch(f,{method:c.method||"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`,...c.headers||{}},body:c.body?JSON.stringify(c.body):void 0});if(!o.ok){let g=null;try{g=await o.json()}catch{}const j=g&&(g.error||g.message)||`Request failed (${o.status})`,z=new Error(j);throw z.status=o.status,z.body=g,z}const b=await o.text();if(!b)return null;try{return JSON.parse(b)}catch{return null}};function Pc(f){const{employees:c,weekDays:h,shifts:o,positionsById:b,unavailability:g,timeOffList:j,showTimeOffChips:z,onCreate:O,onDelete:m,onEdit:M,currentUserId:Q,showTileActions:H=!1,swapIndicators:V={},onOfferGiveaway:ue,onProposeTrade:K,allowCrossPosition:fe=!1,isQualified:xe=()=>!0,onDuplicate:ie,onMoveShift:me}=f||{},le=!!(f&&(f.useDense??f.dense)),[P,Se]=w.useState(null),Ye=w.useMemo(()=>Object.fromEntries((c||[]).map(B=>[B.id,B.full_name])),[c]),he=w.useMemo(()=>Q?(o||[]).filter(B=>B.user_id!==Q):[],[o,Q]),Je=w.useMemo(()=>{const B={};for(const oe of c)B[oe.id]=[];for(const oe of g)B[oe.user_id]&&B[oe.user_id].push(oe);return B},[c,g]),rt=w.useMemo(()=>{const B={};for(const oe of c)B[oe.id]=[];for(const oe of j||[])B[oe.user_id]&&B[oe.user_id].push(oe);return B},[c,j]),je=le?"p-1 min-h-[60px]":"p-2 min-h-24";return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"grid grid-cols-[200px_repeat(7,1fr)_120px]",children:[s.jsx("div",{className:"sticky left-0 top-0 z-20 bg-gray-50 p-2 font-semibold shadow-sm",children:"Employee"}),h.map(B=>s.jsx("div",{className:"sticky top-0 z-10 bg-gray-50 p-2 text-center font-semibold shadow-sm",children:Fd(B)},String(B))),s.jsx("div",{className:"sticky top-0 z-10 bg-gray-50 p-2 text-center font-semibold shadow-sm",children:"Total"}),c.map(B=>s.jsxs(tr.Fragment,{children:[s.jsxs("div",{className:"sticky left-0 z-10 border-t bg-white p-2 font-medium",children:[B.full_name,s.jsx("span",{className:"ml-2 align-middle text-[11px]",style:{border:`1px solid ${em(B.role)}`,color:em(B.role),padding:"2px 8px",borderRadius:"9999px"},children:B.role})]}),h.map(oe=>{const Ue=gn(oe),Te=o.filter(U=>U.user_id===B.id&&gn(U.starts_at)===Ue),A=(Je[B.id]||[]).filter(U=>U.kind==="date"?U.date===Ue:U.weekday===oe.getDay()),X=(rt[B.id]||[]).filter(U=>ky(Ue,U.date_from,U.date_to));return s.jsx("div",{className:`border-l border-t ${je}`,onDragOver:U=>{U.preventDefault(),U.dataTransfer.dropEffect="move"},onDrop:U=>{const I=U.dataTransfer.getData("text/plain");I&&me?.(I,B.id,oe)},children:s.jsxs("div",{className:"space-y-2",children:[z&&X.map(U=>s.jsxs("div",{className:`rounded-xl border px-2 py-1 text-xs ${U.status==="approved"?"border-green-300 bg-green-50 text-green-700":U.status==="pending"?"border-amber-300 bg-amber-50 text-amber-700":"border-gray-300 bg-gray-50 text-gray-700"}`,children:["Time off ",U.date_from,"",U.date_to," (",U.status,")",U.notes?`  ${U.notes}`:""]},U.id)),A.map(U=>s.jsxs("div",{className:"rounded-xl border border-red-300 bg-red-50 px-2 py-1 text-xs text-red-700",children:["Unavailable ",U.start_hhmm,"",U.end_hhmm,U.notes?`  ${U.notes}`:""]},U.id)),Te.map(U=>s.jsxs("div",{draggable:!0,onDragStart:I=>{I.dataTransfer.setData("text/plain",U.id),I.dataTransfer.effectAllowed="move"},className:`group relative rounded-xl border border-gray-200 bg-white ${le?"px-2 py-1 text-xs":"px-2.5 py-2 text-sm"} shadow-sm transition hover:border-gray-300 hover:shadow-md`,style:{borderLeft:`4px solid ${Id(U.position_id)}`},onClick:()=>{H&&Q&&U.user_id===Q&&Se(I=>I===U.id?null:U.id)},children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"font-medium",children:[Ds(U.starts_at),"  ",Ds(U.ends_at)]}),s.jsxs("div",{className:"absolute right-1 top-1 hidden gap-1 md:flex md:opacity-0 md:transition md:duration-150 md:group-hover:opacity-100",children:[M&&s.jsx("button",{className:"rounded border border-gray-200 bg-gray-50 p-1 hover:bg-gray-100",onClick:I=>{I.stopPropagation(),M(U)},"aria-label":"Edit shift",title:"Edit",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-gray-700",children:s.jsx("path",{d:"M12.316 2.434a1.5 1.5 0 0 1 2.122 0l3.128 3.128a1.5 1.5 0 0 1 0 2.122l-9.17 9.17a2 2 0 0 1-1.106.56l-3.89.557a.75.75 0 0 1-.852-.852l.558-3.89a2 2 0 0 1 .56-1.106l9.172-9.17Zm1.414 1.414L6.56 11.018a.5.5 0 0 0-.14.276l-.29 2.023 2.023-.29a.5.5 0 0 0 .276-.14l7.168-7.168-1.867-1.867Z"})})}),M&&m&&s.jsx("span",{className:"text-gray-300",children:"|"}),M&&s.jsx("button",{className:"rounded border border-gray-200 bg-gray-50 p-1 hover:bg-gray-100",onClick:I=>{I.stopPropagation(),ie?.(U.id)},"aria-label":"Duplicate shift",title:"Duplicate",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-gray-700",children:s.jsx("path",{d:"M7 4.5A1.5 1.5 0 0 1 8.5 3h6A1.5 1.5 0 0 1 16 4.5v6A1.5 1.5 0 0 1 14.5 12h-6A1.5 1.5 0 0 1 7 10.5v-6Zm-3 3A1.5 1.5 0 0 1 5.5 6h.5v7a2 2 0 0 0 2 2H15v.5A1.5 1.5 0 0 1 13.5 17h-6A1.5 1.5 0 0 1 6 15.5v-6Z"})})}),m&&s.jsx("button",{className:"rounded border border-gray-200 bg-gray-50 p-1 hover:bg-gray-100",onClick:I=>{I.stopPropagation(),m(U.id)},"aria-label":"Delete shift",title:"Delete",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-gray-700",children:s.jsx("path",{fillRule:"evenodd",d:"M8.75 2A1.75 1.75 0 0 0 7 3.75V4H3.5a.75.75 0 0 0 0 1.5h.548l.862 10.341A2.25 2.25 0 0 0 7.154 18h5.692a2.25 2.25 0 0 0 2.244-2.159L15.952 5.5H16.5a.75.75 0 0 0 0-1.5H13v-.25A1.75 1.75 0 0 0 11.25 2h-2.5Zm1.75 2h-2.5v.25H10.5V4Zm-3.75 3a.75.75 0 0 1 .75.75v7a.75.75 0 0 1-1.5 0v-7A.75.75 0 0 1 6.75 7Zm6.5 0a.75.75 0 0 1 .75.75v7a.75.75 0 0 1-1.5 0v-7a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})})})]})]}),s.jsx("button",{className:"absolute right-1 top-1 rounded p-1 md:hidden",onClick:I=>{I.stopPropagation(),Se(y=>y===U.id?null:U.id)},"aria-label":"More actions",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-gray-600",children:s.jsx("path",{d:"M6 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})})}),(A.length>0||X.length>0)&&s.jsxs("div",{className:"absolute left-1 top-1 flex gap-1 text-[10px]",children:[A.length>0&&s.jsx("span",{className:"rounded bg-red-100 px-1 text-red-700",children:"UA"}),X.length>0&&s.jsx("span",{className:"rounded bg-amber-100 px-1 text-amber-700",children:"TO"})]}),s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:"inline-flex items-center rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 text-[11px] text-gray-700",children:[s.jsx("span",{className:"mr-1 inline-block h-2 w-2 rounded-full",style:{backgroundColor:Id(U.position_id)}}),b[U.position_id]?.name||"?"]})}),(V[U.id]?.give||V[U.id]?.trade)&&s.jsxs("div",{className:"pointer-events-none absolute right-1 top-1 flex gap-1 text-xs opacity-70",children:[V[U.id]?.give&&s.jsx("span",{title:"Giveaway",children:"Give"}),V[U.id]?.trade&&s.jsx("span",{title:"Trade",children:"Trade"})]}),P===U.id&&s.jsxs("div",{className:"absolute right-1 top-6 z-20 rounded-lg border bg-white p-1 text-xs shadow md:hidden",children:[M&&s.jsx("button",{className:"block w-full rounded px-2 py-1 text-left hover:bg-gray-50",onClick:I=>{I.stopPropagation(),M(U),Se(null)},children:"Edit"}),ie&&s.jsx("button",{className:"block w-full rounded px-2 py-1 text-left hover:bg-gray-50",onClick:I=>{I.stopPropagation(),ie(U.id),Se(null)},children:"Duplicate"}),m&&s.jsx("button",{className:"block w-full rounded px-2 py-1 text-left hover:bg-gray-50",onClick:I=>{I.stopPropagation(),m(U.id),Se(null)},children:"Delete"})]}),H&&Q&&U.user_id===Q&&P===U.id&&s.jsxs("div",{className:"absolute bottom-1 right-1 z-20 hidden rounded-lg border bg-white p-1 text-xs shadow md:block",children:[s.jsx("button",{className:"block w-full rounded px-2 py-1 text-left hover:bg-gray-50",onClick:I=>{I.stopPropagation(),ue?.(U.id),Se(null)},children:"Offer Giveaway"}),s.jsxs("div",{className:"mt-1 grid gap-1",children:[s.jsx("div",{className:"px-2 text-[11px] text-gray-600",children:"Propose Trade for:"}),s.jsxs("select",{className:"w-56 rounded border px-2 py-1",onChange:I=>{const y=I.target.value||"";y&&(I.stopPropagation(),K?.(U.id,y),Se(null))},children:[s.jsx("option",{value:"",children:"Select coworker shift?"}),he.filter(I=>{const y=I.position_id===U.position_id,G=fe&&xe(Q,I.position_id)&&xe(I.user_id,U.position_id);return y||G}).map(I=>s.jsxs("option",{value:I.id,children:[Ye[I.user_id]||"Unknown"," A ",Fd(I.starts_at)," A ",Ds(I.starts_at),'?"',Ds(I.ends_at)," ",b[I.position_id]?.name?`A ${b[I.position_id]?.name}`:""]},I.id))]})]})]})]},U.id)),s.jsx("button",{className:"text-xs underline",onClick:()=>O(B.id,oe),children:"+ add"})]})},B.id+Ue)}),s.jsx("div",{className:"border-l border-t p-2 text-right font-semibold",children:(o||[]).filter(Ue=>Ue.user_id===B.id&&h.some(Te=>gn(Te)===gn(Ue.starts_at))).reduce((Ue,Te)=>Ue+Wc(Te.starts_at,Te.ends_at,Te.break_min),0).toFixed(2)+" h"})]},B.id)),s.jsx("div",{className:"sticky left-0 z-10 border-t bg-gray-50 p-2 font-semibold",children:"Totals"}),h.map(B=>s.jsx("div",{className:"border-l border-t p-2 text-right font-semibold",children:(()=>{const oe=gn(B);return(o||[]).filter(Te=>gn(Te.starts_at)===oe).reduce((Te,A)=>Te+Wc(A.starts_at,A.ends_at,A.break_min),0).toFixed(2)+" h"})()},"totals"+String(B))),s.jsx("div",{className:"border-l border-t p-2 text-right font-semibold",children:(o||[]).reduce((oe,Ue)=>oe+Wc(Ue.starts_at,Ue.ends_at,Ue.break_min),0).toFixed(2)+" h"})]})})}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex w-8 items-center justify-end bg-gradient-to-l from-white/90 to-transparent sm:hidden",children:s.jsx("span",{className:"pr-1 text-[10px] font-medium text-gray-400",children:"?"})})]})}function qs({role:f,mode:c,weekDays:h,shifts:o,employees:b,currentUserId:g,positionsById:j}){const z=w.useMemo(()=>Array.isArray(o)?c==="my"&&g?o.filter(m=>m.user_id===g):o:[],[o,c,g]),O=w.useMemo(()=>Array.isArray(b)?c==="my"&&g?b.filter(m=>m.id===g):b:[],[b,c,g]);return s.jsx(Gy,{weekDays:h,shifts:z,users:O,positionsById:j})}function tm({currentUser:f,schedule:c,weekDays:h,positionsById:o,users:b=[],swapIndicators:g={},onOfferGiveaway:j,onProposeTrade:z,allowCrossPosition:O=!1,isQualified:m=()=>!0}){const[M,Q]=w.useState(null),H=w.useMemo(()=>h&&h.length?Fc(h[0]):null,[h]);w.useEffect(()=>{if(!Qy()||!f||!H){Q(null);return}let fe=!1;return(async()=>{try{const xe=new URLSearchParams({weekStart:H}),ie=await Xy(`/api/my/shifts?${xe.toString()}`);fe||Q(ie&&ie.data||[])}catch(xe){console.warn("MyShifts API error, falling back to schedule prop",xe),fe||Q(null)}})(),()=>{fe=!0}},[f?.id,H]);const V=w.useMemo(()=>Array.isArray(M)?M:(c?.shifts||[]).filter(K=>K.user_id===f.id),[M,c?.shifts,f?.id]),ue=w.useMemo(()=>(b||[]).filter(K=>f&&K.id===f.id),[b,f?.id]);return s.jsx(Pc,{employees:ue,weekDays:h,shifts:V,positionsById:o,unavailability:[],timeOffList:[],showTimeOffChips:!1,currentUserId:f.id,showTileActions:!0,swapIndicators:g,onOfferGiveaway:j,onProposeTrade:z,allowCrossPosition:O,isQualified:m})}function Ly({onSubmit:f}){const[c,h]=w.useState(Fc(new Date)),[o,b]=w.useState(Fc(new Date)),[g,j]=w.useState("");return s.jsxs("div",{className:"mt-4 rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Request time off"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"From"}),s.jsx("input",{type:"date",value:c,onChange:z=>h(z.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"To"}),s.jsx("input",{type:"date",value:o,onChange:z=>b(z.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm md:col-span-1",children:[s.jsx("span",{className:"text-gray-600",children:"Notes"}),s.jsx("input",{type:"text",value:g,onChange:z=>j(z.target.value),className:"rounded-xl border px-3 py-2"})]})]}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>f({date_from:c,date_to:o,notes:g}),children:"Submit"})})]})}class Zy extends tr.Component{constructor(c){super(c),this.state={error:null}}static getDerivedStateFromError(c){return{error:c}}componentDidCatch(c,h){try{console.error("App error:",c,h)}catch{}}render(){if(this.state.error){const c=this.state.error,h=String(c&&(c.stack||c.message||c));return s.jsxs("div",{style:{padding:16,fontFamily:"system-ui"},children:[s.jsx("h2",{style:{fontWeight:800,marginBottom:8},children:"Something went wrong"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap",background:"#fff7ed",border:"1px solid #fed7aa",padding:12,borderRadius:12},children:h}),s.jsx("div",{style:{marginTop:12,display:"flex",gap:8},children:s.jsx("button",{onClick:()=>{try{localStorage.removeItem("shiftmate_v2"),localStorage.removeItem("shiftmate_current_user"),localStorage.removeItem("shiftmate_schedule_view"),location.reload()}catch(o){console.warn(o)}},style:{padding:"8px 12px",borderRadius:12,border:"1px solid #e5e7eb",background:"#111827",color:"#fff"},children:"Clear Storage & Reload"})})]})}return this.props.children}}const Vy=()=>s.jsx("style",{children:" ... "}),Hs=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ce=f=>{if(f instanceof Date){const o=new Date(f);return isNaN(o.getTime())?new Date:o}const c=String(f||"");if(/^\d{4}-\d{2}-\d{2}$/.test(c)){const[o,b,g]=c.split("-").map(Number);return new Date(o,b-1,g)}const h=new Date(c);return isNaN(h.getTime())?new Date:h},Ky=(f,c)=>{const h=Ce(f),o=new Date(h);return o.setDate(o.getDate()+c),o},sl=(f,c=1)=>{const h=Ce(f),o=h.getDay(),b=(o<c?7:0)+o-c;return h.setDate(h.getDate()-b),h.setHours(0,0,0,0),h},at=f=>Ce(f).toISOString().slice(0,10),Jy=f=>{const c=Ce(f),h=c.getFullYear(),o=String(c.getMonth()+1).padStart(2,"0"),b=String(c.getDate()).padStart(2,"0");return`${h}-${o}-${b}`},zs=f=>Ce(f).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),$y=f=>Ce(f).toLocaleDateString([],{weekday:"short",month:"numeric",day:"numeric"}),Le=()=>Math.random().toString(36).slice(2,10),xn=()=>new Date,Cs=f=>{const c=Ce(f),h=String(c.getHours()).padStart(2,"0"),o=String(c.getMinutes()).padStart(2,"0");return`${h}:${o}`},gl=f=>{const[c,h]=String(f||"00:00").split(":").map(o=>Number(o)||0);return c*60+h},Rs=(f,c)=>{const h=Ce(f),[o,b]=String(c||"00:00").split(":").map(j=>Number(j)||0),g=new Date(h);return g.setHours(o,b,0,0),g},Wy=(f,c,h,o)=>Math.max(f,h)<Math.min(c,o),Us=(f,c,h=0)=>Math.max(0,(Ce(c)-Ce(f)-(Number(h)||0)*6e4)/36e5),Fy=(f,c)=>{const h=new Blob([c],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(h),b=document.createElement("a");b.href=o,b.download=f,b.click(),URL.revokeObjectURL(o)},Py=(f,c,h)=>f>=c&&f<=h,cm=()=>{try{return typeof localStorage>"u"?null:localStorage.getItem("shiftmate_auth_token")}catch{return null}},il=()=>typeof fetch=="function"&&!!cm(),$t=async(f,c={})=>{const h=cm();if(typeof fetch!="function"||!h)throw new Error("schedule_api_unavailable");const o=await fetch(f,{method:c.method||"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`,...c.headers||{}},body:c.body?JSON.stringify(c.body):void 0});if(!o.ok){let g=null;try{g=await o.json()}catch{}const j=g&&(g.error||g.message)||`Request failed (${o.status})`,z=new Error(j);throw z.status=o.status,z.body=g,z}const b=await o.text();if(!b)return null;try{return JSON.parse(b)}catch{return null}},rm="shiftmate_v2",vi=()=>({unavailabilityEnabled:!0,employeeEditUnavailability:!0,showTimeOffOnSchedule:!0,newsfeedEnabled:!0,employeesCanPostToFeed:!1,tasksEnabled:!0,messagesEnabled:!0,requireManagerApproval:!0,swapCutoffHours:12,allowCrossPosition:!1,weekStartsOn:1}),Ic=()=>{const f={id:"loc1",name:"Main Shop"},c=[{id:Le(),location_id:f.id,name:"Scooper"},{id:Le(),location_id:f.id,name:"Shift Lead"},{id:Le(),location_id:f.id,name:"Manager"}],h=Object.fromEntries(c.map(j=>[j.name,j])),o=[{id:Le(),location_id:f.id,full_name:"Manager Mike",email:"manager@demo.local",password:"demo",role:"manager",is_active:!0,phone:"",birthday:"",pronouns:"",emergency_contact:{name:"",phone:""},attachments:[],notes:""},{id:Le(),location_id:f.id,full_name:"Owner Olivia",email:"owner@demo.local",password:"demo",role:"owner",is_active:!0,phone:"",birthday:"",pronouns:"",emergency_contact:{name:"",phone:""},attachments:[],notes:""},{id:Le(),location_id:f.id,full_name:"Lily Adams",email:"lily@example.com",password:"demo",role:"employee",is_active:!0,phone:"",birthday:"",pronouns:"she/her",emergency_contact:{name:"A. Adams",phone:"555-0102"},attachments:[],notes:""},{id:Le(),location_id:f.id,full_name:"Gavin Reed",email:"gavin@example.com",password:"demo",role:"employee",is_active:!0,phone:"",birthday:"",pronouns:"he/him",emergency_contact:{name:"R. Reed",phone:"555-0103"},attachments:[],notes:""},{id:Le(),location_id:f.id,full_name:"Riley Brooks",email:"riley@example.com",password:"demo",role:"employee",is_active:!0,phone:"",birthday:"",pronouns:"they/them",emergency_contact:{name:"K. Brooks",phone:"555-0104"},attachments:[],notes:""}],b=Object.fromEntries(o.map(j=>[j.full_name,j])),g=[{id:Le(),user_id:b["Lily Adams"].id,position_id:h.Scooper.id},{id:Le(),user_id:b["Gavin Reed"].id,position_id:h.Scooper.id},{id:Le(),user_id:b["Riley Brooks"].id,position_id:h["Shift Lead"].id}];return{locations:[f],positions:c,users:o,schedules:[],swap_requests:[],swap_offers:[],swap_audit_logs:[],time_off_requests:[],unavailability:[],availability_change_requests:[],news_posts:[],tasks:[],task_templates:[],messages:[],user_qualifications:g,feature_flags:vi()}},Iy=()=>{try{const f=localStorage.getItem(rm);if(!f)return Ic();const c=JSON.parse(f);if(c.unavailability||(c.unavailability=[]),c.time_off_requests||(c.time_off_requests=[]),c.availability_change_requests||(c.availability_change_requests=[]),c.news_posts||(c.news_posts=[]),c.tasks||(c.tasks=[]),c.task_templates||(c.task_templates=[]),c.messages||(c.messages=[]),c.feature_flags||(c.feature_flags=vi()),c.feature_flags.weekStartsOn==null&&(c.feature_flags.weekStartsOn=1),c.swap_requests||(c.swap_requests=[]),c.swap_offers||(c.swap_offers=[]),c.swap_audit_logs||(c.swap_audit_logs=[]),c.feature_flags.requireManagerApproval==null&&(c.feature_flags.requireManagerApproval=!0),c.feature_flags.swapCutoffHours==null&&(c.feature_flags.swapCutoffHours=12),c.feature_flags.allowCrossPosition==null&&(c.feature_flags.allowCrossPosition=!1),c.schedules||(c.schedules=[]),c.users=(c.users||[]).map(h=>({phone:"",birthday:"",pronouns:"",emergency_contact:{name:"",phone:""},attachments:[],notes:"",...h,emergency_contact:{name:"",phone:"",...h.emergency_contact||{}}})),c.user_qualifications||(c.user_qualifications=[]),(c.user_qualifications||[]).length===0){const h=[],o={};for(const b of c.positions||[])o[b.location_id]||(o[b.location_id]=[]),o[b.location_id].push(b);for(const b of c.users||[])for(const g of o[b.location_id]||[])h.push({id:Le(),user_id:b.id,position_id:g.id});c.user_qualifications=h}return c}catch(f){return console.error(f),Ic()}},ep=f=>{const{schedules:c,...h}=f||{};localStorage.setItem(rm,JSON.stringify(h))};function Gt({title:f,right:c,children:h}){return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold",children:f}),s.jsx("div",{children:c})]}),s.jsx("div",{className:"rounded-2xl border p-4 shadow-sm",children:h})]})}function da({children:f,tone:c="default"}){const h=c==="success"?"text-green-700":c==="warn"?"text-amber-700":c==="danger"?"text-red-700":"text-gray-700",o=c==="success"?"bg-green-50 border-green-300":c==="warn"?"bg-amber-50 border-amber-300":c==="danger"?"bg-red-50 border-red-300":"bg-gray-50 border-gray-300";return s.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-xs ${o} ${h}`,children:f})}function tp({children:f}){return s.jsx("div",{className:"flex flex-wrap gap-2",children:f})}function Rt({label:f,value:c,onChange:h,type:o="text",placeholder:b}){return s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:f}),s.jsx("input",{type:o,value:c,onChange:g=>h(g.target.value),placeholder:b,className:"rounded-xl border px-3 py-2"})]})}function lp({label:f,value:c,onChange:h,placeholder:o}){return s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:f}),s.jsx("textarea",{value:c,onChange:b=>h(b.target.value),placeholder:o,className:"min-h-[80px] rounded-xl border px-3 py-2"})]})}function ol({label:f,value:c,onChange:h,options:o}){return s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:f}),s.jsx("select",{value:c,onChange:b=>h(b.target.value),className:"rounded-xl border px-3 py-2",children:o.map(b=>s.jsx("option",{value:b.value,children:b.label},b.value))})]})}function xi({label:f,checked:c,onChange:h,hint:o}){return s.jsxs("label",{className:"flex items-start gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:c,onChange:b=>h(b.target.checked),className:"mt-1"}),s.jsxs("span",{children:[s.jsx("span",{className:"font-medium",children:f}),o&&s.jsx("div",{className:"text-xs text-gray-600",children:o})]})]})}function fm({open:f,onClose:c,title:h,children:o,footer:b}){return w.useEffect(()=>{if(!f||typeof document>"u"||!document.body)return;const g=document.body.style.overflow||"";return document.body.style.overflow="hidden",()=>{document.body.style.overflow=g}},[f]),f?s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 p-3",onClick:c,children:s.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-white p-4 shadow-xl",onClick:g=>g.stopPropagation(),children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:h}),s.jsx("button",{className:"rounded-xl border px-2 py-1 text-sm",onClick:c,children:"Close"})]}),s.jsx("div",{className:"space-y-3",children:o}),s.jsx("div",{className:"mt-4 flex justify-end gap-2",children:b})]})}):null}const om=w.createContext(null),lr=()=>w.useContext(om);function ap({children:f,data:c,setData:h}){const[o,b]=w.useState(()=>localStorage.getItem("shiftmate_current_user")||null),g=c.users.find(m=>m.id===o)||null,j=(m,M)=>{const Q=c.users.find(V=>V.email.toLowerCase()===m.toLowerCase());if(!Q)throw new Error("No account found");const H=Q.password||"demo";if(M!==H)throw new Error("Wrong password");return localStorage.setItem("shiftmate_current_user",Q.id),b(Q.id),Q},z=()=>{localStorage.removeItem("shiftmate_current_user"),b(null)},O=(m,M=c.locations[0]?.id)=>{const Q={id:Le(),location_id:M,role:"employee",is_active:!0,password:"demo",attachments:[],...m};h(H=>({...H,users:[...H.users,Q]}))};return s.jsx(om.Provider,{value:{currentUser:g,login:j,logout:z,addUser:O},children:f})}function np(){const[f,c]=w.useState(Iy),[h,o]=w.useState("loc1"),b=at(sl(xn(),1)),[g,j]=w.useState(b),[z,O]=w.useState({open:!1,preUserId:null,preDay:null}),[m,M]=w.useState(!1),Q=f.locations.find(E=>E.id===h)||f.locations[0],H=f.users.filter(E=>E.location_id===Q.id&&E.is_active),V=f.positions.filter(E=>E.location_id===Q.id),ue=w.useMemo(()=>Object.fromEntries(V.map(E=>[E.id,E])),[V]);w.useEffect(()=>{c(E=>({...E,unavailability:E.unavailability||[],news_posts:E.news_posts||[],tasks:E.tasks||[],task_templates:E.task_templates||[],messages:E.messages||[],feature_flags:E.feature_flags||vi(),users:(E.users||[]).map(k=>({phone:"",birthday:"",pronouns:"",emergency_contact:{name:"",phone:""},attachments:[],notes:"",...k,emergency_contact:{name:"",phone:"",...k.emergency_contact||{}}}))}))},[]),w.useEffect(()=>{const E=(f.feature_flags||vi()).weekStartsOn??1;j(k=>at(sl(k,E)))},[]);const K=w.useMemo(()=>(f.schedules||[]).find(E=>E.location_id===Q.id&&E.week_start===g),[f.schedules,Q.id,g]),fe=w.useMemo(()=>{const E=Ce(g);return Array.from({length:7},(k,L)=>{const D=new Date(E);return D.setDate(D.getDate()+L),D})},[g]);w.useEffect(()=>{ep(f)},[f]);const xe=async()=>{if(K)return K;const E=il(),k=Q.id,L=g;if(E)try{const J=new URLSearchParams({locationId:k,weekStart:L});try{const re=await $t(`/api/schedules?${J.toString()}`);if(re&&re.schedule){const $e=re.schedule;return c(se=>{const wt=(se.schedules||[]).filter(be=>be.id!==$e.id);return{...se,schedules:[...wt,$e]}}),$e}}catch(re){re&&re.status===404||console.warn("ensureSchedule load error",re)}const ve=await $t("/api/schedules",{method:"POST",body:{locationId:k,weekStart:L}});if(ve&&ve.schedule){const re=ve.schedule;return c($e=>({...$e,schedules:[...$e.schedules||[],re]})),re}}catch(J){console.warn("ensureSchedule API failed, falling back to local schedule",J)}const D={id:Le(),location_id:k,week_start:L,status:"draft",shifts:[]};return c(J=>({...J,schedules:[...J.schedules||[],D]})),D},ie=E=>{c(k=>{const L=k.schedules||[];return{...k,schedules:L.map(D=>D.location_id===Q.id&&D.week_start===g?E(D):D)}})},me=(E,k)=>{const L=at(k),D=Ce(k).getDay();return(f.unavailability||[]).filter(J=>J.user_id===E&&(J.kind==="date"&&J.date===L||J.kind==="weekly"&&J.weekday===D))};w.useEffect(()=>{K||xe()},[Q.id,g,K]);const le=(E,k,L,D)=>{const J=gl(L),ve=gl(D);return ve>J?me(E,k).filter($e=>Wy(J,ve,gl($e.start_hhmm),gl($e.end_hhmm))):[]},P=(E,k)=>{const L=at(k);return(f.time_off_requests||[]).filter(D=>D.user_id===E&&Py(L,D.date_from,D.date_to))},Se=(E,k)=>P(E,k).filter(D=>D.status==="pending"||D.status==="approved"),Ye=async E=>{const k=gl(E.start_hhmm);if(!(gl(E.end_hhmm)>k)){alert("End time must be after start time.");return}if(il()&&E.kind==="weekly")try{const J={user_id:E.user_id,weekday:E.weekday,start_hhmm:E.start_hhmm,end_hhmm:E.end_hhmm,notes:E.notes||""},ve=await $t("/api/availability",{method:"POST",body:J}),re=ve&&ve.row;if(re){const $e={id:re.id,user_id:re.user_id,kind:"weekly",weekday:re.weekday,start_hhmm:re.start_hhmm,end_hhmm:re.end_hhmm,notes:re.notes||""};c(se=>({...se,unavailability:[$e,...se.unavailability||[]]}));return}}catch(J){console.warn("addUnavailability API failed, falling back to local",J)}c(J=>({...J,unavailability:[{id:Le(),...E},...J.unavailability||[]]}))},he=async E=>{if(il()&&E.kind==="weekly"&&E.id)try{const L={weekday:E.weekday,start_hhmm:E.start_hhmm,end_hhmm:E.end_hhmm,notes:E.notes||""},D=await $t(`/api/availability/${encodeURIComponent(E.id)}`,{method:"PATCH",body:L}),J=D&&D.row;if(J){const ve={id:J.id,user_id:J.user_id,kind:"weekly",weekday:J.weekday,start_hhmm:J.start_hhmm,end_hhmm:J.end_hhmm,notes:J.notes||""};c(re=>({...re,unavailability:(re.unavailability||[]).map($e=>$e.id===E.id?ve:$e)}));return}}catch(L){console.warn("updateUnavailability API failed, falling back to local",L)}c(L=>({...L,unavailability:(L.unavailability||[]).map(D=>D.id===E.id?{...D,...E}:D)}))},Je=async E=>{if(il()&&E)try{await $t(`/api/availability/${encodeURIComponent(E)}`,{method:"DELETE"})}catch(L){console.warn("deleteUnavailability API failed, falling back to local",L)}c(L=>({...L,unavailability:(L.unavailability||[]).filter(D=>D.id!==E)}))},rt=lr(),je=rt?.currentUser?.id||null,B=rt?.currentUser?.role||"employee",oe=async({user_id:E,position_id:k,day:L,start_hhmm:D,end_hhmm:J,break_min:ve,notes:re,quickTaskTitle:$e,quickTaskTemplateId:se})=>{const We=gl(D);if(!(gl(J)>We)){alert("End time must be after start time.");return}const be=le(E,L,D,J);if(be.length){const Pe=be.slice(0,3).map(ke=>`${ke.kind==="weekly"?"Weekly":ke.date}: ${ke.start_hhmm}${ke.end_hhmm}${ke.notes?"  "+ke.notes:""}`).join(`
`);if(!confirm(`This shift overlaps with unavailability:
${Pe}

Schedule anyway?`))return}const et=Se(E,L);if(et.length){const Pe=et.slice(0,3).map(ke=>`${ke.date_from}${ke.date_to} (${ke.status})${ke.notes?"  "+ke.notes:""}`).join(`
`);if(!confirm(`This shift falls during time off:
${Pe}

Schedule anyway?`))return}const jt=Rs(L,D),st=Rs(L,J),Yl={position_id:k,user_id:E,starts_at:jt.toISOString(),ends_at:st.toISOString(),break_min:Number(ve||0),notes:re||""};let ha={id:Le(),...Yl};if(il())try{const Pe=K||await xe(),Ge=await $t("/api/shifts",{method:"POST",body:{...Yl,scheduleId:Pe.id}});Ge&&Ge.shift&&(ha=Ge.shift)}catch(Pe){console.warn("createShift API error, falling back to local state only",Pe),K||await xe()}else K||await xe();if(c(Pe=>{const Ge=Pe.schedules||[];return{...Pe,schedules:Ge.map(ke=>ke.location_id===Q.id&&ke.week_start===g?{...ke,shifts:[...ke.shifts||[],ha]}:ke)}}),se){const Pe=f.task_templates.find(Ge=>Ge.id===se);Pe&&He(Pe.title,E,at(L),je||E)}else $e&&$e.trim()&&He($e.trim(),E,at(L),je||E)},Ue=async E=>{if(!K)return;if(il())try{await $t(`/api/shifts/${encodeURIComponent(E)}`,{method:"DELETE"})}catch(L){console.warn("deleteShift API error, applying local state only",L)}ie(L=>({...L,shifts:(L.shifts||[]).filter(D=>D.id!==E)}))},Te=async({id:E,user_id:k,position_id:L,day:D,start_hhmm:J,end_hhmm:ve,break_min:re,notes:$e})=>{if(!K)return;const se=gl(J);if(!(gl(ve)>se)){alert("End time must be after start time.");return}const wt=le(k,D,J,ve);if(wt.length){const Mt=wt.slice(0,3).map(Ge=>(Ge.kind==="weekly"?"Weekly":Ge.date)+": "+(Ge.start_hhmm??"")+""+(Ge.end_hhmm??"")+(Ge.notes?"  "+Ge.notes:"")).join(`
`);if(!confirm(`This shift overlaps with unavailability:
${Mt}

Save anyway?`))return}const be=Se(k,D);if(be.length){const Mt=be.slice(0,3).map(Ge=>Ge.date_from+""+Ge.date_to+" ("+Ge.status+")"+(Ge.notes?"  "+Ge.notes:"")).join(`
`);if(!confirm(`This shift falls during time off:
${Mt}

Save anyway?`))return}const et=Rs(D,J),jt=Rs(D,ve),st={user_id:k,position_id:L,starts_at:et.toISOString(),ends_at:jt.toISOString(),break_min:Number(re||0),notes:$e||""};let Yl={id:E,...st};if(il())try{const Mt=await $t(`/api/shifts/${encodeURIComponent(E)}`,{method:"PATCH",body:st});Mt&&Mt.shift&&(Yl=Mt.shift)}catch(Mt){console.warn("updateShift API error, updating local state only",Mt)}ie(Mt=>({...Mt,shifts:(Mt.shifts||[]).map(Pe=>Pe.id===E?{...Pe,...Yl}:Pe)}))},A=E=>{if(!K)return;const k=K.shifts.find(ve=>ve.id===E);if(!k)return;const L=Jy(k.starts_at),D=Cs(k.starts_at),J=Cs(k.ends_at);oe({user_id:k.user_id,position_id:k.position_id,day:L,start_hhmm:D,end_hhmm:J,break_min:k.break_min,notes:k.notes})},X=(E,k,L)=>{if(!K)return;const D=K.shifts.find(re=>re.id===E);if(!D)return;const J=Cs(D.starts_at),ve=Cs(D.ends_at);Te({id:D.id,user_id:k,position_id:D.position_id,day:L,start_hhmm:J,end_hhmm:ve,break_min:D.break_min,notes:D.notes})},U=async()=>{if(!K)return;const E=K.status==="draft"?"published":"draft";let k={...K,status:E};if(il())try{const D=await $t(`/api/schedules/${encodeURIComponent(K.id)}`,{method:"PATCH",body:{status:E}});D&&D.schedule&&(k=D.schedule)}catch(D){console.warn("publish API error, toggling status locally only",D)}c(D=>({...D,schedules:(D.schedules||[]).map(J=>J.id===K.id?{...J,...k}:J)}))},I=w.useMemo(()=>{const E=Object.fromEntries(H.map(k=>[k.id,0]));if(!K)return E;for(const k of K.shifts)E[k.user_id]=(E[k.user_id]||0)+Us(k.starts_at,k.ends_at,k.break_min);return E},[K,H]),y=w.useMemo(()=>{const E=Object.fromEntries(fe.map(k=>[at(k),0]));if(!K)return E;for(const k of K.shifts){const L=at(k.starts_at);E[L]=(E[L]||0)+Us(k.starts_at,k.ends_at,k.break_min)}return E},[K,fe]),G=()=>{if(!K)return;const k=[["Week Start","Status","Employee","Position","Date","Start","End","Break (min)","Hours","Notes"]];for(const D of K.shifts){const J=f.users.find(re=>re.id===D.user_id),ve=ue[D.position_id];k.push([K.week_start,K.status,J?.full_name||"",ve?.name||"",at(D.starts_at),zs(D.starts_at),zs(D.ends_at),D.break_min,Us(D.starts_at,D.ends_at,D.break_min).toFixed(2),(D.notes||"").replaceAll(",",";")])}const L=k.map(D=>D.map(J=>`"${String(J).replaceAll('"','""')}"`).join(",")).join(`
`);Fy(`ShiftMate_${K.week_start}.csv`,L)},ee=async()=>{if(!K)return;const k=[["Employee","Date","Start","End","Break","Role","Hours"]];for(const D of K.shifts){const J=f.users.find(re=>re.id===D.user_id),ve=ue[D.position_id];k.push([J?.full_name||"",at(D.starts_at),zs(D.starts_at),zs(D.ends_at),D.break_min,ve?.name||"",Us(D.starts_at,D.ends_at,D.break_min).toFixed(2)])}const L=k.map(D=>D.join(",")).join(`
`);try{await navigator.clipboard.writeText(L),alert("CSV copied to clipboard")}catch{alert("Copy failed. Try Download instead.")}},$=()=>{if(!confirm("Reset demo data? This cannot be undone."))return;const E=Ic();c(E),j(at(sl(xn(),E.feature_flags.weekStartsOn))),localStorage.removeItem("shiftmate_current_user")},ce=async({user_id:E,date_from:k,date_to:L,notes:D})=>{if(il())try{const re={date_from:k,date_to:L,notes:D||""};E&&je&&E!==je&&(B==="manager"||B==="owner")&&(re.user_id=E);const $e=await $t("/api/time-off",{method:"POST",body:re}),se=$e&&$e.request;if(se){c(We=>({...We,time_off_requests:[se,...We.time_off_requests||[]]}));return}}catch(re){console.warn("createTimeOff API failed, falling back to local",re)}const ve={id:Le(),user_id:E,date_from:k,date_to:L,notes:D||"",status:"pending",created_at:new Date().toISOString()};c(re=>({...re,time_off_requests:[ve,...re.time_off_requests||[]]}))},qe=async(E,k)=>{if(il())try{const D=await $t(`/api/time-off/${encodeURIComponent(E)}`,{method:"PATCH",body:{status:k}}),J=D&&D.request;if(J){c(ve=>({...ve,time_off_requests:(ve.time_off_requests||[]).map(re=>re.id===E?J:re)}));return}}catch(D){console.warn("setTimeOffStatus API failed, falling back to local",D)}c(D=>({...D,time_off_requests:(D.time_off_requests||[]).map(J=>J.id===E?{...J,status:k}:J)}))},pe=(E,k,L)=>{const D=String(k||"").trim(),J=String(L||"").trim();if(!D&&!J)return;const ve={id:Le(),user_id:E,pattern:D,note:J,created_at:new Date().toISOString()};c(re=>({...re,availability_change_requests:[ve,...re.availability_change_requests||[]]}))},gt=(E,k)=>{const L={id:Le(),user_id:E,body:k.trim(),created_at:new Date().toISOString()};L.body&&c(D=>({...D,news_posts:[L,...D.news_posts]}))},He=(E,k,L,D)=>{const J={id:Le(),title:E.trim(),assigned_to:k,due_date:L,status:"open",created_by:D};if(!J.title||!k)return alert("Task needs a title and assignee");c(ve=>({...ve,tasks:[J,...ve.tasks]}))},zt=(E,k)=>c(L=>({...L,tasks:L.tasks.map(D=>D.id===E?{...D,status:k}:D)})),St=E=>c(k=>({...k,tasks:k.tasks.filter(L=>L.id!==E)})),it=E=>c(k=>({...k,task_templates:[{id:Le(),title:E.trim()},...k.task_templates]})),Bl=E=>c(k=>({...k,task_templates:k.task_templates.filter(L=>L.id!==E)})),F=(E,k,L)=>{const D={id:Le(),from_user_id:E,to_user_id:k,body:L.trim(),created_at:new Date().toISOString()};D.body&&c(J=>({...J,messages:[...J.messages,D]}))},ma=E=>c(k=>({...k,users:[...k.users,{id:Le(),location_id:k.locations[0]?.id||"loc1",role:E.role||"employee",is_active:!0,password:"demo",attachments:E.attachments||[],...E}]}));return s.jsx(Zy,{children:s.jsx(ap,{data:f,setData:c,children:s.jsx(ip,{data:f,setData:c,locationId:h,setLocationId:o,weekStart:g,setWeekStart:j,users:H,positions:V,positionsById:ue,weekDays:fe,schedule:K,ensureSchedule:xe,createShift:oe,updateShift:Te,deleteShift:Ue,handleDuplicateShift:A,moveShift:X,publish:U,totalHoursByUser:I,totalHoursByDay:y,copyCsv:ee,exportCsv:G,resetDemo:$,shiftModal:z,setShiftModal:O,addEmployee:ma,addPosition:E=>c(k=>({...k,positions:[...k.positions,{id:Le(),location_id:Q.id,name:E}]})),createTimeOff:ce,setTimeOffStatus:qe,addAvailabilityChangeRequest:pe,addUnavailability:Ye,updateUnavailability:he,deleteUnavailability:Je,unavailability:f.unavailability||[],addPost:gt,addTask:He,setTaskStatus:zt,deleteTask:St,addTemplate:it,deleteTemplate:Bl,sendMessage:F,dense:m,setDense:M})})})}function ip(f){const{data:c,setData:h,locationId:o,setLocationId:b,weekStart:g,setWeekStart:j,users:z,positions:O,positionsById:m,weekDays:M,schedule:Q,ensureSchedule:H,createShift:V,updateShift:ue,deleteShift:K,handleDuplicateShift:fe,moveShift:xe,publish:ie,totalHoursByUser:me,totalHoursByDay:le,copyCsv:P,exportCsv:Se,resetDemo:Ye,shiftModal:he,setShiftModal:Je,addEmployee:rt,addPosition:je,createTimeOff:B,setTimeOffStatus:oe,addAvailabilityChangeRequest:Ue,addUnavailability:Te,updateUnavailability:A,deleteUnavailability:X,unavailability:U,addPost:I,addTask:y,setTaskStatus:G,deleteTask:ee,addTemplate:$,deleteTemplate:ce,sendMessage:qe,dense:pe,setDense:gt}=f,He=!!pe,{path:zt,navigate:St}=sm(),{name:it,params:Bl}=w.useMemo(()=>zy(zt),[zt]),{currentUser:F,logout:ma}=lr(),k=(F?.role||"employee")==="employee",L="shiftmate_schedule_view",[D,J]=w.useState(()=>localStorage.getItem(L)||"my");w.useEffect(()=>{try{localStorage.setItem(L,D)}catch{}},[D]);const[ve,re]=w.useState("timeoff");w.useEffect(()=>{if(!F)return;localStorage.getItem(L)||J(k?"my":"full")},[F,k]);const $e=!F,se=c.feature_flags||vi(),We=!k,wt=z,be=w.useMemo(()=>it==="my"?"schedule":["schedule","dashboard","employees","availability","feed","tasks","messages","requests","settings"].includes(it)?it:"schedule",[it]);w.useEffect(()=>{if(!F){it!=="login"&&St("/login",{replace:!0});return}(it==="login"||it==="root"||it==="unknown")&&((F.role||"employee")==="employee"?St("/my",{replace:!0}):g&&St(`/schedule/${g}`,{replace:!0}))},[F,it,St,g]),w.useEffect(()=>{if(!F)return;const v=F.role||"employee";it==="dashboard"&&v==="employee"&&St("/my",{replace:!0})},[F,it,St]),w.useEffect(()=>{if(it!=="schedule")return;const v=Bl.week;v&&j(q=>q===v?q:v)},[it,Bl.week,j]),w.useEffect(()=>{if(!(!F||(F.role||"employee")==="employee")&&it==="schedule"){const q=`/schedule/${g}`;q!==zt&&St(q,{replace:!0})}},[F,it,g,zt,St]),w.useEffect(()=>{if(!il()||!F)return;let q=!1;return(async()=>{try{const Z=await $t("/api/time-off");!q&&Z&&Array.isArray(Z.data)&&h(W=>({...W,time_off_requests:Z.data}))}catch(Z){console.warn("time-off API error; keeping local state",Z)}})(),()=>{q=!0}},[F?.id,h]),w.useEffect(()=>{if(!il()||!F||!se.unavailabilityEnabled)return;let q=!1;return(async()=>{try{const Z=new URLSearchParams;F.role==="employee"&&Z.set("userId",F.id);const W=Z.toString(),_e=await $t(`/api/availability${W?`?${W}`:""}`);if(!q&&_e&&Array.isArray(_e.data)){const ae=_e.data.map(Ae=>({id:Ae.id,user_id:Ae.user_id,kind:"weekly",weekday:Ae.weekday,start_hhmm:Ae.start_hhmm,end_hhmm:Ae.end_hhmm,notes:Ae.notes||""}));h(Ae=>({...Ae,unavailability:ae}))}}catch(Z){console.warn("availability API error; keeping local state",Z)}})(),()=>{q=!0}},[F?.id,F?.role,se.unavailabilityEnabled,h]);const et=v=>j(q=>at(sl(Ky(q,v*7),se.weekStartsOn))),jt=new Set(["open","offered","manager_pending"]),st=()=>new Date().toISOString(),[Yl,ha]=w.useState({open:!1,shiftId:null}),[Mt,Pe]=w.useState({open:!1,requestId:null}),[Ge,ke]=w.useState({open:!1,shift:null}),xl=w.useMemo(()=>{const v={};for(const q of c.swap_requests||[])jt.has(q.status)&&(v[q.shift_id]||(v[q.shift_id]={}),q.type==="give"&&(v[q.shift_id].give=!0),q.type==="trade"&&(v[q.shift_id].trade=!0,q.target_shift_id&&(v[q.target_shift_id]||(v[q.target_shift_id]={}),v[q.target_shift_id].trade=!0)));return v},[c.swap_requests]),vl=v=>{kl({shiftId:v,type:"give"})},bn=(v,q)=>{q&&kl({shiftId:v,type:"trade",targetShiftId:q})},_n=w.useMemo(()=>(c.schedules||[]).flatMap(v=>(v.shifts||[]).map(q=>({...q,__schedule_id:v.id,__location_id:v.location_id}))),[c.schedules]),Gl=v=>_n.find(q=>q.id===v)||null,qa=v=>{const q=Number(se.swapCutoffHours||0);return(Ce(v.starts_at)-new Date)/36e5>=q},bl=(v,q,Z,W=[])=>{const _e=Ce(q).getTime(),ae=Ce(Z).getTime();for(const Ae of _n){if(Ae.user_id!==v||W.includes(Ae.id))continue;const Ot=Ce(Ae.starts_at).getTime(),tt=Ce(Ae.ends_at).getTime();if(Math.max(_e,Ot)<Math.min(ae,tt))return!0}return!1},ya=(v,q)=>(c.user_qualifications||[]).some(Z=>Z.user_id===v&&Z.position_id===q),bi=(v,q,Z,W)=>v.position_id===q.position_id?!0:se.allowCrossPosition?ya(Z,q.position_id)&&ya(W,v.position_id):!1,kt=(v,q,Z,W,_e={})=>{const ae={id:Le(),swap_id:v,kind:q,actor_id:Z,action:W,meta:_e,created_at:st()};h(Ae=>({...Ae,swap_audit_logs:[...Ae.swap_audit_logs,ae]}))},Sn=()=>{const v=new Date;h(q=>({...q,swap_requests:q.swap_requests.map(Z=>(Z.status==="open"||Z.status==="offered")&&Z.expires_at&&Ce(Z.expires_at)<=v?(kt(Z.id,"request",F.id,"expire",{reason:"expires_at passed"}),{...Z,status:"expired"}):Z)}))};w.useEffect(()=>{F&&Sn()},[F]);const kl=({shiftId:v,type:q,message:Z,expiresAt:W,targetShiftId:_e})=>{const ae=Gl(v);if(!ae)return alert("Shift not found");if(ae.user_id!==F.id)return alert("You can only request a swap for your own shift");if(!qa(ae))return alert(`Swaps must be requested ${se.swapCutoffHours}h before start`);if((c.swap_requests||[]).some(tt=>tt.shift_id===v&&jt.has(tt.status)))return alert("This shift already has an active swap request");const Ot={id:Le(),shift_id:v,requester_id:F.id,type:q,status:"open",message:Z||"",created_at:st(),expires_at:W||null};q==="trade"&&_e&&(Ot.target_shift_id=_e),h(tt=>({...tt,swap_requests:[Ot,...tt.swap_requests]})),kt(Ot.id,"request",F.id,"create",{type:q,message:Z,target_shift_id:_e||null}),ha({open:!1,shiftId:null})},jn=v=>{const q=(c.swap_requests||[]).find(Z=>Z.id===v);if(q){if(q.requester_id!==F.id)return alert("Only the requester can cancel");if(!jt.has(q.status))return alert("Request is no longer active");h(Z=>({...Z,swap_requests:Z.swap_requests.map(W=>W.id===v?{...W,status:"canceled"}:W)})),kt(q.id,"request",F.id,"cancel",{})}},za=({requestId:v,offerShiftId:q=null})=>{const Z=(c.swap_requests||[]).find(ae=>ae.id===v);if(!Z)return alert("Request not found");if(!jt.has(Z.status))return alert("Request is not open");const W=Gl(Z.shift_id);if(!W)return alert("Base shift not found");if(F.id===Z.requester_id)return alert("You cannot offer on your own request");if(!qa(W))return alert("Shift is within cutoff");if(!positionMatchesOrAllowed(W.position_id,q?Gl(q)?.position_id:W.position_id))return alert("Position mismatch (cross-train disabled)");if(!q&&bl(F.id,W.starts_at,W.ends_at,[]))return alert("Offer would overlap your existing shift");if(Z.type==="trade"){if(!q)return alert("Choose one of your shifts to trade");const ae=Gl(q);if(!ae||ae.user_id!==F.id)return alert("Invalid trade shift");if(!bi(W,ae,Z.requester_id,F.id))return alert("Trade not allowed by cross-train/qualification rules");const Ae=bl(Z.requester_id,ae.starts_at,ae.ends_at,[Z.shift_id]),Ot=bl(F.id,W.starts_at,W.ends_at,[q]);if(Ae||Ot)return alert("Trade would create an overlap")}const _e={id:Le(),request_id:v,offerer_id:F.id,offer_shift_id:q||null,status:"proposed",created_at:st()};h(ae=>({...ae,swap_offers:[_e,...ae.swap_offers],swap_requests:ae.swap_requests.map(Ae=>Ae.id===v?{...Ae,status:"offered"}:Ae)})),kt(_e.id,"offer",F.id,"offer",{offer_shift_id:q}),Pe({open:!1,requestId:null})},ul=v=>{const q=(c.swap_offers||[]).find(Z=>Z.id===v);if(q){if(q.offerer_id!==F.id)return alert("Only the offerer can withdraw");h(Z=>({...Z,swap_offers:Z.swap_offers.map(W=>W.id===v?{...W,status:"withdrawn"}:W)})),kt(q.id,"offer",F.id,"withdraw",{})}},ht=(v,q)=>{const Z=(c.swap_requests||[]).find(ae=>ae.id===v),W=(c.swap_offers||[]).find(ae=>ae.id===q);if(!Z||!W)return alert("Missing items");if(!Gl(Z.shift_id))return alert("Base shift missing");h(ae=>{const Ae=ae.schedules.map(Me=>({...Me,shifts:[...Me.shifts]})),Ot=Me=>{for(const Ql of Ae){const Xl=Ql.shifts.findIndex(Sl=>Sl.id===Me);if(Xl>=0)return{s:Ql,i:Xl}}return null},tt=Ot(Z.shift_id);if(!tt)return ae;if(Z.type==="give")tt.s.shifts[tt.i]={...tt.s.shifts[tt.i],user_id:W.offerer_id};else{const Me=Ot(W.offer_shift_id);if(!Me)return ae;const Ql=tt.s.shifts[tt.i],Xl=Me.s.shifts[Me.i];tt.s.shifts[tt.i]={...Ql,user_id:Xl.user_id},Me.s.shifts[Me.i]={...Xl,user_id:Ql.user_id}}return{...ae,schedules:Ae,swap_requests:ae.swap_requests.map(Me=>Me.id===v?{...Me,status:"approved"}:Me),swap_offers:ae.swap_offers.map(Me=>Me.id===q?{...Me,status:"accepted"}:Me)}}),kt(v,"request",F.id,"apply",{offer_id:q})},Nt=v=>{const q=(c.swap_offers||[]).find(W=>W.id===v);if(!q)return;const Z=(c.swap_requests||[]).find(W=>W.id===q.request_id);if(Z){if(Z.requester_id!==F.id)return alert("Only the requester can accept");se.requireManagerApproval?(h(W=>({...W,swap_requests:W.swap_requests.map(_e=>_e.id===Z.id?{..._e,status:"manager_pending"}:_e)})),kt(Z.id,"request",F.id,"accept",{offer_id:v,manager_pending:!0})):(kt(Z.id,"request",F.id,"accept",{offer_id:v,manager_pending:!1}),ht(Z.id,v))}},_l=v=>{if(!(c.swap_requests||[]).find(ae=>ae.id===v))return;const Z=(c.swap_offers||[]).find(ae=>ae.request_id===v&&ae.status==="proposed"),_e=[...c.swap_audit_logs].reverse().find(ae=>ae.kind==="request"&&ae.swap_id===v&&ae.action==="accept")?.meta?.offer_id||Z?.id;if(!_e)return alert("No offer to approve");kt(v,"request",F.id,"approve",{offer_id:_e}),ht(v,_e)},Ca=v=>{h(q=>({...q,swap_requests:q.swap_requests.map(Z=>Z.id===v?{...Z,status:"declined"}:Z)})),kt(v,"request",F.id,"decline",{})};return $e?s.jsx(rp,{onAfterLogin:v=>{(v?.role||"employee")==="employee"?St("/my",{replace:!0}):g?St(`/schedule/${g}`,{replace:!0}):St("/",{replace:!0})}}):s.jsxs("div",{className:"mx-auto max-w-6xl space-y-6 p-4",children:[s.jsx(Vy,{}),s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"grid place-items-center rounded-2xl border bg-white p-2 shadow-sm",children:s.jsx("div",{className:"h-8 w-8 rounded-xl border"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-black",children:"ShiftMate"}),s.jsx("div",{className:"text-sm text-gray-600",children:We?"Manager Console":"My Shifts"})]})]}),s.jsxs(tp,{children:[s.jsxs("div",{className:"hidden sm:flex items-center gap-2 rounded-xl border px-3 py-2 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Location"}),s.jsx("select",{className:"outline-none",value:o,onChange:v=>b(v.target.value),children:c.locations.map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2 rounded-xl border px-3 py-2 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Week"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Prev week",onClick:()=>et(-1),children:""}),s.jsx("input",{type:"date",value:g,onChange:v=>j(at(sl(v.target.value,se.weekStartsOn))),className:"outline-none"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Jump to current week",onClick:()=>j(at(sl(xn(),se.weekStartsOn))),children:"Today"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Next week",onClick:()=>et(1),children:""})]}),s.jsxs("label",{className:"hidden sm:flex items-center gap-2 rounded-xl border px-3 py-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:He,onChange:v=>gt&&gt(v.target.checked)}),"Compact"]}),s.jsxs("div",{className:"rounded-xl border px-3 py-2 text-sm",children:[F.full_name," ",s.jsxs("span",{className:"text-gray-500",children:["(",F.role,")"]})]}),s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm shadow-sm",onClick:ma,children:"Logout"})]})]}),s.jsxs("nav",{className:"flex flex-wrap gap-2",children:[We&&s.jsxs(s.Fragment,{children:[s.jsx(_t,{id:"schedule",tab:be,label:"Schedule",to:`/schedule/${g}`}),s.jsx(_t,{id:"dashboard",tab:be,label:"Dashboard",to:"/dashboard"}),s.jsx(_t,{id:"employees",tab:be,label:"Employees",to:"/employees"}),se.unavailabilityEnabled&&s.jsx(_t,{id:"availability",tab:be,label:"Availability",to:"/availability"}),se.newsfeedEnabled&&s.jsx(_t,{id:"feed",tab:be,label:"Feed",to:"/feed"}),se.tasksEnabled&&s.jsx(_t,{id:"tasks",tab:be,label:"Tasks",to:"/tasks"}),se.messagesEnabled&&s.jsx(_t,{id:"messages",tab:be,label:"Messages",to:"/messages"}),s.jsx(_t,{id:"requests",tab:be,label:`Requests (${(c.time_off_requests||[]).filter(v=>v.status==="pending").length+(c.swap_requests||[]).filter(v=>["open","offered","manager_pending"].includes(v.status)).length})`,to:"/requests"}),s.jsx(_t,{id:"settings",tab:be,label:"Settings",to:"/settings"})]}),!We&&s.jsxs(s.Fragment,{children:[s.jsx(_t,{id:"schedule",tab:be,label:"Schedule",to:"/my"}),se.unavailabilityEnabled&&s.jsx(_t,{id:"availability",tab:be,label:"Availability",to:"/availability"}),se.newsfeedEnabled&&s.jsx(_t,{id:"feed",tab:be,label:"Feed",to:"/feed"}),se.tasksEnabled&&s.jsx(_t,{id:"tasks",tab:be,label:"Tasks",to:"/tasks"}),se.messagesEnabled&&s.jsx(_t,{id:"messages",tab:be,label:"Messages",to:"/messages"}),s.jsx(_t,{id:"requests",tab:be,label:`Requests (${(c.time_off_requests||[]).filter(v=>v.user_id===F.id&&v.status==="pending").length+(c.swap_requests||[]).filter(v=>v.requester_id===F.id&&!["approved","declined","canceled","expired"].includes(v.status)).length})`,to:"/requests"})]})]}),We&&be==="dashboard"&&s.jsx(Gt,{title:"Dashboard",right:s.jsx("div",{className:"text-sm text-gray-600",children:"Location overview"}),children:s.jsx(pp,{data:c,users:z,currentUser:F})}),We&&be==="schedule"&&s.jsxs(Gt,{title:`Week of ${Ce(g).toLocaleDateString()}`,right:s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[Q?s.jsxs(da,{children:["Status: ",s.jsx("span",{className:`ml-1 font-semibold ${Q.status==="published"?"text-green-700":"text-amber-700"}`,children:Q.status})]}):s.jsx(da,{children:"Draft (no schedule yet)"}),s.jsxs("div",{className:"inline-flex rounded-full border p-1 text-xs",children:[s.jsx("button",{className:`px-3 py-1 rounded-full ${D==="my"?"bg-black text-white":""}`,onClick:()=>J("my"),children:"My Schedule"}),s.jsx("button",{className:`px-3 py-1 rounded-full ${D==="full"?"bg-black text-white":""}`,onClick:()=>J("full"),children:"Full Schedule"})]})]}),s.jsx("div",{className:"text-xs text-gray-500",children:D==="my"?"Viewing: My Schedule":"Viewing: Full Schedule"})]}),children:[s.jsxs("div",{className:"mt-3 mb-4 flex items-center justify-between gap-2 sm:hidden text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-600",children:"Week"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Previous week",onClick:()=>et(-1),children:""}),s.jsx("input",{type:"date",value:g,onChange:v=>j(at(sl(v.target.value,se.weekStartsOn))),className:"rounded-lg border px-2 py-1 text-sm"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Next week",onClick:()=>et(1),children:""})]}),s.jsx("button",{className:"rounded-lg border px-2 py-1 text-sm",onClick:()=>j(at(sl(xn(),se.weekStartsOn))),children:"Today"})]}),wt.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"Add employees first."}):D==="my"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(tm,{currentUser:F,schedule:Q,weekDays:M,positionsById:m,users:z,swapIndicators:xl,onOfferGiveaway:vl,onProposeTrade:bn})}),s.jsx("div",{className:"block md:hidden mt-3",children:s.jsx(qs,{role:"manager",mode:"my",weekDays:M,shifts:Q?.shifts||[],employees:wt,currentUserId:F.id,positionsById:m})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Pc,{employees:wt,weekDays:M,shifts:Q?.shifts||[],positionsById:m,unavailability:U,timeOffList:c.time_off_requests,showTimeOffChips:se.showTimeOffOnSchedule,onCreate:(v,q)=>Je({open:!0,preUserId:v,preDay:q}),onDelete:K,onEdit:v=>ke({open:!0,shift:v}),swapIndicators:xl,allowCrossPosition:se.allowCrossPosition,isQualified:ya,useDense:He,onDuplicate:fe,onMoveShift:xe})}),s.jsx("div",{className:"block md:hidden mt-3",children:s.jsx(qs,{role:"manager",mode:"full",weekDays:M,shifts:Q?.shifts||[],employees:wt,currentUserId:F.id,positionsById:m})})]}),Q&&s.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Total hours by employee"}),s.jsx("ul",{className:"space-y-1 text-sm",children:wt.map(v=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:v.full_name}),s.jsxs("span",{className:"tabular-nums",children:[(me[v.id]||0).toFixed(2)," h"]})]},v.id))})]}),s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Total hours by day"}),s.jsx("ul",{className:"space-y-1 text-sm",children:M.map(v=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:$y(v)}),s.jsxs("span",{className:"tabular-nums",children:[(le[at(v)]||0).toFixed(2)," h"]})]},String(v)))})]})]}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx("button",{disabled:!Q,className:`rounded-xl border px-3 py-2 text-sm shadow-sm ${Q?.status==="published"?"bg-green-50":""}`,onClick:ie,children:Q?.status==="published"?"Unpublish":"Publish"}),s.jsx("button",{disabled:!Q,className:"rounded-xl border px-3 py-2 text-sm shadow-sm",onClick:P,children:"Copy CSV"}),s.jsx("button",{disabled:!Q,className:"rounded-xl border px-3 py-2 text-sm shadow-sm",onClick:Se,children:"Download CSV"}),s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm shadow-sm",onClick:Ye,children:"Reset Demo"})]})]}),We&&be==="employees"&&s.jsx(Gt,{title:"Employees",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-[1fr,2fr]",children:[s.jsx(sp,{onAdd:rt}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Active employees"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[z.map(v=>s.jsxs("li",{className:"grid gap-2 p-3 sm:grid-cols-[1fr_auto] sm:items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[v.full_name," ",v.pronouns?s.jsxs("span",{className:"text-xs text-gray-500",children:["(",v.pronouns,")"]}):null]}),s.jsxs("div",{className:"text-xs text-gray-600",children:[v.email,v.phone?`  ${v.phone}`:"",v.birthday?`  Birthday: ${v.birthday}`:""]}),v.emergency_contact?.name&&s.jsxs("div",{className:"text-xs text-gray-600",children:["Emergency: ",v.emergency_contact.name," ",v.emergency_contact.phone?`(${v.emergency_contact.phone})`:""]}),v.notes&&s.jsxs("div",{className:"text-xs text-gray-600",children:["Notes: ",v.notes]}),(v.attachments||[]).length>0&&s.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:["Attachments: ",(v.attachments||[]).map(q=>q.name).join(", ")]})]}),s.jsx(da,{children:v.role})]},v.id)),z.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No employees yet."})]})]})]})}),We&&se.unavailabilityEnabled&&be==="availability"&&s.jsx(Gt,{title:"Availability (all employees)",children:s.jsx(dp,{users:z,list:U,onAdd:Te,onUpdate:A,onDelete:X})}),!We&&se.unavailabilityEnabled&&be==="availability"&&s.jsx(Gt,{title:"My Availability",children:s.jsx(fp,{currentUser:F,list:U,onRequestChange:Ue})}),se.newsfeedEnabled&&be==="feed"&&s.jsx(Gt,{title:"Company feed",children:s.jsx(mp,{users:z,currentUser:F,posts:c.news_posts,onPost:v=>I(F.id,v),allowPost:We||c.feature_flags.employeesCanPostToFeed})}),se.tasksEnabled&&be==="tasks"&&s.jsx(Gt,{title:"Tasks",children:s.jsx(hp,{users:z,currentUser:F,tasks:c.tasks,templates:c.task_templates,onAdd:y,onSetStatus:G,onDelete:ee,onAddTemplate:$,onDeleteTemplate:ce})}),se.messagesEnabled&&be==="messages"&&s.jsx(Gt,{title:"Messages",children:s.jsx(yp,{users:z,currentUser:F,messages:c.messages,onSend:qe})}),We&&be==="requests-old"&&s.jsx(Gt,{title:"Timeoff requests",children:s.jsx(lm,{users:z,list:c.time_off_requests,onSetStatus:oe})}),We&&be==="requests-old"&&s.jsx(Gt,{title:"Swap requests (queue)",children:s.jsx(am,{requests:c.swap_requests,offers:c.swap_offers,users:z,findShiftById:v=>(c.schedules||[]).flatMap(q=>(q.shifts||[]).map(Z=>({...Z,__location_id:q.location_id}))).find(q=>q.id===v),onApprove:_l,onDecline:Ca})}),!We&&be==="requests-old"&&s.jsx(Gt,{title:"Swap Center",children:s.jsx(nm,{data:c,users:z,currentUser:F,positionsById:m,findShiftById:v=>(c.schedules||[]).flatMap(q=>(q.shifts||[]).map(Z=>({...Z,__location_id:q.location_id}))).find(q=>q.id===v),onCreateRequest:v=>kl(v),onOfferCover:v=>za({requestId:v,offerShiftId:null}),onOfferTrade:(v,q)=>za({requestId:v,offerShiftId:q}),onWithdrawOffer:ul,onAcceptOffer:Nt,onCancelRequest:jn,flags:se})}),!We&&be==="schedule"&&s.jsxs(Gt,{title:`Week of ${Ce(g).toLocaleDateString()}`,right:s.jsxs("div",{className:"flex flex-col items-end gap-1 text-xs",children:[s.jsxs("div",{className:"inline-flex rounded-full border p-1",children:[s.jsx("button",{className:`px-3 py-1 rounded-full ${D==="my"?"bg-black text-white":""}`,onClick:()=>J("my"),children:"My Schedule"}),s.jsx("button",{className:`px-3 py-1 rounded-full ${D==="full"?"bg-black text-white":""}`,onClick:()=>J("full"),children:"Full Schedule"})]}),s.jsx("div",{className:"mt-1 text-gray-500",children:D==="my"?"Viewing: My Schedule":"Viewing: Full Schedule"})]}),children:[s.jsxs("div",{className:"mt-3 mb-4 flex items-center justify-between gap-2 sm:hidden text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-600",children:"Week"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Previous week",onClick:()=>et(-1),children:""}),s.jsx("input",{type:"date",value:g,onChange:v=>j(at(sl(v.target.value,se.weekStartsOn))),className:"rounded-lg border px-2 py-1 text-sm"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Next week",onClick:()=>et(1),children:""})]}),s.jsx("button",{className:"rounded-lg border px-2 py-1 text-sm",onClick:()=>j(at(sl(xn(),se.weekStartsOn))),children:"Today"})]}),D==="my"?s.jsxs(s.Fragment,{children:[s.jsx(da,{tone:Q?.status==="published"?"success":"warn",children:Q?Q.status:"no schedule yet"}),s.jsx("div",{className:"mt-3"}),s.jsx("div",{className:"hidden md:block",children:s.jsx(tm,{currentUser:F,schedule:Q,weekDays:M,positionsById:m,users:z,swapIndicators:xl,onOfferGiveaway:vl,onProposeTrade:bn,allowCrossPosition:se.allowCrossPosition,isQualified:ya})}),s.jsx("div",{className:"block md:hidden mt-3",children:s.jsx(qs,{role:"employee",mode:"my",weekDays:M,shifts:Q?.shifts||[],employees:wt,currentUserId:F.id,positionsById:m})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Pc,{employees:wt,weekDays:M,shifts:Q?.shifts||[],positionsById:m,unavailability:U,timeOffList:c.time_off_requests,showTimeOffChips:se.showTimeOffOnSchedule,currentUserId:F.id,showTileActions:!0,swapIndicators:xl,onOfferGiveaway:vl,onProposeTrade:bn,allowCrossPosition:se.allowCrossPosition,isQualified:ya})}),s.jsx("div",{className:"block md:hidden mt-3",children:s.jsx(qs,{role:"employee",mode:"full",weekDays:M,shifts:Q?.shifts||[],employees:wt,currentUserId:F.id,positionsById:m})})]})]}),be==="requests"&&s.jsx(Gt,{title:"Requests",children:(()=>{const v=(c.time_off_requests||[]).filter(W=>(We||W.user_id===F.id)&&W.status==="pending").length,q=We?(c.swap_requests||[]).filter(W=>["open","offered","manager_pending"].includes(W.status)).length:(c.swap_requests||[]).filter(W=>W.requester_id===F.id&&!["approved","declined","canceled","expired"].includes(W.status)).length,Z=(c.availability_change_requests||[]).filter(W=>We?!0:W.user_id===F.id).length;return s.jsxs("div",{children:[s.jsxs("div",{className:"mb-3 flex gap-2",children:[s.jsx(_t,{id:"timeoff",tab:ve,setTab:re,label:`Time Off (${v})`}),s.jsx(_t,{id:"swaps",tab:ve,setTab:re,label:`Swaps (${q})`}),s.jsx(_t,{id:"availability",tab:ve,setTab:re,label:`Availability (${Z})`})]}),ve==="timeoff"&&(We?s.jsx(lm,{users:z,list:c.time_off_requests,onSetStatus:oe}):s.jsxs(s.Fragment,{children:[s.jsx(Ly,{onSubmit:W=>B({user_id:F.id,...W})}),s.jsx(op,{data:c,currentUser:F})]})),ve==="swaps"&&(We?s.jsx(am,{requests:c.swap_requests,offers:c.swap_offers,users:z,findShiftById:W=>(c.schedules||[]).flatMap(_e=>(_e.shifts||[]).map(ae=>({...ae,__location_id:_e.location_id}))).find(_e=>_e.id===W),onApprove:_l,onDecline:Ca}):s.jsx(nm,{data:c,users:z,currentUser:F,positionsById:m,findShiftById:W=>(c.schedules||[]).flatMap(_e=>(_e.shifts||[]).map(ae=>({...ae,__location_id:_e.location_id}))).find(_e=>_e.id===W),onCreateRequest:W=>kl(W),onOfferCover:W=>za({requestId:W,offerShiftId:null}),onOfferTrade:(W,_e)=>za({requestId:W,offerShiftId:_e}),onWithdrawOffer:ul,onAcceptOffer:Nt,onCancelRequest:jn,flags:se})),ve==="availability"&&s.jsx(dm,{users:z,currentUser:F,requests:c.availability_change_requests||[]})]})})()}),be==="settings"&&s.jsxs(Gt,{title:"Settings",children:[s.jsxs("div",{className:"space-y-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Feature toggles"}),s.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-2",children:[s.jsx(xi,{label:"Enable Unavailability",checked:se.unavailabilityEnabled,onChange:v=>h(q=>({...q,feature_flags:{...q.feature_flags,unavailabilityEnabled:v}}))}),s.jsx(xi,{label:"Employees can edit their unavailability",checked:se.employeeEditUnavailability,onChange:v=>h(q=>({...q,feature_flags:{...q.feature_flags,employeeEditUnavailability:v}}))}),s.jsx(xi,{label:"Show Time-off chips on Schedule",checked:se.showTimeOffOnSchedule,onChange:v=>h(q=>({...q,feature_flags:{...q.feature_flags,showTimeOffOnSchedule:v}}))}),s.jsx(xi,{label:"Swap requires manager approval",checked:se.requireManagerApproval,onChange:v=>h(q=>({...q,feature_flags:{...q.feature_flags,requireManagerApproval:v}}))}),s.jsx(xi,{label:"Allow cross-position swaps",checked:se.allowCrossPosition,onChange:v=>h(q=>({...q,feature_flags:{...q.feature_flags,allowCrossPosition:v}}))}),s.jsx(ol,{label:"Work week starts on",value:se.weekStartsOn,onChange:v=>{const q=Number(v);h(Z=>({...Z,feature_flags:{...Z.feature_flags,weekStartsOn:q}})),j(Z=>at(sl(Z,q)))},options:Hs.map((v,q)=>({value:q,label:v}))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Qualifications"}),s.jsx("div",{className:"mt-2",children:s.jsx(gp,{users:z,positions:O,data:c,onToggle:(v,q,Z)=>{h(W=>{const _e=(W.user_qualifications||[]).some(Ae=>Ae.user_id===v&&Ae.position_id===q);let ae=W.user_qualifications||[];return Z&&!_e&&(ae=[...ae,{id:Le(),user_id:v,position_id:q}]),!Z&&_e&&(ae=ae.filter(Ae=>!(Ae.user_id===v&&Ae.position_id===q))),{...W,user_qualifications:ae}})}})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Positions (roles)"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-[1fr,2fr] mt-2",children:[s.jsx(up,{onAdd:je}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Current roles"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[O.map(v=>s.jsxs("li",{className:"flex items-center justify-between p-3",children:[s.jsx("div",{className:"font-medium",children:v.name}),s.jsxs(da,{children:["loc: ",v.location_id]})]},v.id)),O.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No positions yet."})]})]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Locations"}),s.jsx("ul",{className:"mt-1 list-disc pl-6",children:c.locations.map(v=>s.jsxs("li",{children:[v.name," ",s.jsxs("span",{className:"text-gray-500",children:["(id: ",v.id,")"]})]},v.id))})]}),s.jsxs("div",{className:"rounded-xl bg-amber-50 p-3",children:[s.jsx("div",{className:"font-semibold",children:"How to use"}),s.jsxs("ol",{className:"ml-4 list-decimal pl-2",children:[s.jsx("li",{children:"Add employees & positions."}),s.jsx("li",{children:"Pick a week (uses your setting). A schedule is created automatically if missing."}),s.jsxs("li",{children:["Create shifts via ",s.jsx("b",{children:"+ add"})," in each employee/day cell."]}),s.jsxs("li",{children:["Use ",s.jsx("b",{children:"Tasks"})," & ",s.jsx("b",{children:"Feed"})," for daily ops."]}),s.jsxs("li",{children:["Export via ",s.jsx("b",{children:"Copy"})," or ",s.jsx("b",{children:"Download CSV"}),"."]})]})]})]}),s.jsx(xp,{open:Ge.open,onClose:()=>ke({open:!1,shift:null}),shift:Ge.shift,users:z,positions:O,onSave:ue}),s.jsx(cp,{open:he.open,onClose:()=>Je({open:!1,preUserId:null,preDay:null}),users:z,positions:O,defaultUserId:he.preUserId,defaultDay:he.preDay,onCreate:V,templates:c.task_templates,canQuickTask:!0}),s.jsx("footer",{className:"py-8 text-center text-xs text-gray-500",children:"Rolebased demo. Ready to connect to Express/Postgres & JWT for production."})]})}function _t({id:f,tab:c,setTab:h,label:o,to:b}){const g=sm(),j=c===f,z=()=>{typeof h=="function"&&h(f),b&&g&&typeof g.navigate=="function"&&g.navigate(b)};return s.jsx("button",{onClick:z,className:`rounded-full px-4 py-1 text-sm ${j?"bg-black text-white":"border"}`,children:o})}function sp({onAdd:f}){const[c,h]=w.useState(""),[o,b]=w.useState(""),[g,j]=w.useState("employee"),[z,O]=w.useState(""),[m,M]=w.useState(""),[Q,H]=w.useState(""),[V,ue]=w.useState(""),[K,fe]=w.useState(""),[xe,ie]=w.useState(""),[me,le]=w.useState([]),P=Se=>{const Ye=Array.from(Se||[]).map(he=>({id:Le(),name:he.name,size:he.size,type:he.type,lastModified:he.lastModified}));le(Ye)};return s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Add employee"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsx(Rt,{label:"Full name",value:c,onChange:h,placeholder:"Jane Doe"}),s.jsx(Rt,{label:"Email",value:o,onChange:b,placeholder:"jane@example.com"}),s.jsx(ol,{label:"Role",value:g,onChange:j,options:[{value:"employee",label:"Employee"},{value:"manager",label:"Manager"},{value:"owner",label:"Owner"}]}),s.jsx(Rt,{label:"Phone",value:z,onChange:O,placeholder:"555-0123"}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Birthday"}),s.jsx("input",{type:"date",value:m,onChange:Se=>M(Se.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsx(Rt,{label:"Pronouns (optional)",value:Q,onChange:H,placeholder:"she/her"}),s.jsx(Rt,{label:"Emergency contact name",value:V,onChange:ue,placeholder:"Contact name"}),s.jsx(Rt,{label:"Emergency contact phone",value:K,onChange:fe,placeholder:"555-0456"}),s.jsxs("label",{className:"md:col-span-2 grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Attachments (stored as metadata only in demo)"}),s.jsx("input",{type:"file",multiple:!0,onChange:Se=>P(Se.target.files),className:"rounded-xl border px-3 py-2"}),me.length>0&&s.jsxs("div",{className:"text-xs text-gray-600",children:[me.length," file(s): ",me.map(Se=>Se.name).join(", ")]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(lp,{label:"Notes",value:xe,onChange:ie,placeholder:"Allergies, preferred shifts, etc."})})]}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm shadow-sm",onClick:()=>{if(!c.trim())return alert("Enter a name");f({full_name:c.trim(),email:o.trim(),role:g,phone:z,birthday:m,pronouns:Q,emergency_contact:{name:V,phone:K},attachments:me,notes:xe}),h(""),b(""),j("employee"),O(""),M(""),H(""),ue(""),fe(""),le([]),ie("")},children:"Add"})})]})}function up({onAdd:f}){const[c,h]=w.useState("");return s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Add role/position"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.jsx(Rt,{label:"Name",value:c,onChange:h,placeholder:"Scooper"})}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx("button",{className:"rounded-2xl border px-3 py-2 text-sm shadow-sm",onClick:()=>{if(!c.trim())return alert("Enter a name");f(c.trim()),h("")},children:"Add"})})]})}function cp({open:f,onClose:c,users:h,positions:o,defaultUserId:b,defaultDay:g,onCreate:j,templates:z,canQuickTask:O}){const[m,M]=w.useState(b||(h[0]?.id??"")),[Q,H]=w.useState(o[0]?.id??""),[V,ue]=w.useState(g||sl(xn(),1)),[K,fe]=w.useState("15:00"),[xe,ie]=w.useState("22:00"),[me,le]=w.useState(0),[P,Se]=w.useState(""),[Ye,he]=w.useState(""),[Je,rt]=w.useState("");return w.useEffect(()=>{b&&M(b),g&&ue(g)},[b,g,f]),s.jsxs(fm,{open:f,onClose:c,title:"Add shift",footer:s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:c,children:"Cancel"}),s.jsx("button",{className:"rounded-xl border bg-black px-3 py-2 text-sm text-white",onClick:()=>{if(!m||!Q)return alert("Pick employee & position");j({user_id:m,position_id:Q,day:V,start_hhmm:K,end_hhmm:xe,break_min:me,notes:P,quickTaskTitle:Ye,quickTaskTemplateId:Je}),he(""),rt(""),c()},children:"Save shift"})]}),children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsx(ol,{label:"Employee",value:m,onChange:M,options:h.map(je=>({value:je.id,label:je.full_name}))}),s.jsx(ol,{label:"Position",value:Q,onChange:H,options:o.map(je=>({value:je.id,label:je.name}))}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Day"}),s.jsx("input",{type:"date",value:at(V),onChange:je=>ue(Ce(je.target.value)),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Start time"}),s.jsx("input",{type:"time",value:K,onChange:je=>fe(je.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"End time"}),s.jsx("input",{type:"time",value:xe,onChange:je=>ie(je.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Break (minutes)"}),s.jsx("input",{type:"number",min:0,step:5,value:me,onChange:je=>le(Number(je.target.value)),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"md:col-span-2 grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Notes (optional)"}),s.jsx("input",{type:"text",value:P,onChange:je=>Se(je.target.value),className:"rounded-xl border px-3 py-2"})]})]}),O&&s.jsxs("div",{className:"mt-4 rounded-xl border p-3",children:[s.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Optional: create a task for this shift"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsx(ol,{label:"From template",value:Je,onChange:rt,options:[{value:"",label:"(none)"},...(z||[]).map(je=>({value:je.id,label:je.title}))]}),s.jsx(Rt,{label:"Or custom title",value:Ye,onChange:he,placeholder:"Mop floor at close"})]}),s.jsx("div",{className:"mt-1 text-xs text-gray-600",children:"Task will assign to the selected employee with due date = shift day."})]})]})}function rp({onAfterLogin:f}){const{login:c}=lr(),[h,o]=w.useState("manager@demo.local"),[b,g]=w.useState("demo"),[j,z]=w.useState("");return s.jsx("div",{className:"mx-auto grid min-h-[70vh] max-w-md place-items-center p-6",children:s.jsxs("div",{className:"w-full rounded-2xl border p-6 shadow-sm",children:[s.jsx("h1",{className:"mb-1 text-2xl font-black",children:"ShiftMate"}),s.jsx("div",{className:"mb-4 text-gray-600",children:"Sign in"}),j&&s.jsx("div",{className:"mb-3 rounded-lg bg-red-50 p-2 text-sm text-red-700",children:j}),s.jsxs("div",{className:"grid gap-3",children:[s.jsx(Rt,{label:"Email",value:h,onChange:o,type:"email"}),s.jsx(Rt,{label:"Password",value:b,onChange:g,type:"password"}),s.jsx("button",{className:"mt-1 rounded-xl border bg-black px-3 py-2 text-sm font-medium text-white",onClick:()=>{try{const O=c(h,b);f?.(O)}catch(O){z(O.message||"Login failed")}},children:"Sign in"})]}),s.jsxs("div",{className:"mt-4 text-xs text-gray-600",children:["Demo accounts:",s.jsxs("ul",{className:"list-disc pl-5",children:[s.jsxs("li",{children:["Manager: ",s.jsx("code",{children:"manager@demo.local"})," / ",s.jsx("code",{children:"demo"})]}),s.jsxs("li",{children:["Employee: ",s.jsx("code",{children:"lily@example.com"})," / ",s.jsx("code",{children:"demo"})]})]})]})]})})}function fp({currentUser:f,list:c,onRequestChange:h}){const o=w.useMemo(()=>(c||[]).filter(M=>M.user_id===f.id&&M.kind==="weekly"),[c,f?.id]),[b,g]=w.useState(""),[j,z]=w.useState(""),[O,m]=w.useState(!1);return s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Weekly availability"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[o.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No weekly rows set."}),o.map(M=>s.jsx("li",{className:"flex items-center justify-between p-3 text-sm",children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[Hs[M.weekday]," ",M.start_hhmm," - ",M.end_hhmm]}),M.notes&&s.jsx("div",{className:"text-xs text-gray-600",children:M.notes})]})},M.id))]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Request change"}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Preferred pattern (free text)"}),s.jsx("input",{value:j,onChange:M=>z(M.target.value),placeholder:"e.g., Mon-Thu 9-5",className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Note"}),s.jsx("textarea",{value:b,onChange:M=>g(M.target.value),className:"min-h-20 rounded-xl border px-3 py-2"})]}),s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>{h?.(f.id,j,b),g(""),z(""),m(!0)},children:"Submit request"}),O&&s.jsx("div",{className:"text-xs text-green-700",children:"Request sent. Your manager will review and update your availability."}),s.jsx("div",{className:"text-xs text-gray-600",children:"Your manager will review and update canonical availability."})]})]})]})}function op({data:f,currentUser:c}){const h=f.time_off_requests.filter(o=>o.user_id===c.id).sort((o,b)=>Ce(b.created_at)-Ce(o.created_at));return h.length===0?null:s.jsxs("div",{className:"mt-4 rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"My requests"}),s.jsx("ul",{className:"divide-y",children:h.map(o=>s.jsxs("li",{className:"flex items-center justify-between py-2 text-sm",children:[s.jsxs("div",{children:[o.date_from,"  ",o.date_to," ",o.notes?` ${o.notes}`:""]}),s.jsx(da,{tone:o.status==="approved"?"success":o.status==="denied"?"danger":"warn",children:o.status})]},o.id))})]})}function dp({users:f,list:c,onAdd:h,onUpdate:o,onDelete:b}){const[g,j]=w.useState(f[0]?.id||""),[z,O]=w.useState(1),[m,M]=w.useState("09:00"),[Q,H]=w.useState("17:00"),[V,ue]=w.useState(""),[K,fe]=w.useState(null),xe=w.useMemo(()=>{const le={};for(const P of f)le[P.id]=[];for(const P of c)le[P.user_id]&&le[P.user_id].push(P);return le},[f,c]),ie=()=>{if(!g)return alert("Pick an employee");K?(o({id:K.id,user_id:g,kind:"weekly",weekday:Number(z),start_hhmm:m,end_hhmm:Q,notes:V}),fe(null)):h({user_id:g,kind:"weekly",weekday:Number(z),start_hhmm:m,end_hhmm:Q,notes:V}),ue("")},me=le=>{fe(le),j(le.user_id),O(Number(le.weekday)),M(le.start_hhmm),H(le.end_hhmm),ue(le.notes||"")};return s.jsxs("div",{className:"grid gap-6 md:grid-cols-[1fr,2fr]",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsxs("h4",{className:"mb-2 font-semibold",children:[K?"Edit":"Add"," weekly unavailability"]}),s.jsx(ol,{label:"Employee",value:g||"",onChange:j,options:f.map(le=>({value:le.id,label:le.full_name}))}),s.jsxs("div",{className:"mt-3 grid gap-3",children:[s.jsx(ol,{label:"Weekday",value:z,onChange:le=>O(Number(le)),options:Hs.map((le,P)=>({value:P,label:le}))}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Start"}),s.jsx("input",{type:"time",value:m,onChange:le=>M(le.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"End"}),s.jsx("input",{type:"time",value:Q,onChange:le=>H(le.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsx(Rt,{label:"Notes (optional)",value:V,onChange:ue,placeholder:"Class, commute, etc."}),s.jsxs("div",{className:"flex justify-end gap-2",children:[K&&s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>fe(null),children:"Cancel"}),s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:ie,children:K?"Save":"Add"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Current unavailability (all)"}),f.map(le=>s.jsxs("div",{className:"mb-4 rounded-2xl border",children:[s.jsx("div",{className:"flex items-center justify-between p-3",children:s.jsx("div",{className:"font-medium",children:le.full_name})}),s.jsxs("ul",{className:"divide-y",children:[(xe[le.id]||[]).filter(P=>P.kind==="weekly").length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No entries."}),(xe[le.id]||[]).filter(P=>P.kind==="weekly").map(P=>s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[Hs[P.weekday]," ",P.start_hhmm,"",P.end_hhmm]}),P.notes&&s.jsx("div",{className:"text-xs text-gray-600",children:P.notes})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>me(P),children:"Edit"}),s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>b(P.id),children:"Delete"})]})]},P.id))]})]},le.id))]})]})}function mp({users:f,currentUser:c,posts:h,onPost:o,allowPost:b}){const[g,j]=w.useState(""),z=w.useMemo(()=>Object.fromEntries(f.map(O=>[O.id,O])),[f]);return s.jsxs("div",{className:"space-y-4",children:[b&&s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx(Rt,{label:"Share an update",value:g,onChange:j,placeholder:"Post an announcement..."}),s.jsx("div",{className:"mt-2 flex justify-end",children:s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>{o(g),j("")},children:"Post"})})]}),s.jsxs("ul",{className:"space-y-3",children:[h.length===0&&s.jsx("li",{className:"rounded-2xl border p-3 text-sm text-gray-600",children:"No posts yet."}),h.map(O=>s.jsxs("li",{className:"rounded-2xl border p-3",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:[z[O.user_id]?.full_name||"Unknown","  ",new Date(O.created_at).toLocaleString()]}),s.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:O.body})]},O.id))]})]})}function hp({users:f,currentUser:c,tasks:h,templates:o,onAdd:b,onSetStatus:g,onDelete:j,onAddTemplate:z,onDeleteTemplate:O}){const[m,M]=w.useState(""),[Q,H]=w.useState(c.role==="employee"?c.id:f[0]?.id||""),[V,ue]=w.useState(at(new Date)),[K,fe]=w.useState(""),xe=c.role==="employee"?h.filter(ie=>ie.assigned_to===c.id):h;return s.jsxs("div",{className:"grid gap-4 md:grid-cols-[1fr,2fr]",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Create task"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsx(Rt,{label:"Title",value:m,onChange:M,placeholder:"Clean front counter"}),c.role!=="employee"&&s.jsx(ol,{label:"Assign to",value:Q,onChange:H,options:f.map(ie=>({value:ie.id,label:ie.full_name}))}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Due date"}),s.jsx("input",{type:"date",value:V,onChange:ie=>ue(ie.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>{b(m,c.role==="employee"?c.id:Q,V,c.id),M("")},children:"Add"})})]})]}),c.role!=="employee"&&s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Task templates"}),s.jsxs("div",{className:"grid gap-2 md:grid-cols-[1fr_auto]",children:[s.jsx(Rt,{label:"New template title",value:K,onChange:fe,placeholder:"Mop floor at close"}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>{K.trim()&&(z(K.trim()),fe(""))},children:"Add template"})})]}),s.jsxs("ul",{className:"mt-2 divide-y rounded-xl border",children:[o.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No templates yet."}),o.map(ie=>s.jsxs("li",{className:"flex items-center justify-between p-2 text-sm",children:[s.jsx("div",{children:ie.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{className:"rounded-xl border px-2 py-1",onChange:me=>{const le=me.target.value;le&&(b(ie.title,le,at(new Date),c.id),me.target.value="")},children:[s.jsx("option",{value:"",children:"Assign"}),f.map(me=>s.jsx("option",{value:me.id,children:me.full_name},me.id))]}),s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>O(ie.id),children:"Delete"})]})]},ie.id))]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-2 font-semibold",children:c.role==="employee"?"My tasks":"All tasks"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[xe.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No tasks."}),xe.map(ie=>s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ie.title}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Due ",ie.due_date,"  Assigned to ",f.find(me=>me.id===ie.assigned_to)?.full_name||""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{className:"rounded-xl border px-2 py-1",value:ie.status,onChange:me=>g(ie.id,me.target.value),children:[s.jsx("option",{value:"open",children:"open"}),s.jsx("option",{value:"done",children:"done"})]}),s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>j(ie.id),children:"Delete"})]})]},ie.id))]})]})]})}function yp({users:f,currentUser:c,messages:h,onSend:o}){const[b,g]=w.useState(f.find(m=>m.id!==c.id)?.id||""),[j,z]=w.useState(""),O=h.filter(m=>m.from_user_id===c.id&&m.to_user_id===b||m.to_user_id===c.id&&m.from_user_id===b);return s.jsxs("div",{className:"grid gap-4 md:grid-cols-[260px_1fr]",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Conversations"}),s.jsx("select",{className:"w-full rounded-xl border px-3 py-2",value:b,onChange:m=>g(m.target.value),children:f.filter(m=>m.id!==c.id).map(m=>s.jsx("option",{value:m.id,children:m.full_name},m.id))})]}),s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Chat"}),s.jsxs("div",{className:"mb-3 max-h-72 overflow-auto rounded-xl border p-2",children:[O.length===0&&s.jsx("div",{className:"text-sm text-gray-600",children:"No messages yet."}),O.map(m=>s.jsx("div",{className:`mb-2 flex ${m.from_user_id===c.id?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[70%] rounded-xl border px-2 py-1 text-sm ${m.from_user_id===c.id?"bg-black text-white":""}`,children:[m.body,s.jsx("div",{className:"mt-1 text-[10px] opacity-70",children:new Date(m.created_at).toLocaleString()})]})},m.id))]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{className:"flex-1 rounded-xl border px-3 py-2 text-sm",value:j,onChange:m=>z(m.target.value),placeholder:"Type a message"}),s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>{o(c.id,b,j),z("")},children:"Send"})]})]})]})}function pp({data:f,users:c,currentUser:h}){const o=h?.location_id||null,b=w.useMemo(()=>Object.fromEntries(c.map(H=>[H.id,H])),[c]),g=w.useMemo(()=>o?new Set(c.filter(H=>H.location_id===o).map(H=>H.id)):new Set(c.map(H=>H.id)),[c,o]),j=w.useMemo(()=>(f.time_off_requests||[]).filter(V=>g.has(V.user_id)),[f.time_off_requests,g]),z=w.useMemo(()=>j.filter(H=>H.status==="pending"),[j]),O=w.useMemo(()=>{const H=f.swap_requests||[],ue=(f.schedules||[]).flatMap(fe=>(fe.shifts||[]).map(xe=>({...xe,__location_id:fe.location_id}))),K=Object.fromEntries(ue.map(fe=>[fe.id,fe]));return H.filter(fe=>{const xe=K[fe.shift_id];if(xe&&o)return xe.__location_id===o;if(!o)return!0;const ie=b[fe.requester_id];return ie&&ie.location_id===o})},[f.swap_requests,f.schedules,b,o]),m=w.useMemo(()=>O.filter(H=>["open","offered","manager_pending"].includes(H.status)),[O]),M=w.useMemo(()=>(f.availability_change_requests||[]).filter(V=>g.has(V.user_id)),[f.availability_change_requests,g]),Q=w.useMemo(()=>{const H=[];for(const V of j)H.push({id:`to-${V.id}`,created_at:V.created_at||V.date_from,type:"Time Off",label:`${b[V.user_id]?.full_name||"Employee"} requested ${V.date_from}  ${V.date_to}`,status:V.status});for(const V of O){const ue=b[V.requester_id];H.push({id:`sw-${V.id}`,created_at:V.created_at,type:"Swap",label:`${ue?.full_name||"Employee"} ${V.type==="trade"?"proposed trade":"offered shift"}`,status:V.status})}for(const V of M){const ue=b[V.user_id];H.push({id:`av-${V.id}`,created_at:V.created_at,type:"Availability",label:`${ue?.full_name||"Employee"} requested availability change`,status:V.status||"pending"})}return H.sort((V,ue)=>{const K=Ce(V.created_at||0).getTime();return Ce(ue.created_at||0).getTime()-K}),H.slice(0,10)},[j,O,M,b]);return s.jsxs("div",{className:"grid gap-4 lg:grid-cols-[2fr,1fr]",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h3",{className:"mb-2 text-sm font-semibold",children:"Recent Changes"}),Q.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No recent changes for this location yet."}):s.jsx("ul",{className:"space-y-2 text-sm",children:Q.map(H=>s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:H.type}),s.jsx("div",{className:"text-xs text-gray-700",children:H.label})]}),s.jsxs("div",{className:"text-right text-xs text-gray-500",children:[H.status&&s.jsx("div",{className:"mb-1 capitalize",children:H.status}),H.created_at&&s.jsx("div",{children:Ce(H.created_at).toLocaleString()})]})]},H.id))})]}),s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h3",{className:"mb-2 text-sm font-semibold",children:"Swap Requests"}),m.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No open swap requests."}):s.jsx("ul",{className:"space-y-2 text-sm",children:m.map(H=>{const V=b[H.requester_id];return s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[V?.full_name||"Employee","  ",H.type]}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Status: ",H.status]})]}),s.jsx("div",{className:"text-xs text-gray-500",children:H.created_at&&Ce(H.created_at).toLocaleString()})]},H.id)})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h3",{className:"mb-2 text-sm font-semibold",children:"Pending Time Off"}),z.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No pending time-off requests."}):s.jsx("ul",{className:"space-y-2 text-sm",children:z.map(H=>{const V=b[H.user_id];return s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:V?.full_name||"Employee"}),s.jsxs("div",{className:"text-xs text-gray-600",children:[H.date_from," \\u2192 ",H.date_to]})]}),s.jsx("div",{className:"text-xs text-gray-500",children:H.created_at&&Ce(H.created_at).toLocaleString()})]},H.id)})})]}),s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h3",{className:"mb-2 text-sm font-semibold",children:"Availability Requests"}),M.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No availability change requests."}):s.jsx(dm,{users:c,currentUser:h,requests:M})]})]})]})}function dm({users:f,currentUser:c,requests:h}){const o=w.useMemo(()=>Object.fromEntries(f.map(z=>[z.id,z])),[f]),b=(c?.role||"employee")!=="employee",g=c?.location_id||null,j=w.useMemo(()=>{const z=h||[];if(!b)return z.filter(m=>m.user_id===c.id);if(!g)return z;const O=new Set(f.filter(m=>m.location_id===g).map(m=>m.id));return z.filter(m=>O.has(m.user_id))},[h,b,c?.id,g,f]);return j.length?s.jsx("ul",{className:"divide-y rounded-2xl border",children:j.map(z=>{const O=o[z.user_id];return s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:b&&O?O.full_name:"Requested change"}),z.pattern&&s.jsx("div",{className:"text-xs text-gray-700",children:z.pattern}),z.note&&s.jsx("div",{className:"text-xs text-gray-600",children:z.note})]}),s.jsx("div",{className:"text-xs text-gray-500",children:Ce(z.created_at).toLocaleString()})]},z.id)})}):s.jsx("div",{className:"text-sm text-gray-600",children:"No availability change requests yet."})}function lm({users:f,list:c,onSetStatus:h}){const o=w.useMemo(()=>Object.fromEntries(f.map(j=>[j.id,j])),[f]),b=c.filter(j=>j.status==="pending"),g=c.filter(j=>j.status!=="pending");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"Pending"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[b.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No pending requests."}),b.map(j=>s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o[j.user_id]?.full_name||""}),s.jsxs("div",{className:"text-gray-600",children:[j.date_from,"  ",j.date_to,j.notes?`  ${j.notes}`:""]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>h(j.id,"approved"),children:"Approve"}),s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>h(j.id,"denied"),children:"Deny"})]})]},j.id))]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"History"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[g.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No history yet."}),g.map(j=>s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o[j.user_id]?.full_name||""}),s.jsxs("div",{className:"text-gray-600",children:[j.date_from,"  ",j.date_to,j.notes?`  ${j.notes}`:""]})]}),s.jsx(da,{tone:j.status==="approved"?"success":j.status==="denied"?"danger":"warn",children:j.status})]},j.id))]})]})]})}function am({requests:f,offers:c,users:h,findShiftById:o,onApprove:b,onDecline:g}){const j=w.useMemo(()=>Object.fromEntries(h.map(m=>[m.id,m])),[h]),z=(f||[]).filter(m=>m.status==="manager_pending"),O=w.useMemo(()=>{const m={};for(const M of c||[])m[M.request_id]||(m[M.request_id]=[]),m[M.request_id].push(M);return m},[c]);return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"Manager approval queue"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[z.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No items in queue."}),z.map(m=>{const M=o(m.shift_id),Q=j[m.requester_id],H=(O[m.id]||[]).length;return s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[Q?.full_name||"Unknown"," ",s.jsx("span",{className:"ml-2 text-gray-600",children:m.type})]}),M&&s.jsxs("div",{className:"text-gray-600",children:[new Date(M.starts_at).toLocaleString()," - ",new Date(M.ends_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(da,{children:["offers: ",H]}),s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>b(m.id),children:"Approve"}),s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>g(m.id),children:"Decline"})]})]},m.id)})]})]})})}function nm({data:f,users:c,currentUser:h,positionsById:o,findShiftById:b,onCreateRequest:g,onOfferCover:j,onOfferTrade:z,onWithdrawOffer:O,onAcceptOffer:m,onCancelRequest:M,flags:Q}){const H=h.id,ue=(f.schedules||[]).flatMap(B=>(B.shifts||[]).map(oe=>({...oe,__location_id:B.location_id}))).filter(B=>B.user_id===H&&Ce(B.starts_at)>new Date),K=(f.swap_requests||[]).filter(B=>(B.status==="open"||B.status==="offered")&&B.requester_id!==H),fe=(f.swap_requests||[]).filter(B=>B.requester_id===H),xe=(f.swap_offers||[]).filter(B=>B.offerer_id===H),ie=w.useMemo(()=>{const B={};for(const oe of f.swap_offers||[])B[oe.request_id]||(B[oe.request_id]=[]),B[oe.request_id].push(oe);return B},[f.swap_offers]),[me,le]=w.useState(ue[0]?.id||""),[P,Se]=w.useState("give"),[Ye,he]=w.useState(""),[Je,rt]=w.useState(""),je=()=>{if(!me)return alert("Pick a shift");const B=Je?new Date(Date.now()+Number(Je)*36e5).toISOString():null;g({shiftId:me,type:P,message:Ye,expiresAt:B}),he(""),rt("")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"Create swap request"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"My future shift"}),s.jsx("select",{className:"rounded-xl border px-3 py-2",value:me,onChange:B=>le(B.target.value),children:ue.map(B=>s.jsxs("option",{value:B.id,children:[o[B.position_id]?.name||"?","  ",new Date(B.starts_at).toLocaleString()," - ",new Date(B.ends_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]},B.id))})]}),s.jsx(ol,{label:"Type",value:P,onChange:Se,options:[{value:"give",label:"Give away"},{value:"trade",label:"Trade"}]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Expires in (hours)"}),s.jsx("input",{className:"rounded-xl border px-3 py-2",type:"number",min:"0",value:Je,onChange:B=>rt(B.target.value)})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsx(Rt,{label:"Message (optional)",value:Ye,onChange:he})})]}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:je,children:"Request swap"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"Open requests (eligible)"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[K.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No open requests right now."}),K.map(B=>{const oe=b(B.shift_id),Ue=c.find(X=>X.id===B.requester_id);if(!oe||!(oe.__location_id===h.location_id))return null;const A=ue.filter(X=>Q.allowCrossPosition||X.position_id===oe.position_id);return s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[Ue?.full_name||"Unknown"," ",s.jsx("span",{className:"ml-2 text-gray-600",children:B.type})]}),s.jsxs("div",{className:"text-gray-600",children:[new Date(oe.starts_at).toLocaleString()," - ",new Date(oe.ends_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:B.type==="give"?s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>j(B.id),children:"Offer to cover"}):s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("select",{className:"rounded-xl border px-2 py-1",onChange:X=>{X.target.value&&z(B.id,X.target.value)},defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"Offer trade shift"}),A.map(X=>s.jsxs("option",{value:X.id,children:[new Date(X.starts_at).toLocaleDateString()," ",new Date(X.starts_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]},X.id))]})})})]},B.id)})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"My requests"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[fe.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No swap requests yet."}),fe.map(B=>{const oe=b(B.shift_id),Ue=ie[B.id]||[];return s.jsxs("li",{className:"p-3 text-sm",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[B.type," ",s.jsx("span",{className:"ml-2 text-gray-600",children:B.status})]}),oe&&s.jsx("div",{className:"text-gray-600",children:new Date(oe.starts_at).toLocaleString()})]}),s.jsx("div",{className:"flex items-center gap-2",children:(B.status==="open"||B.status==="offered")&&s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>M(B.id),children:"Cancel"})})]}),Ue.length>0&&s.jsxs("div",{className:"mt-2 rounded-xl border p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-semibold",children:"Offers"}),s.jsx("ul",{className:"space-y-1 text-xs",children:Ue.map(Te=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["From ",c.find(A=>A.id===Te.offerer_id)?.full_name||"Unknown",Te.offer_shift_id?" (trade)":" (cover)"]}),B.status!=="manager_pending"&&s.jsx("button",{className:"rounded-xl border px-2 py-0.5",onClick:()=>m(Te.id),children:"Accept"})]},Te.id))})]})]},B.id)})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"My offers"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[xe.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No offers yet."}),xe.map(B=>s.jsxs("li",{className:"flex items-center justify-between p-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[B.offer_shift_id?"Trade":"Cover"," offer ",s.jsx("span",{className:"ml-2 text-gray-600",children:B.status})]}),s.jsxs("div",{className:"text-gray-600",children:["For request ",B.request_id.slice(0,6)]})]}),B.status==="proposed"&&s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>O(B.id),children:"Withdraw"})]},B.id))]})]})]})}function gp({users:f,positions:c,data:h,onToggle:o}){const b=w.useMemo(()=>{const g={};for(const j of f)g[j.id]=new Set;for(const j of h.user_qualifications||[])g[j.user_id]||(g[j.user_id]=new Set),g[j.user_id].add(j.position_id);return g},[f,h.user_qualifications]);return w.useMemo(()=>{const g={};for(const j of c)g[j.location_id]||(g[j.location_id]=[]),g[j.location_id].push(j);return g},[c]),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2",children:"Employee"}),c.map(g=>s.jsx("th",{className:"p-2 whitespace-nowrap",children:g.name},g.id))]})}),s.jsx("tbody",{children:f.map(g=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2 font-medium whitespace-nowrap",children:g.full_name}),c.map(j=>{const z=b[g.id]?.has(j.id)||!1,O=g.location_id===j.location_id;return s.jsx("td",{className:"p-2 text-center",children:s.jsx("input",{type:"checkbox",disabled:!O,checked:z,onChange:m=>o(g.id,j.id,m.target.checked)})},j.id)})]},g.id))})]})})}function xp({open:f,onClose:c,shift:h,users:o,positions:b,onSave:g}){const j=he=>{const Je=Ce(he),rt=String(Je.getHours()).padStart(2,"0"),je=String(Je.getMinutes()).padStart(2,"0");return`${rt}:${je}`},z=o?.[0]?.id||"",O=b?.[0]?.id||"",m=new Date,[M,Q]=w.useState(h?.user_id??z),[H,V]=w.useState(h?.position_id??O),[ue,K]=w.useState(Ce(h?.starts_at??m)),[fe,xe]=w.useState(j(h?.starts_at??m)),[ie,me]=w.useState(j(h?.ends_at??m)),[le,P]=w.useState(h?.break_min||0),[Se,Ye]=w.useState(h?.notes||"");return w.useEffect(()=>{h&&(Q(h.user_id),V(h.position_id),K(Ce(h.starts_at)),xe(j(h.starts_at)),me(j(h.ends_at)),P(h.break_min||0),Ye(h.notes||""))},[h,f]),!f||!h?null:s.jsx(fm,{open:f,onClose:c,title:"Edit shift",footer:s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:c,children:"Cancel"}),s.jsx("button",{className:"rounded-xl border bg-black px-3 py-2 text-sm text-white",onClick:()=>{if(!M||!H)return alert("Pick employee & position");g({id:h.id,user_id:M,position_id:H,day:ue,start_hhmm:fe,end_hhmm:ie,break_min:le,notes:Se}),c()},children:"Save changes"})]}),children:s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsx(ol,{label:"Employee",value:M,onChange:Q,options:o.map(he=>({value:he.id,label:he.full_name}))}),s.jsx(ol,{label:"Position",value:H,onChange:V,options:b.map(he=>({value:he.id,label:he.name}))}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Day"}),s.jsx("input",{type:"date",value:at(ue),onChange:he=>K(Ce(he.target.value)),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Start time"}),s.jsx("input",{type:"time",value:fe,onChange:he=>xe(he.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"End time"}),s.jsx("input",{type:"time",value:ie,onChange:he=>me(he.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Break (minutes)"}),s.jsx("input",{type:"number",min:0,step:5,value:le,onChange:he=>P(Number(he.target.value)),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"md:col-span-2 grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Notes (optional)"}),s.jsx("input",{type:"text",value:Se,onChange:he=>Ye(he.target.value),className:"rounded-xl border px-3 py-2"})]})]})})}Dy.createRoot(document.getElementById("root")).render(s.jsx(tr.StrictMode,{children:s.jsx(qy,{children:s.jsx(np,{})})}));
