(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))o(v);new MutationObserver(v=>{for(const x of v)if(x.type==="childList")for(const _ of x.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&o(_)}).observe(document,{childList:!0,subtree:!0});function h(v){const x={};return v.integrity&&(x.integrity=v.integrity),v.referrerPolicy&&(x.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?x.credentials="include":v.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function o(v){if(v.ep)return;v.ep=!0;const x=h(v);fetch(v.href,x)}})();function by(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xc={exports:{}},pi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function _y(){if(Bd)return pi;Bd=1;var r=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function h(o,v,x){var _=null;if(x!==void 0&&(_=""+x),v.key!==void 0&&(_=""+v.key),"key"in v){x={};for(var O in v)O!=="key"&&(x[O]=v[O])}else x=v;return v=x.ref,{$$typeof:r,type:o,key:_,ref:v!==void 0?v:null,props:x}}return pi.Fragment=c,pi.jsx=h,pi.jsxs=h,pi}var Yd;function Sy(){return Yd||(Yd=1,Xc.exports=_y()),Xc.exports}var s=Sy(),Lc={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd;function jy(){if(Gd)return Te;Gd=1;var r=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),_=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),B=Symbol.iterator;function R(y){return y===null||typeof y!="object"?null:(y=B&&y[B]||y["@@iterator"],typeof y=="function"?y:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,L={};function ee(y,Y,I){this.props=y,this.context=Y,this.refs=L,this.updater=I||V}ee.prototype.isReactComponent={},ee.prototype.setState=function(y,Y){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,Y,"setState")},ee.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function ye(){}ye.prototype=ee.prototype;function ne(y,Y,I){this.props=y,this.context=Y,this.refs=L,this.updater=I||V}var ue=ne.prototype=new ye;ue.constructor=ne,ae(ue,ee.prototype),ue.isPureReactComponent=!0;var te=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},Ne=Object.prototype.hasOwnProperty;function qe(y,Y,I,$,de,ze){return I=ze.ref,{$$typeof:r,type:y,key:Y,ref:I!==void 0?I:null,props:ze}}function fe(y,Y){return qe(y.type,Y,void 0,void 0,void 0,y.props)}function Se(y){return typeof y=="object"&&y!==null&&y.$$typeof===r}function F(y){var Y={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(I){return Y[I]})}var ie=/\/+/g;function Q(y,Y){return typeof y=="object"&&y!==null&&y.key!=null?F(""+y.key):Y.toString(36)}function Ce(){}function be(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(Ce,Ce):(y.status="pending",y.then(function(Y){y.status==="pending"&&(y.status="fulfilled",y.value=Y)},function(Y){y.status==="pending"&&(y.status="rejected",y.reason=Y)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function Re(y,Y,I,$,de){var ze=typeof y;(ze==="undefined"||ze==="boolean")&&(y=null);var xe=!1;if(y===null)xe=!0;else switch(ze){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(y.$$typeof){case r:case c:xe=!0;break;case w:return xe=y._init,Re(xe(y._payload),Y,I,$,de)}}if(xe)return de=de(y),xe=$===""?"."+Q(y,0):$,te(de)?(I="",xe!=null&&(I=xe.replace(ie,"$&/")+"/"),Re(de,Y,I,"",function(zt){return zt})):de!=null&&(Se(de)&&(de=fe(de,I+(de.key==null||y&&y.key===de.key?"":(""+de.key).replace(ie,"$&/")+"/")+xe)),Y.push(de)),1;xe=0;var xt=$===""?".":$+":";if(te(y))for(var Ge=0;Ge<y.length;Ge++)$=y[Ge],ze=xt+Q($,Ge),xe+=Re($,Y,I,ze,de);else if(Ge=R(y),typeof Ge=="function")for(y=Ge.call(y),Ge=0;!($=y.next()).done;)$=$.value,ze=xt+Q($,Ge++),xe+=Re($,Y,I,ze,de);else if(ze==="object"){if(typeof y.then=="function")return Re(be(y),Y,I,$,de);throw Y=String(y),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return xe}function N(y,Y,I){if(y==null)return y;var $=[],de=0;return Re(y,$,"","",function(ze){return Y.call(I,ze,de++)}),$}function k(y){if(y._status===-1){var Y=y._result;Y=Y(),Y.then(function(I){(y._status===0||y._status===-1)&&(y._status=1,y._result=I)},function(I){(y._status===0||y._status===-1)&&(y._status=2,y._result=I)}),y._status===-1&&(y._status=0,y._result=Y)}if(y._status===1)return y._result.default;throw y._result}var re=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)};function Ye(){}return Te.Children={map:N,forEach:function(y,Y,I){N(y,function(){Y.apply(this,arguments)},I)},count:function(y){var Y=0;return N(y,function(){Y++}),Y},toArray:function(y){return N(y,function(Y){return Y})||[]},only:function(y){if(!Se(y))throw Error("React.Children.only expected to receive a single React element child.");return y}},Te.Component=ee,Te.Fragment=h,Te.Profiler=v,Te.PureComponent=ne,Te.StrictMode=o,Te.Suspense=E,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Te.__COMPILER_RUNTIME={__proto__:null,c:function(y){return K.H.useMemoCache(y)}},Te.cache=function(y){return function(){return y.apply(null,arguments)}},Te.cloneElement=function(y,Y,I){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var $=ae({},y.props),de=y.key,ze=void 0;if(Y!=null)for(xe in Y.ref!==void 0&&(ze=void 0),Y.key!==void 0&&(de=""+Y.key),Y)!Ne.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||($[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)$.children=I;else if(1<xe){for(var xt=Array(xe),Ge=0;Ge<xe;Ge++)xt[Ge]=arguments[Ge+2];$.children=xt}return qe(y.type,de,void 0,void 0,ze,$)},Te.createContext=function(y){return y={$$typeof:_,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:x,_context:y},y},Te.createElement=function(y,Y,I){var $,de={},ze=null;if(Y!=null)for($ in Y.key!==void 0&&(ze=""+Y.key),Y)Ne.call(Y,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(de[$]=Y[$]);var xe=arguments.length-2;if(xe===1)de.children=I;else if(1<xe){for(var xt=Array(xe),Ge=0;Ge<xe;Ge++)xt[Ge]=arguments[Ge+2];de.children=xt}if(y&&y.defaultProps)for($ in xe=y.defaultProps,xe)de[$]===void 0&&(de[$]=xe[$]);return qe(y,ze,void 0,void 0,null,de)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(y){return{$$typeof:O,render:y}},Te.isValidElement=Se,Te.lazy=function(y){return{$$typeof:w,_payload:{_status:-1,_result:y},_init:k}},Te.memo=function(y,Y){return{$$typeof:m,type:y,compare:Y===void 0?null:Y}},Te.startTransition=function(y){var Y=K.T,I={};K.T=I;try{var $=y(),de=K.S;de!==null&&de(I,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Ye,re)}catch(ze){re(ze)}finally{K.T=Y}},Te.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Te.use=function(y){return K.H.use(y)},Te.useActionState=function(y,Y,I){return K.H.useActionState(y,Y,I)},Te.useCallback=function(y,Y){return K.H.useCallback(y,Y)},Te.useContext=function(y){return K.H.useContext(y)},Te.useDebugValue=function(){},Te.useDeferredValue=function(y,Y){return K.H.useDeferredValue(y,Y)},Te.useEffect=function(y,Y,I){var $=K.H;if(typeof I=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(y,Y)},Te.useId=function(){return K.H.useId()},Te.useImperativeHandle=function(y,Y,I){return K.H.useImperativeHandle(y,Y,I)},Te.useInsertionEffect=function(y,Y){return K.H.useInsertionEffect(y,Y)},Te.useLayoutEffect=function(y,Y){return K.H.useLayoutEffect(y,Y)},Te.useMemo=function(y,Y){return K.H.useMemo(y,Y)},Te.useOptimistic=function(y,Y){return K.H.useOptimistic(y,Y)},Te.useReducer=function(y,Y,I){return K.H.useReducer(y,Y,I)},Te.useRef=function(y){return K.H.useRef(y)},Te.useState=function(y){return K.H.useState(y)},Te.useSyncExternalStore=function(y,Y,I){return K.H.useSyncExternalStore(y,Y,I)},Te.useTransition=function(){return K.H.useTransition()},Te.version="19.1.1",Te}var kd;function Ic(){return kd||(kd=1,Lc.exports=jy()),Lc.exports}var D=Ic();const am=by(D);var Zc={exports:{}},xi={},Vc={exports:{}},Kc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd;function Ny(){return Qd||(Qd=1,(function(r){function c(N,k){var re=N.length;N.push(k);e:for(;0<re;){var Ye=re-1>>>1,y=N[Ye];if(0<v(y,k))N[Ye]=k,N[re]=y,re=Ye;else break e}}function h(N){return N.length===0?null:N[0]}function o(N){if(N.length===0)return null;var k=N[0],re=N.pop();if(re!==k){N[0]=re;e:for(var Ye=0,y=N.length,Y=y>>>1;Ye<Y;){var I=2*(Ye+1)-1,$=N[I],de=I+1,ze=N[de];if(0>v($,re))de<y&&0>v(ze,$)?(N[Ye]=ze,N[de]=re,Ye=de):(N[Ye]=$,N[I]=re,Ye=I);else if(de<y&&0>v(ze,re))N[Ye]=ze,N[de]=re,Ye=de;else break e}}return k}function v(N,k){var re=N.sortIndex-k.sortIndex;return re!==0?re:N.id-k.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;r.unstable_now=function(){return x.now()}}else{var _=Date,O=_.now();r.unstable_now=function(){return _.now()-O}}var E=[],m=[],w=1,B=null,R=3,V=!1,ae=!1,L=!1,ee=!1,ye=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function te(N){for(var k=h(m);k!==null;){if(k.callback===null)o(m);else if(k.startTime<=N)o(m),k.sortIndex=k.expirationTime,c(E,k);else break;k=h(m)}}function K(N){if(L=!1,te(N),!ae)if(h(E)!==null)ae=!0,Ne||(Ne=!0,Q());else{var k=h(m);k!==null&&Re(K,k.startTime-N)}}var Ne=!1,qe=-1,fe=5,Se=-1;function F(){return ee?!0:!(r.unstable_now()-Se<fe)}function ie(){if(ee=!1,Ne){var N=r.unstable_now();Se=N;var k=!0;try{e:{ae=!1,L&&(L=!1,ne(qe),qe=-1),V=!0;var re=R;try{t:{for(te(N),B=h(E);B!==null&&!(B.expirationTime>N&&F());){var Ye=B.callback;if(typeof Ye=="function"){B.callback=null,R=B.priorityLevel;var y=Ye(B.expirationTime<=N);if(N=r.unstable_now(),typeof y=="function"){B.callback=y,te(N),k=!0;break t}B===h(E)&&o(E),te(N)}else o(E);B=h(E)}if(B!==null)k=!0;else{var Y=h(m);Y!==null&&Re(K,Y.startTime-N),k=!1}}break e}finally{B=null,R=re,V=!1}k=void 0}}finally{k?Q():Ne=!1}}}var Q;if(typeof ue=="function")Q=function(){ue(ie)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,be=Ce.port2;Ce.port1.onmessage=ie,Q=function(){be.postMessage(null)}}else Q=function(){ye(ie,0)};function Re(N,k){qe=ye(function(){N(r.unstable_now())},k)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(N){N.callback=null},r.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<N?Math.floor(1e3/N):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(N){switch(R){case 1:case 2:case 3:var k=3;break;default:k=R}var re=R;R=k;try{return N()}finally{R=re}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(N,k){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var re=R;R=N;try{return k()}finally{R=re}},r.unstable_scheduleCallback=function(N,k,re){var Ye=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ye+re:Ye):re=Ye,N){case 1:var y=-1;break;case 2:y=250;break;case 5:y=1073741823;break;case 4:y=1e4;break;default:y=5e3}return y=re+y,N={id:w++,callback:k,priorityLevel:N,startTime:re,expirationTime:y,sortIndex:-1},re>Ye?(N.sortIndex=re,c(m,N),h(E)===null&&N===h(m)&&(L?(ne(qe),qe=-1):L=!0,Re(K,re-Ye))):(N.sortIndex=y,c(E,N),ae||V||(ae=!0,Ne||(Ne=!0,Q()))),N},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(N){var k=R;return function(){var re=R;R=k;try{return N.apply(this,arguments)}finally{R=re}}}})(Kc)),Kc}var Xd;function Ty(){return Xd||(Xd=1,Vc.exports=Ny()),Vc.exports}var Jc={exports:{}},qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function Ay(){if(Ld)return qt;Ld=1;var r=Ic();function c(E){var m="https://react.dev/errors/"+E;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+E+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(){}var o={d:{f:h,r:function(){throw Error(c(522))},D:h,C:h,L:h,m:h,X:h,S:h,M:h},p:0,findDOMNode:null},v=Symbol.for("react.portal");function x(E,m,w){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:B==null?null:""+B,children:E,containerInfo:m,implementation:w}}var _=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function O(E,m){if(E==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,qt.createPortal=function(E,m){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(c(299));return x(E,m,null,w)},qt.flushSync=function(E){var m=_.T,w=o.p;try{if(_.T=null,o.p=2,E)return E()}finally{_.T=m,o.p=w,o.d.f()}},qt.preconnect=function(E,m){typeof E=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(E,m))},qt.prefetchDNS=function(E){typeof E=="string"&&o.d.D(E)},qt.preinit=function(E,m){if(typeof E=="string"&&m&&typeof m.as=="string"){var w=m.as,B=O(w,m.crossOrigin),R=typeof m.integrity=="string"?m.integrity:void 0,V=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;w==="style"?o.d.S(E,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:B,integrity:R,fetchPriority:V}):w==="script"&&o.d.X(E,{crossOrigin:B,integrity:R,fetchPriority:V,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},qt.preinitModule=function(E,m){if(typeof E=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var w=O(m.as,m.crossOrigin);o.d.M(E,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(E)},qt.preload=function(E,m){if(typeof E=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var w=m.as,B=O(w,m.crossOrigin);o.d.L(E,w,{crossOrigin:B,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},qt.preloadModule=function(E,m){if(typeof E=="string")if(m){var w=O(m.as,m.crossOrigin);o.d.m(E,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(E)},qt.requestFormReset=function(E){o.d.r(E)},qt.unstable_batchedUpdates=function(E,m){return E(m)},qt.useFormState=function(E,m,w){return _.H.useFormState(E,m,w)},qt.useFormStatus=function(){return _.H.useHostTransitionStatus()},qt.version="19.1.1",qt}var Zd;function Ey(){if(Zd)return Jc.exports;Zd=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),Jc.exports=Ay(),Jc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function wy(){if(Vd)return xi;Vd=1;var r=Ty(),c=Ic(),h=Ey();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function _(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function O(e){if(x(e)!==e)throw Error(o(188))}function E(e){var t=e.alternate;if(!t){if(t=x(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return O(n),e;if(i===a)return O(n),t;i=i.sibling}throw Error(o(188))}if(l.return!==a.return)l=n,a=i;else{for(var u=!1,f=n.child;f;){if(f===l){u=!0,l=n,a=i;break}if(f===a){u=!0,a=n,l=i;break}f=f.sibling}if(!u){for(f=i.child;f;){if(f===l){u=!0,l=i,a=n;break}if(f===a){u=!0,a=i,l=n;break}f=f.sibling}if(!u)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,B=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),qe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),Se=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Symbol.for("react.client.reference");function be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case ee:return"Profiler";case L:return"StrictMode";case K:return"Suspense";case Ne:return"SuspenseList";case Se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case ue:return(e.displayName||"Context")+".Provider";case ne:return(e._context.displayName||"Context")+".Consumer";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qe:return t=e.displayName||null,t!==null?t:be(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return be(e(t))}catch{}}return null}var Re=Array.isArray,N=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=h.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ye=[],y=-1;function Y(e){return{current:e}}function I(e){0>y||(e.current=Ye[y],Ye[y]=null,y--)}function $(e,t){y++,Ye[y]=e.current,e.current=t}var de=Y(null),ze=Y(null),xe=Y(null),xt=Y(null);function Ge(e,t){switch($(xe,t),$(ze,e),$(de,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dd(t),e=md(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(de),$(de,e)}function zt(){I(de),I(ze),I(xe)}function St(e){e.memoizedState!==null&&$(xt,e);var t=de.current,l=md(t,e.type);t!==l&&($(ze,e),$(de,l))}function st(e){ze.current===e&&(I(de),I(ze)),xt.current===e&&(I(xt),oi._currentValue=re)}var Bl=Object.prototype.hasOwnProperty,P=r.unstable_scheduleCallback,ma=r.unstable_cancelCallback,M=r.unstable_shouldYield,G=r.unstable_requestPaint,X=r.unstable_now,q=r.unstable_getCurrentPriorityLevel,J=r.unstable_ImmediatePriority,ve=r.unstable_UserBlockingPriority,me=r.unstable_NormalPriority,We=r.unstable_LowPriority,oe=r.unstable_IdlePriority,Fe=r.log,wt=r.unstable_setDisableYieldValue,_e=null,tt=null;function jt(e){if(typeof Fe=="function"&&wt(e),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(_e,e)}catch{}}var ut=Math.clz32?Math.clz32:Mt,Yl=Math.log,ha=Math.LN2;function Mt(e){return e>>>=0,e===0?32:31-(Yl(e)/ha|0)|0}var Ie=256,Qe=4194304;function Xe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gl(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var f=a&134217727;return f!==0?(a=f&~i,a!==0?n=Xe(a):(u&=f,u!==0?n=Xe(u):l||(l=f&~e,l!==0&&(n=Xe(l))))):(f=a&~i,f!==0?n=Xe(f):u!==0?n=Xe(u):l||(l=a&~e,l!==0&&(n=Xe(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function vl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _n(){var e=Ie;return Ie<<=1,(Ie&4194048)===0&&(Ie=256),e}function Gl(){var e=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),e}function qa(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function bl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ya(e,t,l,a,n,i){var u=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var f=e.entanglements,d=e.expirationTimes,j=e.hiddenUpdates;for(l=u&~l;0<l;){var C=31-ut(l),H=1<<C;f[C]=0,d[C]=-1;var T=j[C];if(T!==null)for(j[C]=null,C=0;C<T.length;C++){var A=T[C];A!==null&&(A.lane&=-536870913)}l&=~H}a!==0&&bi(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(u&~t))}function bi(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ut(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&4194090}function kt(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-ut(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function Sn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function kl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jn(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:qd(e.type))}function za(e,t){var l=k.p;try{return k.p=e,t()}finally{k.p=l}}var ul=Math.random().toString(36).slice(2),ht="__reactFiber$"+ul,Nt="__reactProps$"+ul,_l="__reactContainer$"+ul,Ca="__reactEvents$"+ul,b="__reactListeners$"+ul,z="__reactHandles$"+ul,Z="__reactResources$"+ul,W="__reactMarker$"+ul;function je(e){delete e[ht],delete e[Nt],delete e[Ca],delete e[b],delete e[z]}function se(e){var t=e[ht];if(t)return t;for(var l=e.parentNode;l;){if(t=l[_l]||l[ht]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=xd(e);e!==null;){if(l=e[ht])return l;e=xd(e)}return t}e=l,l=e.parentNode}return null}function Ae(e){if(e=e[ht]||e[_l]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ot(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function lt(e){var t=e[Z];return t||(t=e[Z]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Me(e){e[W]=!0}var Ql=new Set,Xl={};function Sl(e,t){Ra(e,t),Ra(e+"Capture",t)}function Ra(e,t){for(Xl[e]=t,e=0;e<t.length;e++)Ql.add(t[e])}var dm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tf={},lf={};function mm(e){return Bl.call(lf,e)?!0:Bl.call(tf,e)?!1:dm.test(e)?lf[e]=!0:(tf[e]=!0,!1)}function _i(e,t,l){if(mm(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Si(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function jl(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}var Hs,af;function Ua(e){if(Hs===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Hs=t&&t[1]||"",af=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+e+af}var Bs=!1;function Ys(e,t){if(!e||Bs)return"";Bs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(A){var T=A}Reflect.construct(e,[],H)}else{try{H.call()}catch(A){T=A}e.call(H.prototype)}}else{try{throw Error()}catch(A){T=A}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(A){if(A&&T&&typeof A.stack=="string")return[A.stack,T.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),u=i[0],f=i[1];if(u&&f){var d=u.split(`
`),j=f.split(`
`);for(n=a=0;a<d.length&&!d[a].includes("DetermineComponentFrameRoot");)a++;for(;n<j.length&&!j[n].includes("DetermineComponentFrameRoot");)n++;if(a===d.length||n===j.length)for(a=d.length-1,n=j.length-1;1<=a&&0<=n&&d[a]!==j[n];)n--;for(;1<=a&&0<=n;a--,n--)if(d[a]!==j[n]){if(a!==1||n!==1)do if(a--,n--,0>n||d[a]!==j[n]){var C=`
`+d[a].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=a&&0<=n);break}}}finally{Bs=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ua(l):""}function hm(e){switch(e.tag){case 26:case 27:case 5:return Ua(e.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 15:return Ys(e.type,!1);case 11:return Ys(e.type.render,!1);case 1:return Ys(e.type,!0);case 31:return Ua("Activity");default:return""}}function nf(e){try{var t="";do t+=hm(e),e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ym(e){var t=sf(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(u){a=""+u,i.call(this,u)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(u){a=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ji(e){e._valueTracker||(e._valueTracker=ym(e))}function uf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=sf(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pm=/[\n"\\]/g;function Ft(e){return e.replace(pm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Gs(e,t,l,a,n,i,u,f){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Wt(t)):e.value!==""+Wt(t)&&(e.value=""+Wt(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?ks(e,u,Wt(t)):l!=null?ks(e,u,Wt(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+Wt(f):e.removeAttribute("name")}function cf(e,t,l,a,n,i,u,f){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;l=l!=null?""+Wt(l):"",t=t!=null?""+Wt(t):l,f||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=f?e.checked:!!a,e.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u)}function ks(e,t,l){t==="number"&&Ni(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ha(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Wt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function ff(e,t,l){if(t!=null&&(t=""+Wt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Wt(l):""}function rf(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(Re(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Wt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a)}function Ba(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var xm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function of(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||xm.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function df(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&of(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&of(e,i,t[i])}function Qs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(e){return vm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Xs=null;function Ls(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ya=null,Ga=null;function mf(e){var t=Ae(e);if(t&&(e=t.stateNode)){var l=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Gs(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[Nt]||null;if(!n)throw Error(o(90));Gs(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&uf(a)}break e;case"textarea":ff(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Ha(e,!!l.multiple,t,!1)}}}var Zs=!1;function hf(e,t,l){if(Zs)return e(t,l);Zs=!0;try{var a=e(t);return a}finally{if(Zs=!1,(Ya!==null||Ga!==null)&&(rs(),Ya&&(t=Ya,e=Ga,Ga=Ya=null,mf(t),e)))for(t=0;t<e.length;t++)mf(e[t])}}function Nn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Nt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var Nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(Nl)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{Vs=!1}var Ll=null,Ks=null,Ai=null;function yf(){if(Ai)return Ai;var e,t=Ks,l=t.length,a,n="value"in Ll?Ll.value:Ll.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var u=l-e;for(a=1;a<=u&&t[l-a]===n[i-a];a++);return Ai=n.slice(e,1<a?1-a:void 0)}function Ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wi(){return!0}function pf(){return!1}function Ut(e){function t(l,a,n,i,u){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(l=e[f],this[f]=l?l(i):i[f]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wi:pf,this.isPropagationStopped=pf,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),t}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Ut(pa),An=w({},pa,{view:0,detail:0}),bm=Ut(An),Js,$s,En,Oi=w({},An,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==En&&(En&&e.type==="mousemove"?(Js=e.screenX-En.screenX,$s=e.screenY-En.screenY):$s=Js=0,En=e),Js)},movementY:function(e){return"movementY"in e?e.movementY:$s}}),xf=Ut(Oi),_m=w({},Oi,{dataTransfer:0}),Sm=Ut(_m),jm=w({},An,{relatedTarget:0}),Ws=Ut(jm),Nm=w({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Tm=Ut(Nm),Am=w({},pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Em=Ut(Am),wm=w({},pa,{data:0}),gf=Ut(wm),Mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dm[e])?!!t[e]:!1}function Fs(){return qm}var zm=w({},An,{key:function(e){if(e.key){var t=Mm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Om[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(e){return e.type==="keypress"?Ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cm=Ut(zm),Rm=w({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vf=Ut(Rm),Um=w({},An,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),Hm=Ut(Um),Bm=w({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ym=Ut(Bm),Gm=w({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),km=Ut(Gm),Qm=w({},pa,{newState:0,oldState:0}),Xm=Ut(Qm),Lm=[9,13,27,32],Ps=Nl&&"CompositionEvent"in window,wn=null;Nl&&"documentMode"in document&&(wn=document.documentMode);var Zm=Nl&&"TextEvent"in window&&!wn,bf=Nl&&(!Ps||wn&&8<wn&&11>=wn),_f=" ",Sf=!1;function jf(e,t){switch(e){case"keyup":return Lm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ka=!1;function Vm(e,t){switch(e){case"compositionend":return Nf(t);case"keypress":return t.which!==32?null:(Sf=!0,_f);case"textInput":return e=t.data,e===_f&&Sf?null:e;default:return null}}function Km(e,t){if(ka)return e==="compositionend"||!Ps&&jf(e,t)?(e=yf(),Ai=Ks=Ll=null,ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bf&&t.locale!=="ko"?null:t.data;default:return null}}var Jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jm[e.type]:t==="textarea"}function Af(e,t,l,a){Ya?Ga?Ga.push(a):Ga=[a]:Ya=a,t=ps(t,"onChange"),0<t.length&&(l=new Mi("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Mn=null,On=null;function $m(e){ud(e,0)}function Di(e){var t=Ot(e);if(uf(t))return e}function Ef(e,t){if(e==="change")return t}var wf=!1;if(Nl){var Is;if(Nl){var eu="oninput"in document;if(!eu){var Mf=document.createElement("div");Mf.setAttribute("oninput","return;"),eu=typeof Mf.oninput=="function"}Is=eu}else Is=!1;wf=Is&&(!document.documentMode||9<document.documentMode)}function Of(){Mn&&(Mn.detachEvent("onpropertychange",Df),On=Mn=null)}function Df(e){if(e.propertyName==="value"&&Di(On)){var t=[];Af(t,On,e,Ls(e)),hf($m,t)}}function Wm(e,t,l){e==="focusin"?(Of(),Mn=t,On=l,Mn.attachEvent("onpropertychange",Df)):e==="focusout"&&Of()}function Fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Di(On)}function Pm(e,t){if(e==="click")return Di(t)}function Im(e,t){if(e==="input"||e==="change")return Di(t)}function eh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:eh;function Dn(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!Bl.call(t,n)||!Qt(e[n],t[n]))return!1}return!0}function qf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zf(e,t){var l=qf(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qf(l)}}function Cf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ni(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Ni(e.document)}return t}function tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var th=Nl&&"documentMode"in document&&11>=document.documentMode,Qa=null,lu=null,qn=null,au=!1;function Uf(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;au||Qa==null||Qa!==Ni(a)||(a=Qa,"selectionStart"in a&&tu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),qn&&Dn(qn,a)||(qn=a,a=ps(lu,"onSelect"),0<a.length&&(t=new Mi("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Qa)))}function xa(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Xa={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},nu={},Hf={};Nl&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ga(e){if(nu[e])return nu[e];if(!Xa[e])return e;var t=Xa[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Hf)return nu[e]=t[l];return e}var Bf=ga("animationend"),Yf=ga("animationiteration"),Gf=ga("animationstart"),lh=ga("transitionrun"),ah=ga("transitionstart"),nh=ga("transitioncancel"),kf=ga("transitionend"),Qf=new Map,iu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");iu.push("scrollEnd");function cl(e,t){Qf.set(e,t),Sl(t,[e])}var Xf=new WeakMap;function Pt(e,t){if(typeof e=="object"&&e!==null){var l=Xf.get(e);return l!==void 0?l:(t={value:e,source:t,stack:nf(t)},Xf.set(e,t),t)}return{value:e,source:t,stack:nf(t)}}var It=[],La=0,su=0;function qi(){for(var e=La,t=su=La=0;t<e;){var l=It[t];It[t++]=null;var a=It[t];It[t++]=null;var n=It[t];It[t++]=null;var i=It[t];if(It[t++]=null,a!==null&&n!==null){var u=a.pending;u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n}i!==0&&Lf(l,n,i)}}function zi(e,t,l,a){It[La++]=e,It[La++]=t,It[La++]=l,It[La++]=a,su|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function uu(e,t,l,a){return zi(e,t,l,a),Ci(e)}function Za(e,t){return zi(e,null,null,t),Ci(e)}function Lf(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-ut(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function Ci(e){if(50<ai)throw ai=0,mc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Va={};function ih(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,l,a){return new ih(e,t,l,a)}function cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tl(e,t){var l=e.alternate;return l===null?(l=Xt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Zf(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ri(e,t,l,a,n,i){var u=0;if(a=e,typeof e=="function")cu(e)&&(u=1);else if(typeof e=="string")u=uy(e,l,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Se:return e=Xt(31,l,t,n),e.elementType=Se,e.lanes=i,e;case ae:return va(l.children,n,i,t);case L:u=8,n|=24;break;case ee:return e=Xt(12,l,t,n|2),e.elementType=ee,e.lanes=i,e;case K:return e=Xt(13,l,t,n),e.elementType=K,e.lanes=i,e;case Ne:return e=Xt(19,l,t,n),e.elementType=Ne,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ye:case ue:u=10;break e;case ne:u=9;break e;case te:u=11;break e;case qe:u=14;break e;case fe:u=16,a=null;break e}u=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Xt(u,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function va(e,t,l,a){return e=Xt(7,e,a,t),e.lanes=l,e}function fu(e,t,l){return e=Xt(6,e,null,t),e.lanes=l,e}function ru(e,t,l){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ka=[],Ja=0,Ui=null,Hi=0,el=[],tl=0,ba=null,Al=1,El="";function _a(e,t){Ka[Ja++]=Hi,Ka[Ja++]=Ui,Ui=e,Hi=t}function Vf(e,t,l){el[tl++]=Al,el[tl++]=El,el[tl++]=ba,ba=e;var a=Al;e=El;var n=32-ut(a)-1;a&=~(1<<n),l+=1;var i=32-ut(t)+n;if(30<i){var u=n-n%5;i=(a&(1<<u)-1).toString(32),a>>=u,n-=u,Al=1<<32-ut(t)+n|l<<n|a,El=i+e}else Al=1<<i|l<<n|a,El=e}function ou(e){e.return!==null&&(_a(e,1),Vf(e,1,0))}function du(e){for(;e===Ui;)Ui=Ka[--Ja],Ka[Ja]=null,Hi=Ka[--Ja],Ka[Ja]=null;for(;e===ba;)ba=el[--tl],el[tl]=null,El=el[--tl],el[tl]=null,Al=el[--tl],el[tl]=null}var Ct=null,ct=null,ke=!1,Sa=null,dl=!1,mu=Error(o(519));function ja(e){var t=Error(o(418,""));throw Rn(Pt(t,e)),mu}function Kf(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[ht]=e,t[Nt]=a,l){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(l=0;l<ii.length;l++)De(ii[l],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),cf(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),ji(t);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),rf(t,a.value,a.defaultValue,a.children),ji(t)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||od(t.textContent,l)?(a.popover!=null&&(De("beforetoggle",t),De("toggle",t)),a.onScroll!=null&&De("scroll",t),a.onScrollEnd!=null&&De("scrollend",t),a.onClick!=null&&(t.onclick=xs),t=!0):t=!1,t||ja(e)}function Jf(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 5:case 13:dl=!1;return;case 27:case 3:dl=!0;return;default:Ct=Ct.return}}function zn(e){if(e!==Ct)return!1;if(!ke)return Jf(e),ke=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Mc(e.type,e.memoizedProps)),l=!l),l&&ct&&ja(e),Jf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(t===0){ct=rl(e.nextSibling);break e}t--}else l!=="$"&&l!=="$!"&&l!=="$?"||t++;e=e.nextSibling}ct=null}}else t===27?(t=ct,sa(e.type)?(e=zc,zc=null,ct=e):ct=t):ct=Ct?rl(e.stateNode.nextSibling):null;return!0}function Cn(){ct=Ct=null,ke=!1}function $f(){var e=Sa;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),Sa=null),e}function Rn(e){Sa===null?Sa=[e]:Sa.push(e)}var hu=Y(null),Na=null,wl=null;function Zl(e,t,l){$(hu,t._currentValue),t._currentValue=l}function Ml(e){e._currentValue=hu.current,I(hu)}function yu(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function pu(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var u=n.child;i=i.firstContext;e:for(;i!==null;){var f=i;i=n;for(var d=0;d<t.length;d++)if(f.context===t[d]){i.lanes|=l,f=i.alternate,f!==null&&(f.lanes|=l),yu(i.return,l,e),a||(u=null);break e}i=f.next}}else if(n.tag===18){if(u=n.return,u===null)throw Error(o(341));u.lanes|=l,i=u.alternate,i!==null&&(i.lanes|=l),yu(u,l,e),u=null}else u=n.child;if(u!==null)u.return=n;else for(u=n;u!==null;){if(u===e){u=null;break}if(n=u.sibling,n!==null){n.return=u.return,u=n;break}u=u.return}n=u}}function Un(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var u=n.alternate;if(u===null)throw Error(o(387));if(u=u.memoizedProps,u!==null){var f=n.type;Qt(n.pendingProps.value,u.value)||(e!==null?e.push(f):e=[f])}}else if(n===xt.current){if(u=n.alternate,u===null)throw Error(o(387));u.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(oi):e=[oi])}n=n.return}e!==null&&pu(t,e,l,a),t.flags|=262144}function Bi(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ta(e){Na=e,wl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return Wf(Na,e)}function Yi(e,t){return Na===null&&Ta(e),Wf(e,t)}function Wf(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},wl===null){if(e===null)throw Error(o(308));wl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wl=wl.next=t;return l}var sh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},uh=r.unstable_scheduleCallback,ch=r.unstable_NormalPriority,yt={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xu(){return{controller:new sh,data:new Map,refCount:0}}function Hn(e){e.refCount--,e.refCount===0&&uh(ch,function(){e.controller.abort()})}var Bn=null,gu=0,$a=0,Wa=null;function fh(e,t){if(Bn===null){var l=Bn=[];gu=0,$a=bc(),Wa={status:"pending",value:void 0,then:function(a){l.push(a)}}}return gu++,t.then(Ff,Ff),t}function Ff(){if(--gu===0&&Bn!==null){Wa!==null&&(Wa.status="fulfilled");var e=Bn;Bn=null,$a=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function rh(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var Pf=N.S;N.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&fh(e,t),Pf!==null&&Pf(e,t)};var Aa=Y(null);function vu(){var e=Aa.current;return e!==null?e:et.pooledCache}function Gi(e,t){t===null?$(Aa,Aa.current):$(Aa,t.pool)}function If(){var e=vu();return e===null?null:{parent:yt._currentValue,pool:e}}var Yn=Error(o(460)),er=Error(o(474)),ki=Error(o(542)),bu={then:function(){}};function tr(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qi(){}function lr(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Qi,Qi),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nr(e),e;default:if(typeof t.status=="string")t.then(Qi,Qi);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nr(e),e}throw Gn=t,Yn}}var Gn=null;function ar(){if(Gn===null)throw Error(o(459));var e=Gn;return Gn=null,e}function nr(e){if(e===Yn||e===ki)throw Error(o(483))}var Vl=!1;function _u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Su(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Le&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=Ci(e),Lf(e,null,l),t}return zi(e,a,t,l),Ci(e)}function kn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,kt(e,l)}}function ju(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var u={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=u:i=i.next=u,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Nu=!1;function Qn(){if(Nu){var e=Wa;if(e!==null)throw e}}function Xn(e,t,l,a){Nu=!1;var n=e.updateQueue;Vl=!1;var i=n.firstBaseUpdate,u=n.lastBaseUpdate,f=n.shared.pending;if(f!==null){n.shared.pending=null;var d=f,j=d.next;d.next=null,u===null?i=j:u.next=j,u=d;var C=e.alternate;C!==null&&(C=C.updateQueue,f=C.lastBaseUpdate,f!==u&&(f===null?C.firstBaseUpdate=j:f.next=j,C.lastBaseUpdate=d))}if(i!==null){var H=n.baseState;u=0,C=j=d=null,f=i;do{var T=f.lane&-536870913,A=T!==f.lane;if(A?(Ue&T)===T:(a&T)===T){T!==0&&T===$a&&(Nu=!0),C!==null&&(C=C.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var ge=e,he=f;T=t;var $e=l;switch(he.tag){case 1:if(ge=he.payload,typeof ge=="function"){H=ge.call($e,H,T);break e}H=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=he.payload,T=typeof ge=="function"?ge.call($e,H,T):ge,T==null)break e;H=w({},H,T);break e;case 2:Vl=!0}}T=f.callback,T!==null&&(e.flags|=64,A&&(e.flags|=8192),A=n.callbacks,A===null?n.callbacks=[T]:A.push(T))}else A={lane:T,tag:f.tag,payload:f.payload,callback:f.callback,next:null},C===null?(j=C=A,d=H):C=C.next=A,u|=T;if(f=f.next,f===null){if(f=n.shared.pending,f===null)break;A=f,f=A.next,A.next=null,n.lastBaseUpdate=A,n.shared.pending=null}}while(!0);C===null&&(d=H),n.baseState=d,n.firstBaseUpdate=j,n.lastBaseUpdate=C,i===null&&(n.shared.lanes=0),la|=u,e.lanes=u,e.memoizedState=H}}function ir(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function sr(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)ir(l[e],t)}var Fa=Y(null),Xi=Y(0);function ur(e,t){e=Ul,$(Xi,e),$(Fa,t),Ul=e|t.baseLanes}function Tu(){$(Xi,Ul),$(Fa,Fa.current)}function Au(){Ul=Xi.current,I(Fa),I(Xi)}var $l=0,Ee=null,Ke=null,dt=null,Li=!1,Pa=!1,Ea=!1,Zi=0,Ln=0,Ia=null,oh=0;function rt(){throw Error(o(321))}function Eu(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Qt(e[l],t[l]))return!1;return!0}function wu(e,t,l,a,n,i){return $l=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?Lr:Zr,Ea=!1,i=l(a,n),Ea=!1,Pa&&(i=fr(t,l,a,n)),cr(e),i}function cr(e){N.H=Fi;var t=Ke!==null&&Ke.next!==null;if($l=0,dt=Ke=Ee=null,Li=!1,Ln=0,Ia=null,t)throw Error(o(300));e===null||gt||(e=e.dependencies,e!==null&&Bi(e)&&(gt=!0))}function fr(e,t,l,a){Ee=e;var n=0;do{if(Pa&&(Ia=null),Ln=0,Pa=!1,25<=n)throw Error(o(301));if(n+=1,dt=Ke=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}N.H=gh,i=t(l,a)}while(Pa);return i}function dh(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?Zn(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(Ee.flags|=1024),t}function Mu(){var e=Zi!==0;return Zi=0,e}function Ou(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Du(e){if(Li){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Li=!1}$l=0,dt=Ke=Ee=null,Pa=!1,Ln=Zi=0,Ia=null}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ee.memoizedState=dt=e:dt=dt.next=e,dt}function mt(){if(Ke===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=dt===null?Ee.memoizedState:dt.next;if(t!==null)dt=t,Ke=e;else{if(e===null)throw Ee.alternate===null?Error(o(467)):Error(o(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},dt===null?Ee.memoizedState=dt=e:dt=dt.next=e}return dt}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zn(e){var t=Ln;return Ln+=1,Ia===null&&(Ia=[]),e=lr(Ia,e,t),t=Ee,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?Lr:Zr),e}function Vi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zn(e);if(e.$$typeof===ue)return Dt(e)}throw Error(o(438,String(e)))}function zu(e){var t=null,l=Ee.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=Ee.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=qu(),Ee.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=F;return t.index++,l}function Ol(e,t){return typeof t=="function"?t(e):t}function Ki(e){var t=mt();return Cu(t,Ke,e)}function Cu(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var u=n.next;n.next=i.next,i.next=u}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var f=u=null,d=null,j=t,C=!1;do{var H=j.lane&-536870913;if(H!==j.lane?(Ue&H)===H:($l&H)===H){var T=j.revertLane;if(T===0)d!==null&&(d=d.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),H===$a&&(C=!0);else if(($l&T)===T){j=j.next,T===$a&&(C=!0);continue}else H={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},d===null?(f=d=H,u=i):d=d.next=H,Ee.lanes|=T,la|=T;H=j.action,Ea&&l(i,H),i=j.hasEagerState?j.eagerState:l(i,H)}else T={lane:H,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},d===null?(f=d=T,u=i):d=d.next=T,Ee.lanes|=H,la|=H;j=j.next}while(j!==null&&j!==t);if(d===null?u=i:d.next=f,!Qt(i,e.memoizedState)&&(gt=!0,C&&(l=Wa,l!==null)))throw l;e.memoizedState=i,e.baseState=u,e.baseQueue=d,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ru(e){var t=mt(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var u=n=n.next;do i=e(i,u.action),u=u.next;while(u!==n);Qt(i,t.memoizedState)||(gt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function rr(e,t,l){var a=Ee,n=mt(),i=ke;if(i){if(l===void 0)throw Error(o(407));l=l()}else l=t();var u=!Qt((Ke||n).memoizedState,l);u&&(n.memoizedState=l,gt=!0),n=n.queue;var f=mr.bind(null,a,n,e);if(Vn(2048,8,f,[e]),n.getSnapshot!==t||u||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,en(9,Ji(),dr.bind(null,a,n,l,t),null),et===null)throw Error(o(349));i||($l&124)!==0||or(a,t,l)}return l}function or(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Ee.updateQueue,t===null?(t=qu(),Ee.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function dr(e,t,l,a){t.value=l,t.getSnapshot=a,hr(t)&&yr(e)}function mr(e,t,l){return l(function(){hr(t)&&yr(e)})}function hr(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Qt(e,l)}catch{return!0}}function yr(e){var t=Za(e,2);t!==null&&Jt(t,e,2)}function Uu(e){var t=Ht();if(typeof e=="function"){var l=e;if(e=l(),Ea){jt(!0);try{l()}finally{jt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:e},t}function pr(e,t,l,a){return e.baseState=l,Cu(e,Ke,typeof a=="function"?a:Ol)}function mh(e,t,l,a,n){if(Wi(e))throw Error(o(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){i.listeners.push(u)}};N.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,xr(t,i)):(i.next=l.next,t.pending=l.next=i)}}function xr(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=N.T,u={};N.T=u;try{var f=l(n,a),d=N.S;d!==null&&d(u,f),gr(e,t,f)}catch(j){Hu(e,t,j)}finally{N.T=i}}else try{i=l(n,a),gr(e,t,i)}catch(j){Hu(e,t,j)}}function gr(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){vr(e,t,a)},function(a){return Hu(e,t,a)}):vr(e,t,l)}function vr(e,t,l){t.status="fulfilled",t.value=l,br(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,xr(e,l)))}function Hu(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,br(t),t=t.next;while(t!==a)}e.action=null}function br(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _r(e,t){return t}function Sr(e,t){if(ke){var l=et.formState;if(l!==null){e:{var a=Ee;if(ke){if(ct){t:{for(var n=ct,i=dl;n.nodeType!==8;){if(!i){n=null;break t}if(n=rl(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){ct=rl(n.nextSibling),a=n.data==="F!";break e}}ja(a)}a=!1}a&&(t=l[0])}}return l=Ht(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:t},l.queue=a,l=kr.bind(null,Ee,a),a.dispatch=l,a=Uu(!1),i=Qu.bind(null,Ee,!1,a.queue),a=Ht(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=mh.bind(null,Ee,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function jr(e){var t=mt();return Nr(t,Ke,e)}function Nr(e,t,l){if(t=Cu(e,t,_r)[0],e=Ki(Ol)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Zn(t)}catch(u){throw u===Yn?ki:u}else a=t;t=mt();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(Ee.flags|=2048,en(9,Ji(),hh.bind(null,n,l),null)),[a,i,e]}function hh(e,t){e.action=t}function Tr(e){var t=mt(),l=Ke;if(l!==null)return Nr(t,l,e);mt(),t=t.memoizedState,l=mt();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function en(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=qu(),Ee.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Ji(){return{destroy:void 0,resource:void 0}}function Ar(){return mt().memoizedState}function $i(e,t,l,a){var n=Ht();a=a===void 0?null:a,Ee.flags|=e,n.memoizedState=en(1|t,Ji(),l,a)}function Vn(e,t,l,a){var n=mt();a=a===void 0?null:a;var i=n.memoizedState.inst;Ke!==null&&a!==null&&Eu(a,Ke.memoizedState.deps)?n.memoizedState=en(t,i,l,a):(Ee.flags|=e,n.memoizedState=en(1|t,i,l,a))}function Er(e,t){$i(8390656,8,e,t)}function wr(e,t){Vn(2048,8,e,t)}function Mr(e,t){return Vn(4,2,e,t)}function Or(e,t){return Vn(4,4,e,t)}function Dr(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qr(e,t,l){l=l!=null?l.concat([e]):null,Vn(4,4,Dr.bind(null,t,e),l)}function Bu(){}function zr(e,t){var l=mt();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Eu(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Cr(e,t){var l=mt();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Eu(t,a[1]))return a[0];if(a=e(),Ea){jt(!0);try{e()}finally{jt(!1)}}return l.memoizedState=[a,t],a}function Yu(e,t,l){return l===void 0||($l&1073741824)!==0?e.memoizedState=t:(e.memoizedState=l,e=Bo(),Ee.lanes|=e,la|=e,l)}function Rr(e,t,l,a){return Qt(l,t)?l:Fa.current!==null?(e=Yu(e,l,a),Qt(e,t)||(gt=!0),e):($l&42)===0?(gt=!0,e.memoizedState=l):(e=Bo(),Ee.lanes|=e,la|=e,t)}function Ur(e,t,l,a,n){var i=k.p;k.p=i!==0&&8>i?i:8;var u=N.T,f={};N.T=f,Qu(e,!1,t,l);try{var d=n(),j=N.S;if(j!==null&&j(f,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var C=rh(d,a);Kn(e,t,C,Kt(e))}else Kn(e,t,a,Kt(e))}catch(H){Kn(e,t,{then:function(){},status:"rejected",reason:H},Kt())}finally{k.p=i,N.T=u}}function yh(){}function Gu(e,t,l,a){if(e.tag!==5)throw Error(o(476));var n=Hr(e).queue;Ur(e,n,t,re,l===null?yh:function(){return Br(e),l(a)})}function Hr(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:re},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Br(e){var t=Hr(e).next.queue;Kn(e,t,{},Kt())}function ku(){return Dt(oi)}function Yr(){return mt().memoizedState}function Gr(){return mt().memoizedState}function ph(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Kt();e=Kl(l);var a=Jl(t,e,l);a!==null&&(Jt(a,t,l),kn(a,t,l)),t={cache:xu()},e.payload=t;return}t=t.return}}function xh(e,t,l){var a=Kt();l={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Wi(e)?Qr(t,l):(l=uu(e,t,l,a),l!==null&&(Jt(l,e,a),Xr(l,t,a)))}function kr(e,t,l){var a=Kt();Kn(e,t,l,a)}function Kn(e,t,l,a){var n={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wi(e))Qr(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var u=t.lastRenderedState,f=i(u,l);if(n.hasEagerState=!0,n.eagerState=f,Qt(f,u))return zi(e,t,n,0),et===null&&qi(),!1}catch{}finally{}if(l=uu(e,t,n,a),l!==null)return Jt(l,e,a),Xr(l,t,a),!0}return!1}function Qu(e,t,l,a){if(a={lane:2,revertLane:bc(),action:a,hasEagerState:!1,eagerState:null,next:null},Wi(e)){if(t)throw Error(o(479))}else t=uu(e,l,a,2),t!==null&&Jt(t,e,2)}function Wi(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Qr(e,t){Pa=Li=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Xr(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,kt(e,l)}}var Fi={readContext:Dt,use:Vi,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt},Lr={readContext:Dt,use:Vi,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Er,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,$i(4194308,4,Dr.bind(null,t,e),l)},useLayoutEffect:function(e,t){return $i(4194308,4,e,t)},useInsertionEffect:function(e,t){$i(4,2,e,t)},useMemo:function(e,t){var l=Ht();t=t===void 0?null:t;var a=e();if(Ea){jt(!0);try{e()}finally{jt(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Ht();if(l!==void 0){var n=l(t);if(Ea){jt(!0);try{l(t)}finally{jt(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=xh.bind(null,Ee,e),[a.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:function(e){e=Uu(e);var t=e.queue,l=kr.bind(null,Ee,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Bu,useDeferredValue:function(e,t){var l=Ht();return Yu(l,e,t)},useTransition:function(){var e=Uu(!1);return e=Ur.bind(null,Ee,e.queue,!0,!1),Ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=Ee,n=Ht();if(ke){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),et===null)throw Error(o(349));(Ue&124)!==0||or(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,Er(mr.bind(null,a,i,e),[e]),a.flags|=2048,en(9,Ji(),dr.bind(null,a,i,l,t),null),l},useId:function(){var e=Ht(),t=et.identifierPrefix;if(ke){var l=El,a=Al;l=(a&~(1<<32-ut(a)-1)).toString(32)+l,t=""+t+"R"+l,l=Zi++,0<l&&(t+="H"+l.toString(32)),t+=""}else l=oh++,t=""+t+"r"+l.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ku,useFormState:Sr,useActionState:Sr,useOptimistic:function(e){var t=Ht();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Qu.bind(null,Ee,!0,l),l.dispatch=t,[e,t]},useMemoCache:zu,useCacheRefresh:function(){return Ht().memoizedState=ph.bind(null,Ee)}},Zr={readContext:Dt,use:Vi,useCallback:zr,useContext:Dt,useEffect:wr,useImperativeHandle:qr,useInsertionEffect:Mr,useLayoutEffect:Or,useMemo:Cr,useReducer:Ki,useRef:Ar,useState:function(){return Ki(Ol)},useDebugValue:Bu,useDeferredValue:function(e,t){var l=mt();return Rr(l,Ke.memoizedState,e,t)},useTransition:function(){var e=Ki(Ol)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:Zn(e),t]},useSyncExternalStore:rr,useId:Yr,useHostTransitionStatus:ku,useFormState:jr,useActionState:jr,useOptimistic:function(e,t){var l=mt();return pr(l,Ke,e,t)},useMemoCache:zu,useCacheRefresh:Gr},gh={readContext:Dt,use:Vi,useCallback:zr,useContext:Dt,useEffect:wr,useImperativeHandle:qr,useInsertionEffect:Mr,useLayoutEffect:Or,useMemo:Cr,useReducer:Ru,useRef:Ar,useState:function(){return Ru(Ol)},useDebugValue:Bu,useDeferredValue:function(e,t){var l=mt();return Ke===null?Yu(l,e,t):Rr(l,Ke.memoizedState,e,t)},useTransition:function(){var e=Ru(Ol)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:Zn(e),t]},useSyncExternalStore:rr,useId:Yr,useHostTransitionStatus:ku,useFormState:Tr,useActionState:Tr,useOptimistic:function(e,t){var l=mt();return Ke!==null?pr(l,Ke,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:zu,useCacheRefresh:Gr},tn=null,Jn=0;function Pi(e){var t=Jn;return Jn+=1,tn===null&&(tn=[]),lr(tn,e,t)}function $n(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ii(e,t){throw t.$$typeof===B?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Vr(e){var t=e._init;return t(e._payload)}function Kr(e){function t(g,p){if(e){var S=g.deletions;S===null?(g.deletions=[p],g.flags|=16):S.push(p)}}function l(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function a(g){for(var p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function n(g,p){return g=Tl(g,p),g.index=0,g.sibling=null,g}function i(g,p,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<p?(g.flags|=67108866,p):S):(g.flags|=67108866,p)):(g.flags|=1048576,p)}function u(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function f(g,p,S,U){return p===null||p.tag!==6?(p=fu(S,g.mode,U),p.return=g,p):(p=n(p,S),p.return=g,p)}function d(g,p,S,U){var le=S.type;return le===ae?C(g,p,S.props.children,U,S.key):p!==null&&(p.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===fe&&Vr(le)===p.type)?(p=n(p,S.props),$n(p,S),p.return=g,p):(p=Ri(S.type,S.key,S.props,null,g.mode,U),$n(p,S),p.return=g,p)}function j(g,p,S,U){return p===null||p.tag!==4||p.stateNode.containerInfo!==S.containerInfo||p.stateNode.implementation!==S.implementation?(p=ru(S,g.mode,U),p.return=g,p):(p=n(p,S.children||[]),p.return=g,p)}function C(g,p,S,U,le){return p===null||p.tag!==7?(p=va(S,g.mode,U,le),p.return=g,p):(p=n(p,S),p.return=g,p)}function H(g,p,S){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=fu(""+p,g.mode,S),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case R:return S=Ri(p.type,p.key,p.props,null,g.mode,S),$n(S,p),S.return=g,S;case V:return p=ru(p,g.mode,S),p.return=g,p;case fe:var U=p._init;return p=U(p._payload),H(g,p,S)}if(Re(p)||Q(p))return p=va(p,g.mode,S,null),p.return=g,p;if(typeof p.then=="function")return H(g,Pi(p),S);if(p.$$typeof===ue)return H(g,Yi(g,p),S);Ii(g,p)}return null}function T(g,p,S,U){var le=p!==null?p.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return le!==null?null:f(g,p,""+S,U);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case R:return S.key===le?d(g,p,S,U):null;case V:return S.key===le?j(g,p,S,U):null;case fe:return le=S._init,S=le(S._payload),T(g,p,S,U)}if(Re(S)||Q(S))return le!==null?null:C(g,p,S,U,null);if(typeof S.then=="function")return T(g,p,Pi(S),U);if(S.$$typeof===ue)return T(g,p,Yi(g,S),U);Ii(g,S)}return null}function A(g,p,S,U,le){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return g=g.get(S)||null,f(p,g,""+U,le);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return g=g.get(U.key===null?S:U.key)||null,d(p,g,U,le);case V:return g=g.get(U.key===null?S:U.key)||null,j(p,g,U,le);case fe:var we=U._init;return U=we(U._payload),A(g,p,S,U,le)}if(Re(U)||Q(U))return g=g.get(S)||null,C(p,g,U,le,null);if(typeof U.then=="function")return A(g,p,S,Pi(U),le);if(U.$$typeof===ue)return A(g,p,S,Yi(p,U),le);Ii(p,U)}return null}function ge(g,p,S,U){for(var le=null,we=null,ce=p,pe=p=0,bt=null;ce!==null&&pe<S.length;pe++){ce.index>pe?(bt=ce,ce=null):bt=ce.sibling;var Be=T(g,ce,S[pe],U);if(Be===null){ce===null&&(ce=bt);break}e&&ce&&Be.alternate===null&&t(g,ce),p=i(Be,p,pe),we===null?le=Be:we.sibling=Be,we=Be,ce=bt}if(pe===S.length)return l(g,ce),ke&&_a(g,pe),le;if(ce===null){for(;pe<S.length;pe++)ce=H(g,S[pe],U),ce!==null&&(p=i(ce,p,pe),we===null?le=ce:we.sibling=ce,we=ce);return ke&&_a(g,pe),le}for(ce=a(ce);pe<S.length;pe++)bt=A(ce,g,pe,S[pe],U),bt!==null&&(e&&bt.alternate!==null&&ce.delete(bt.key===null?pe:bt.key),p=i(bt,p,pe),we===null?le=bt:we.sibling=bt,we=bt);return e&&ce.forEach(function(oa){return t(g,oa)}),ke&&_a(g,pe),le}function he(g,p,S,U){if(S==null)throw Error(o(151));for(var le=null,we=null,ce=p,pe=p=0,bt=null,Be=S.next();ce!==null&&!Be.done;pe++,Be=S.next()){ce.index>pe?(bt=ce,ce=null):bt=ce.sibling;var oa=T(g,ce,Be.value,U);if(oa===null){ce===null&&(ce=bt);break}e&&ce&&oa.alternate===null&&t(g,ce),p=i(oa,p,pe),we===null?le=oa:we.sibling=oa,we=oa,ce=bt}if(Be.done)return l(g,ce),ke&&_a(g,pe),le;if(ce===null){for(;!Be.done;pe++,Be=S.next())Be=H(g,Be.value,U),Be!==null&&(p=i(Be,p,pe),we===null?le=Be:we.sibling=Be,we=Be);return ke&&_a(g,pe),le}for(ce=a(ce);!Be.done;pe++,Be=S.next())Be=A(ce,g,pe,Be.value,U),Be!==null&&(e&&Be.alternate!==null&&ce.delete(Be.key===null?pe:Be.key),p=i(Be,p,pe),we===null?le=Be:we.sibling=Be,we=Be);return e&&ce.forEach(function(vy){return t(g,vy)}),ke&&_a(g,pe),le}function $e(g,p,S,U){if(typeof S=="object"&&S!==null&&S.type===ae&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case R:e:{for(var le=S.key;p!==null;){if(p.key===le){if(le=S.type,le===ae){if(p.tag===7){l(g,p.sibling),U=n(p,S.props.children),U.return=g,g=U;break e}}else if(p.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===fe&&Vr(le)===p.type){l(g,p.sibling),U=n(p,S.props),$n(U,S),U.return=g,g=U;break e}l(g,p);break}else t(g,p);p=p.sibling}S.type===ae?(U=va(S.props.children,g.mode,U,S.key),U.return=g,g=U):(U=Ri(S.type,S.key,S.props,null,g.mode,U),$n(U,S),U.return=g,g=U)}return u(g);case V:e:{for(le=S.key;p!==null;){if(p.key===le)if(p.tag===4&&p.stateNode.containerInfo===S.containerInfo&&p.stateNode.implementation===S.implementation){l(g,p.sibling),U=n(p,S.children||[]),U.return=g,g=U;break e}else{l(g,p);break}else t(g,p);p=p.sibling}U=ru(S,g.mode,U),U.return=g,g=U}return u(g);case fe:return le=S._init,S=le(S._payload),$e(g,p,S,U)}if(Re(S))return ge(g,p,S,U);if(Q(S)){if(le=Q(S),typeof le!="function")throw Error(o(150));return S=le.call(S),he(g,p,S,U)}if(typeof S.then=="function")return $e(g,p,Pi(S),U);if(S.$$typeof===ue)return $e(g,p,Yi(g,S),U);Ii(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,p!==null&&p.tag===6?(l(g,p.sibling),U=n(p,S),U.return=g,g=U):(l(g,p),U=fu(S,g.mode,U),U.return=g,g=U),u(g)):l(g,p)}return function(g,p,S,U){try{Jn=0;var le=$e(g,p,S,U);return tn=null,le}catch(ce){if(ce===Yn||ce===ki)throw ce;var we=Xt(29,ce,null,g.mode);return we.lanes=U,we.return=g,we}finally{}}}var ln=Kr(!0),Jr=Kr(!1),ll=Y(null),ml=null;function Wl(e){var t=e.alternate;$(pt,pt.current&1),$(ll,e),ml===null&&(t===null||Fa.current!==null||t.memoizedState!==null)&&(ml=e)}function $r(e){if(e.tag===22){if($(pt,pt.current),$(ll,e),ml===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ml=e)}}else Fl()}function Fl(){$(pt,pt.current),$(ll,ll.current)}function Dl(e){I(ll),ml===e&&(ml=null),I(pt)}var pt=Y(0);function es(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||qc(l)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Xu(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:w({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Lu={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Kt(),n=Kl(a);n.payload=t,l!=null&&(n.callback=l),t=Jl(e,n,a),t!==null&&(Jt(t,e,a),kn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Kt(),n=Kl(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=Jl(e,n,a),t!==null&&(Jt(t,e,a),kn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Kt(),a=Kl(l);a.tag=2,t!=null&&(a.callback=t),t=Jl(e,a,l),t!==null&&(Jt(t,e,l),kn(t,e,l))}};function Wr(e,t,l,a,n,i,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,u):t.prototype&&t.prototype.isPureReactComponent?!Dn(l,a)||!Dn(n,i):!0}function Fr(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Lu.enqueueReplaceState(t,t.state,null)}function wa(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=w({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}var ts=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Pr(e){ts(e)}function Ir(e){console.error(e)}function eo(e){ts(e)}function ls(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function to(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Zu(e,t,l){return l=Kl(l),l.tag=3,l.payload={element:null},l.callback=function(){ls(e,t)},l}function lo(e){return e=Kl(e),e.tag=3,e}function ao(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){to(t,l,a)}}var u=l.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){to(t,l,a),typeof n!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var f=a.stack;this.componentDidCatch(a.value,{componentStack:f!==null?f:""})})}function vh(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Un(t,l,n,!0),l=ll.current,l!==null){switch(l.tag){case 13:return ml===null?yc():l.alternate===null&&ft===0&&(ft=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===bu?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),xc(e,a,n)),!1;case 22:return l.flags|=65536,a===bu?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),xc(e,a,n)),!1}throw Error(o(435,l.tag))}return xc(e,a,n),yc(),!1}if(ke)return t=ll.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==mu&&(e=Error(o(422),{cause:a}),Rn(Pt(e,l)))):(a!==mu&&(t=Error(o(423),{cause:a}),Rn(Pt(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=Pt(a,l),n=Zu(e.stateNode,a,n),ju(e,n),ft!==4&&(ft=2)),!1;var i=Error(o(520),{cause:a});if(i=Pt(i,l),li===null?li=[i]:li.push(i),ft!==4&&(ft=2),t===null)return!0;a=Pt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Zu(l.stateNode,a,e),ju(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(aa===null||!aa.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=lo(n),ao(n,e,l,a),ju(l,n),!1}l=l.return}while(l!==null);return!1}var no=Error(o(461)),gt=!1;function Tt(e,t,l,a){t.child=e===null?Jr(t,null,l,a):ln(t,e.child,l,a)}function io(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}else u=a;return Ta(t),a=wu(e,t,l,u,i,n),f=Mu(),e!==null&&!gt?(Ou(e,t,n),ql(e,t,n)):(ke&&f&&ou(t),t.flags|=1,Tt(e,t,a,n),t.child)}function so(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!cu(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,uo(e,t,i,a,n)):(e=Ri(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Iu(e,n)){var u=i.memoizedProps;if(l=l.compare,l=l!==null?l:Dn,l(u,a)&&e.ref===t.ref)return ql(e,t,n)}return t.flags|=1,e=Tl(i,a),e.ref=t.ref,e.return=t,t.child=e}function uo(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(Dn(i,a)&&e.ref===t.ref)if(gt=!1,t.pendingProps=a=i,Iu(e,n))(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,ql(e,t,n)}return Vu(e,t,l,a,n)}function co(e,t,l){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=i!==null?i.baseLanes|l:l,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;t.childLanes=i&~a}else t.childLanes=0,t.child=null;return fo(e,t,a,l)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gi(t,i!==null?i.cachePool:null),i!==null?ur(t,i):Tu(),$r(t);else return t.lanes=t.childLanes=536870912,fo(e,t,i!==null?i.baseLanes|l:l,l)}else i!==null?(Gi(t,i.cachePool),ur(t,i),Fl(),t.memoizedState=null):(e!==null&&Gi(t,null),Tu(),Fl());return Tt(e,t,n,l),t.child}function fo(e,t,l,a){var n=vu();return n=n===null?null:{parent:yt._currentValue,pool:n},t.memoizedState={baseLanes:l,cachePool:n},e!==null&&Gi(t,null),Tu(),$r(t),e!==null&&Un(e,t,a,!0),null}function as(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Vu(e,t,l,a,n){return Ta(t),l=wu(e,t,l,a,void 0,n),a=Mu(),e!==null&&!gt?(Ou(e,t,n),ql(e,t,n)):(ke&&a&&ou(t),t.flags|=1,Tt(e,t,l,n),t.child)}function ro(e,t,l,a,n,i){return Ta(t),t.updateQueue=null,l=fr(t,a,l,n),cr(e),a=Mu(),e!==null&&!gt?(Ou(e,t,i),ql(e,t,i)):(ke&&a&&ou(t),t.flags|=1,Tt(e,t,l,i),t.child)}function oo(e,t,l,a,n){if(Ta(t),t.stateNode===null){var i=Va,u=l.contextType;typeof u=="object"&&u!==null&&(i=Dt(u)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Lu,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},_u(t),u=l.contextType,i.context=typeof u=="object"&&u!==null?Dt(u):Va,i.state=t.memoizedState,u=l.getDerivedStateFromProps,typeof u=="function"&&(Xu(t,l,u,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(u=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),u!==i.state&&Lu.enqueueReplaceState(i,i.state,null),Xn(t,a,i,n),Qn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var f=t.memoizedProps,d=wa(l,f);i.props=d;var j=i.context,C=l.contextType;u=Va,typeof C=="object"&&C!==null&&(u=Dt(C));var H=l.getDerivedStateFromProps;C=typeof H=="function"||typeof i.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,C||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f||j!==u)&&Fr(t,i,a,u),Vl=!1;var T=t.memoizedState;i.state=T,Xn(t,a,i,n),Qn(),j=t.memoizedState,f||T!==j||Vl?(typeof H=="function"&&(Xu(t,l,H,a),j=t.memoizedState),(d=Vl||Wr(t,l,d,a,T,j,u))?(C||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=j),i.props=a,i.state=j,i.context=u,a=d):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Su(e,t),u=t.memoizedProps,C=wa(l,u),i.props=C,H=t.pendingProps,T=i.context,j=l.contextType,d=Va,typeof j=="object"&&j!==null&&(d=Dt(j)),f=l.getDerivedStateFromProps,(j=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==H||T!==d)&&Fr(t,i,a,d),Vl=!1,T=t.memoizedState,i.state=T,Xn(t,a,i,n),Qn();var A=t.memoizedState;u!==H||T!==A||Vl||e!==null&&e.dependencies!==null&&Bi(e.dependencies)?(typeof f=="function"&&(Xu(t,l,f,a),A=t.memoizedState),(C=Vl||Wr(t,l,C,a,T,A,d)||e!==null&&e.dependencies!==null&&Bi(e.dependencies))?(j||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,A,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,A,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=A),i.props=a,i.state=A,i.context=d,a=C):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,as(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=ln(t,e.child,null,n),t.child=ln(t,null,l,n)):Tt(e,t,l,n),t.memoizedState=i.state,e=t.child):e=ql(e,t,n),e}function mo(e,t,l,a){return Cn(),t.flags|=256,Tt(e,t,l,a),t.child}var Ku={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ju(e){return{baseLanes:e,cachePool:If()}}function $u(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=al),e}function ho(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),u&&(n=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(n?Wl(t):Fl(),ke){var f=ct,d;if(d=f){e:{for(d=f,f=dl;d.nodeType!==8;){if(!f){f=null;break e}if(d=rl(d.nextSibling),d===null){f=null;break e}}f=d}f!==null?(t.memoizedState={dehydrated:f,treeContext:ba!==null?{id:Al,overflow:El}:null,retryLane:536870912,hydrationErrors:null},d=Xt(18,null,null,0),d.stateNode=f,d.return=t,t.child=d,Ct=t,ct=null,d=!0):d=!1}d||ja(t)}if(f=t.memoizedState,f!==null&&(f=f.dehydrated,f!==null))return qc(f)?t.lanes=32:t.lanes=536870912,null;Dl(t)}return f=a.children,a=a.fallback,n?(Fl(),n=t.mode,f=ns({mode:"hidden",children:f},n),a=va(a,n,l,null),f.return=t,a.return=t,f.sibling=a,t.child=f,n=t.child,n.memoizedState=Ju(l),n.childLanes=$u(e,u,l),t.memoizedState=Ku,a):(Wl(t),Wu(t,f))}if(d=e.memoizedState,d!==null&&(f=d.dehydrated,f!==null)){if(i)t.flags&256?(Wl(t),t.flags&=-257,t=Fu(e,t,l)):t.memoizedState!==null?(Fl(),t.child=e.child,t.flags|=128,t=null):(Fl(),n=a.fallback,f=t.mode,a=ns({mode:"visible",children:a.children},f),n=va(n,f,l,null),n.flags|=2,a.return=t,n.return=t,a.sibling=n,t.child=a,ln(t,e.child,null,l),a=t.child,a.memoizedState=Ju(l),a.childLanes=$u(e,u,l),t.memoizedState=Ku,t=n);else if(Wl(t),qc(f)){if(u=f.nextSibling&&f.nextSibling.dataset,u)var j=u.dgst;u=j,a=Error(o(419)),a.stack="",a.digest=u,Rn({value:a,source:null,stack:null}),t=Fu(e,t,l)}else if(gt||Un(e,t,l,!1),u=(l&e.childLanes)!==0,gt||u){if(u=et,u!==null&&(a=l&-l,a=(a&42)!==0?1:Sn(a),a=(a&(u.suspendedLanes|l))!==0?0:a,a!==0&&a!==d.retryLane))throw d.retryLane=a,Za(e,a),Jt(u,e,a),no;f.data==="$?"||yc(),t=Fu(e,t,l)}else f.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=d.treeContext,ct=rl(f.nextSibling),Ct=t,ke=!0,Sa=null,dl=!1,e!==null&&(el[tl++]=Al,el[tl++]=El,el[tl++]=ba,Al=e.id,El=e.overflow,ba=t),t=Wu(t,a.children),t.flags|=4096);return t}return n?(Fl(),n=a.fallback,f=t.mode,d=e.child,j=d.sibling,a=Tl(d,{mode:"hidden",children:a.children}),a.subtreeFlags=d.subtreeFlags&65011712,j!==null?n=Tl(j,n):(n=va(n,f,l,null),n.flags|=2),n.return=t,a.return=t,a.sibling=n,t.child=a,a=n,n=t.child,f=e.child.memoizedState,f===null?f=Ju(l):(d=f.cachePool,d!==null?(j=yt._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=If(),f={baseLanes:f.baseLanes|l,cachePool:d}),n.memoizedState=f,n.childLanes=$u(e,u,l),t.memoizedState=Ku,a):(Wl(t),l=e.child,e=l.sibling,l=Tl(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=l,t.memoizedState=null,l)}function Wu(e,t){return t=ns({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ns(e,t){return e=Xt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Fu(e,t,l){return ln(t,e.child,null,l),e=Wu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yo(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),yu(e.return,t,l)}function Pu(e,t,l,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=l,i.tailMode=n)}function po(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(Tt(e,t,a.children,l),a=pt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yo(e,l,t);else if(e.tag===19)yo(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch($(pt,a),n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&es(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Pu(t,!1,n,l,i);break;case"backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&es(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Pu(t,!0,l,null,i);break;case"together":Pu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),la|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Un(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=Tl(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Tl(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Iu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Bi(e)))}function bh(e,t,l){switch(t.tag){case 3:Ge(t,t.stateNode.containerInfo),Zl(t,yt,e.memoizedState.cache),Cn();break;case 27:case 5:St(t);break;case 4:Ge(t,t.stateNode.containerInfo);break;case 10:Zl(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Wl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?ho(e,t,l):(Wl(t),e=ql(e,t,l),e!==null?e.sibling:null);Wl(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Un(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return po(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),$(pt,pt.current),a)break;return null;case 22:case 23:return t.lanes=0,co(e,t,l);case 24:Zl(t,yt,e.memoizedState.cache)}return ql(e,t,l)}function xo(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)gt=!0;else{if(!Iu(e,l)&&(t.flags&128)===0)return gt=!1,bh(e,t,l);gt=(e.flags&131072)!==0}else gt=!1,ke&&(t.flags&1048576)!==0&&Vf(t,Hi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,n=a._init;if(a=n(a._payload),t.type=a,typeof a=="function")cu(a)?(e=wa(a,e),t.tag=1,t=oo(null,t,a,e,l)):(t.tag=0,t=Vu(null,t,a,e,l));else{if(a!=null){if(n=a.$$typeof,n===te){t.tag=11,t=io(null,t,a,e,l);break e}else if(n===qe){t.tag=14,t=so(null,t,a,e,l);break e}}throw t=be(a)||a,Error(o(306,t,""))}}return t;case 0:return Vu(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=wa(a,t.pendingProps),oo(e,t,a,n,l);case 3:e:{if(Ge(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,Su(e,t),Xn(t,a,null,l);var u=t.memoizedState;if(a=u.cache,Zl(t,yt,a),a!==i.cache&&pu(t,[yt],l,!0),Qn(),a=u.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=mo(e,t,a,l);break e}else if(a!==n){n=Pt(Error(o(424)),t),Rn(n),t=mo(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ct=rl(e.firstChild),Ct=t,ke=!0,Sa=null,dl=!0,l=Jr(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Cn(),a===n){t=ql(e,t,l);break e}Tt(e,t,a,l)}t=t.child}return t;case 26:return as(e,t),e===null?(l=_d(t.type,null,t.pendingProps,null))?t.memoizedState=l:ke||(l=t.type,e=t.pendingProps,a=gs(xe.current).createElement(l),a[ht]=t,a[Nt]=e,Et(a,l,e),Me(a),t.stateNode=a):t.memoizedState=_d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return St(t),e===null&&ke&&(a=t.stateNode=gd(t.type,t.pendingProps,xe.current),Ct=t,dl=!0,n=ct,sa(t.type)?(zc=n,ct=rl(a.firstChild)):ct=n),Tt(e,t,t.pendingProps.children,l),as(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((n=a=ct)&&(a=Jh(a,t.type,t.pendingProps,dl),a!==null?(t.stateNode=a,Ct=t,ct=rl(a.firstChild),dl=!1,n=!0):n=!1),n||ja(t)),St(t),n=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,a=i.children,Mc(n,i)?a=null:u!==null&&Mc(n,u)&&(t.flags|=32),t.memoizedState!==null&&(n=wu(e,t,dh,null,null,l),oi._currentValue=n),as(e,t),Tt(e,t,a,l),t.child;case 6:return e===null&&ke&&((e=l=ct)&&(l=$h(l,t.pendingProps,dl),l!==null?(t.stateNode=l,Ct=t,ct=null,e=!0):e=!1),e||ja(t)),null;case 13:return ho(e,t,l);case 4:return Ge(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ln(t,null,a,l):Tt(e,t,a,l),t.child;case 11:return io(e,t,t.type,t.pendingProps,l);case 7:return Tt(e,t,t.pendingProps,l),t.child;case 8:return Tt(e,t,t.pendingProps.children,l),t.child;case 12:return Tt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Zl(t,t.type,a.value),Tt(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,Ta(t),n=Dt(n),a=a(n),t.flags|=1,Tt(e,t,a,l),t.child;case 14:return so(e,t,t.type,t.pendingProps,l);case 15:return uo(e,t,t.type,t.pendingProps,l);case 19:return po(e,t,l);case 31:return a=t.pendingProps,l=t.mode,a={mode:a.mode,children:a.children},e===null?(l=ns(a,l),l.ref=t.ref,t.child=l,l.return=t,t=l):(l=Tl(e.child,a),l.ref=t.ref,t.child=l,l.return=t,t=l),t;case 22:return co(e,t,l);case 24:return Ta(t),a=Dt(yt),e===null?(n=vu(),n===null&&(n=et,i=xu(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},_u(t),Zl(t,yt,n)):((e.lanes&l)!==0&&(Su(e,t),Xn(t,null,null,l),Qn()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Zl(t,yt,a)):(a=i.cache,Zl(t,yt,a),a!==n.cache&&pu(t,[yt],l,!0))),Tt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function zl(e){e.flags|=4}function go(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ad(t)){if(t=ll.current,t!==null&&((Ue&4194048)===Ue?ml!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||t!==ml))throw Gn=bu,er;e.flags|=8192}}function is(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gl():536870912,e.lanes|=t,un|=t)}function Wn(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function _h(e,t,l){var a=t.pendingProps;switch(du(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ml(yt),zt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(zn(t)?zl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$f())),it(t),null;case 26:return l=t.memoizedState,e===null?(zl(t),l!==null?(it(t),go(t,l)):(it(t),t.flags&=-16777217)):l?l!==e.memoizedState?(zl(t),it(t),go(t,l)):(it(t),t.flags&=-16777217):(e.memoizedProps!==a&&zl(t),it(t),t.flags&=-16777217),null;case 27:st(t),l=xe.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&zl(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return it(t),null}e=de.current,zn(t)?Kf(t):(e=gd(n,a,l),t.stateNode=e,zl(t))}return it(t),null;case 5:if(st(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&zl(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return it(t),null}if(e=de.current,zn(t))Kf(t);else{switch(n=gs(xe.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?n.createElement("select",{is:a.is}):n.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?n.createElement(l,{is:a.is}):n.createElement(l)}}e[ht]=t,e[Nt]=a;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Et(e,l,a),l){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&zl(t)}}return it(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&zl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=xe.current,zn(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=Ct,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[ht]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||od(e.nodeValue,l)),e||ja(t)}else e=gs(e).createTextNode(a),e[ht]=t,t.stateNode=e}return it(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=zn(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[ht]=t}else Cn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),n=!1}else n=$f(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Dl(t),t):(Dl(t),null)}if(Dl(t),(t.flags&128)!==0)return t.lanes=l,t;if(l=a!==null,e=e!==null&&e.memoizedState!==null,l){a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool);var i=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)}return l!==e&&l&&(t.child.flags|=8192),is(t,t.updateQueue),it(t),null;case 4:return zt(),e===null&&Nc(t.stateNode.containerInfo),it(t),null;case 10:return Ml(t.type),it(t),null;case 19:if(I(pt),n=t.memoizedState,n===null)return it(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)Wn(n,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=es(e),i!==null){for(t.flags|=128,Wn(n,!1),e=i.updateQueue,t.updateQueue=e,is(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Zf(l,e),l=l.sibling;return $(pt,pt.current&1|2),t.child}e=e.sibling}n.tail!==null&&X()>cs&&(t.flags|=128,a=!0,Wn(n,!1),t.lanes=4194304)}else{if(!a)if(e=es(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,is(t,e),Wn(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!ke)return it(t),null}else 2*X()-n.renderingStartTime>cs&&l!==536870912&&(t.flags|=128,a=!0,Wn(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=X(),t.sibling=null,e=pt.current,$(pt,a?e&1|2:e&1),t):(it(t),null);case 22:case 23:return Dl(t),Au(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),l=t.updateQueue,l!==null&&is(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&I(Aa),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ml(yt),it(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Sh(e,t){switch(du(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ml(yt),zt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return st(t),null;case 13:if(Dl(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(pt),null;case 4:return zt(),null;case 10:return Ml(t.type),null;case 22:case 23:return Dl(t),Au(),e!==null&&I(Aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ml(yt),null;case 25:return null;default:return null}}function vo(e,t){switch(du(t),t.tag){case 3:Ml(yt),zt();break;case 26:case 27:case 5:st(t);break;case 4:zt();break;case 13:Dl(t);break;case 19:I(pt);break;case 10:Ml(t.type);break;case 22:case 23:Dl(t),Au(),e!==null&&I(Aa);break;case 24:Ml(yt)}}function Fn(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,u=l.inst;a=i(),u.destroy=a}l=l.next}while(l!==n)}}catch(f){Pe(t,t.return,f)}}function Pl(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var u=a.inst,f=u.destroy;if(f!==void 0){u.destroy=void 0,n=t;var d=l,j=f;try{j()}catch(C){Pe(n,d,C)}}}a=a.next}while(a!==i)}}catch(C){Pe(t,t.return,C)}}function bo(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{sr(t,l)}catch(a){Pe(e,e.return,a)}}}function _o(e,t,l){l.props=wa(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Pe(e,t,a)}}function Pn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){Pe(e,t,n)}}function hl(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){Pe(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){Pe(e,t,n)}else l.current=null}function So(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){Pe(e,e.return,n)}}function ec(e,t,l){try{var a=e.stateNode;Xh(a,e.type,l,t),a[Nt]=t}catch(n){Pe(e,e.return,n)}}function jo(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sa(e.type)||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=xs));else if(a!==4&&(a===27&&sa(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(lc(e,t,l),e=e.sibling;e!==null;)lc(e,t,l),e=e.sibling}function ss(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&sa(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ss(e,t,l),e=e.sibling;e!==null;)ss(e,t,l),e=e.sibling}function No(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Et(t,a,l),t[ht]=e,t[Nt]=l}catch(i){Pe(e,e.return,i)}}var Cl=!1,ot=!1,ac=!1,To=typeof WeakSet=="function"?WeakSet:Set,vt=null;function jh(e,t){if(e=e.containerInfo,Ec=Ns,e=Rf(e),tu(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var u=0,f=-1,d=-1,j=0,C=0,H=e,T=null;t:for(;;){for(var A;H!==l||n!==0&&H.nodeType!==3||(f=u+n),H!==i||a!==0&&H.nodeType!==3||(d=u+a),H.nodeType===3&&(u+=H.nodeValue.length),(A=H.firstChild)!==null;)T=H,H=A;for(;;){if(H===e)break t;if(T===l&&++j===n&&(f=u),T===i&&++C===a&&(d=u),(A=H.nextSibling)!==null)break;H=T,T=H.parentNode}H=A}l=f===-1||d===-1?null:{start:f,end:d}}else l=null}l=l||{start:0,end:0}}else l=null;for(wc={focusedElem:e,selectionRange:l},Ns=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var ge=wa(l.type,n,l.elementType===l.type);e=a.getSnapshotBeforeUpdate(ge,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(he){Pe(l,l.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Dc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function Ao(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Il(e,l),a&4&&Fn(5,l);break;case 1:if(Il(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(u){Pe(l,l.return,u)}else{var n=wa(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Pe(l,l.return,u)}}a&64&&bo(l),a&512&&Pn(l,l.return);break;case 3:if(Il(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{sr(e,t)}catch(u){Pe(l,l.return,u)}}break;case 27:t===null&&a&4&&No(l);case 26:case 5:Il(e,l),t===null&&a&4&&So(l),a&512&&Pn(l,l.return);break;case 12:Il(e,l);break;case 13:Il(e,l),a&4&&Mo(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=qh.bind(null,l),Wh(e,l))));break;case 22:if(a=l.memoizedState!==null||Cl,!a){t=t!==null&&t.memoizedState!==null||ot,n=Cl;var i=ot;Cl=a,(ot=t)&&!i?ea(e,l,(l.subtreeFlags&8772)!==0):Il(e,l),Cl=n,ot=i}break;case 30:break;default:Il(e,l)}}function Eo(e){var t=e.alternate;t!==null&&(e.alternate=null,Eo(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,Bt=!1;function Rl(e,t,l){for(l=l.child;l!==null;)wo(e,t,l),l=l.sibling}function wo(e,t,l){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(_e,l)}catch{}switch(l.tag){case 26:ot||hl(l,t),Rl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ot||hl(l,t);var a=at,n=Bt;sa(l.type)&&(at=l.stateNode,Bt=!1),Rl(e,t,l),ui(l.stateNode),at=a,Bt=n;break;case 5:ot||hl(l,t);case 6:if(a=at,n=Bt,at=null,Rl(e,t,l),at=a,Bt=n,at!==null)if(Bt)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(l.stateNode)}catch(i){Pe(l,t,i)}else try{at.removeChild(l.stateNode)}catch(i){Pe(l,t,i)}break;case 18:at!==null&&(Bt?(e=at,pd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),yi(e)):pd(at,l.stateNode));break;case 4:a=at,n=Bt,at=l.stateNode.containerInfo,Bt=!0,Rl(e,t,l),at=a,Bt=n;break;case 0:case 11:case 14:case 15:ot||Pl(2,l,t),ot||Pl(4,l,t),Rl(e,t,l);break;case 1:ot||(hl(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&_o(l,t,a)),Rl(e,t,l);break;case 21:Rl(e,t,l);break;case 22:ot=(a=ot)||l.memoizedState!==null,Rl(e,t,l),ot=a;break;default:Rl(e,t,l)}}function Mo(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yi(e)}catch(l){Pe(t,t.return,l)}}function Nh(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new To),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new To),t;default:throw Error(o(435,e.tag))}}function nc(e,t){var l=Nh(e);t.forEach(function(a){var n=zh.bind(null,e,a);l.has(a)||(l.add(a),a.then(n,n))})}function Lt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 27:if(sa(f.type)){at=f.stateNode,Bt=!1;break e}break;case 5:at=f.stateNode,Bt=!1;break e;case 3:case 4:at=f.stateNode.containerInfo,Bt=!0;break e}f=f.return}if(at===null)throw Error(o(160));wo(i,u,n),at=null,Bt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Oo(t,e),t=t.sibling}var fl=null;function Oo(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),Zt(e),a&4&&(Pl(3,e,e.return),Fn(3,e),Pl(5,e,e.return));break;case 1:Lt(t,e),Zt(e),a&512&&(ot||l===null||hl(l,l.return)),a&64&&Cl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=fl;if(Lt(t,e),Zt(e),a&512&&(ot||l===null||hl(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[W]||i[ht]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),Et(i,a,l),i[ht]=e,Me(i),a=i;break e;case"link":var u=Nd("link","href",n).get(a+(l.href||""));if(u){for(var f=0;f<u.length;f++)if(i=u[f],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){u.splice(f,1);break t}}i=n.createElement(a),Et(i,a,l),n.head.appendChild(i);break;case"meta":if(u=Nd("meta","content",n).get(a+(l.content||""))){for(f=0;f<u.length;f++)if(i=u[f],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){u.splice(f,1);break t}}i=n.createElement(a),Et(i,a,l),n.head.appendChild(i);break;default:throw Error(o(468,a))}i[ht]=e,Me(i),a=i}e.stateNode=a}else Td(n,e.type,e.stateNode);else e.stateNode=jd(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Td(n,e.type,e.stateNode):jd(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&ec(e,e.memoizedProps,l.memoizedProps)}break;case 27:Lt(t,e),Zt(e),a&512&&(ot||l===null||hl(l,l.return)),l!==null&&a&4&&ec(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Lt(t,e),Zt(e),a&512&&(ot||l===null||hl(l,l.return)),e.flags&32){n=e.stateNode;try{Ba(n,"")}catch(A){Pe(e,e.return,A)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,ec(e,n,l!==null?l.memoizedProps:n)),a&1024&&(ac=!0);break;case 6:if(Lt(t,e),Zt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(A){Pe(e,e.return,A)}}break;case 3:if(_s=null,n=fl,fl=vs(t.containerInfo),Lt(t,e),fl=n,Zt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{yi(t.containerInfo)}catch(A){Pe(e,e.return,A)}ac&&(ac=!1,Do(e));break;case 4:a=fl,fl=vs(e.stateNode.containerInfo),Lt(t,e),Zt(e),fl=a;break;case 12:Lt(t,e),Zt(e);break;case 13:Lt(t,e),Zt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(rc=X()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,nc(e,a)));break;case 22:n=e.memoizedState!==null;var d=l!==null&&l.memoizedState!==null,j=Cl,C=ot;if(Cl=j||n,ot=C||d,Lt(t,e),ot=C,Cl=j,Zt(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||d||Cl||ot||Ma(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){d=l=t;try{if(i=d.stateNode,n)u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{f=d.stateNode;var H=d.memoizedProps.style,T=H!=null&&H.hasOwnProperty("display")?H.display:null;f.style.display=T==null||typeof T=="boolean"?"":(""+T).trim()}}catch(A){Pe(d,d.return,A)}}}else if(t.tag===6){if(l===null){d=t;try{d.stateNode.nodeValue=n?"":d.memoizedProps}catch(A){Pe(d,d.return,A)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,nc(e,l))));break;case 19:Lt(t,e),Zt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,nc(e,a)));break;case 30:break;case 21:break;default:Lt(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(jo(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var n=l.stateNode,i=tc(e);ss(e,i,n);break;case 5:var u=l.stateNode;l.flags&32&&(Ba(u,""),l.flags&=-33);var f=tc(e);ss(e,f,u);break;case 3:case 4:var d=l.stateNode.containerInfo,j=tc(e);lc(e,j,d);break;default:throw Error(o(161))}}catch(C){Pe(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Do(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Do(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Il(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ao(e,t.alternate,t),t=t.sibling}function Ma(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Pl(4,t,t.return),Ma(t);break;case 1:hl(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&_o(t,t.return,l),Ma(t);break;case 27:ui(t.stateNode);case 26:case 5:hl(t,t.return),Ma(t);break;case 22:t.memoizedState===null&&Ma(t);break;case 30:Ma(t);break;default:Ma(t)}e=e.sibling}}function ea(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,u=i.flags;switch(i.tag){case 0:case 11:case 15:ea(n,i,l),Fn(4,i);break;case 1:if(ea(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(j){Pe(a,a.return,j)}if(a=i,n=a.updateQueue,n!==null){var f=a.stateNode;try{var d=n.shared.hiddenCallbacks;if(d!==null)for(n.shared.hiddenCallbacks=null,n=0;n<d.length;n++)ir(d[n],f)}catch(j){Pe(a,a.return,j)}}l&&u&64&&bo(i),Pn(i,i.return);break;case 27:No(i);case 26:case 5:ea(n,i,l),l&&a===null&&u&4&&So(i),Pn(i,i.return);break;case 12:ea(n,i,l);break;case 13:ea(n,i,l),l&&u&4&&Mo(n,i);break;case 22:i.memoizedState===null&&ea(n,i,l),Pn(i,i.return);break;case 30:break;default:ea(n,i,l)}t=t.sibling}}function ic(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Hn(l))}function sc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hn(e))}function yl(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qo(e,t,l,a),t=t.sibling}function qo(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:yl(e,t,l,a),n&2048&&Fn(9,t);break;case 1:yl(e,t,l,a);break;case 3:yl(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hn(e)));break;case 12:if(n&2048){yl(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,u=i.id,f=i.onPostCommit;typeof f=="function"&&f(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(d){Pe(t,t.return,d)}}else yl(e,t,l,a);break;case 13:yl(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,u=t.alternate,t.memoizedState!==null?i._visibility&2?yl(e,t,l,a):In(e,t):i._visibility&2?yl(e,t,l,a):(i._visibility|=2,an(e,t,l,a,(t.subtreeFlags&10256)!==0)),n&2048&&ic(u,t);break;case 24:yl(e,t,l,a),n&2048&&sc(t.alternate,t);break;default:yl(e,t,l,a)}}function an(e,t,l,a,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,u=t,f=l,d=a,j=u.flags;switch(u.tag){case 0:case 11:case 15:an(i,u,f,d,n),Fn(8,u);break;case 23:break;case 22:var C=u.stateNode;u.memoizedState!==null?C._visibility&2?an(i,u,f,d,n):In(i,u):(C._visibility|=2,an(i,u,f,d,n)),n&&j&2048&&ic(u.alternate,u);break;case 24:an(i,u,f,d,n),n&&j&2048&&sc(u.alternate,u);break;default:an(i,u,f,d,n)}t=t.sibling}}function In(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:In(l,a),n&2048&&ic(a.alternate,a);break;case 24:In(l,a),n&2048&&sc(a.alternate,a);break;default:In(l,a)}t=t.sibling}}var ei=8192;function nn(e){if(e.subtreeFlags&ei)for(e=e.child;e!==null;)zo(e),e=e.sibling}function zo(e){switch(e.tag){case 26:nn(e),e.flags&ei&&e.memoizedState!==null&&fy(fl,e.memoizedState,e.memoizedProps);break;case 5:nn(e);break;case 3:case 4:var t=fl;fl=vs(e.stateNode.containerInfo),nn(e),fl=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ei,ei=16777216,nn(e),ei=t):nn(e));break;default:nn(e)}}function Co(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ti(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,Uo(a,e)}Co(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ro(e),e=e.sibling}function Ro(e){switch(e.tag){case 0:case 11:case 15:ti(e),e.flags&2048&&Pl(9,e,e.return);break;case 3:ti(e);break;case 12:ti(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,us(e)):ti(e);break;default:ti(e)}}function us(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,Uo(a,e)}Co(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Pl(8,t,t.return),us(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,us(t));break;default:us(t)}e=e.sibling}}function Uo(e,t){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:Pl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Hn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,vt=a;else e:for(l=e;vt!==null;){a=vt;var n=a.sibling,i=a.return;if(Eo(a),a===l){vt=null;break e}if(n!==null){n.return=i,vt=n;break e}vt=i}}}var Th={getCacheForType:function(e){var t=Dt(yt),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l}},Ah=typeof WeakMap=="function"?WeakMap:Map,Le=0,et=null,Oe=null,Ue=0,Ze=0,Vt=null,ta=!1,sn=!1,uc=!1,Ul=0,ft=0,la=0,Oa=0,cc=0,al=0,un=0,li=null,Yt=null,fc=!1,rc=0,cs=1/0,fs=null,aa=null,At=0,na=null,cn=null,fn=0,oc=0,dc=null,Ho=null,ai=0,mc=null;function Kt(){if((Le&2)!==0&&Ue!==0)return Ue&-Ue;if(N.T!==null){var e=$a;return e!==0?e:bc()}return jn()}function Bo(){al===0&&(al=(Ue&536870912)===0||ke?_n():536870912);var e=ll.current;return e!==null&&(e.flags|=32),al}function Jt(e,t,l){(e===et&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)&&(rn(e,0),ia(e,Ue,al,!1)),bl(e,l),((Le&2)===0||e!==et)&&(e===et&&((Le&2)===0&&(Oa|=l),ft===4&&ia(e,Ue,al,!1)),pl(e))}function Yo(e,t,l){if((Le&6)!==0)throw Error(o(327));var a=!l&&(t&124)===0&&(t&e.expiredLanes)===0||vl(e,t),n=a?Mh(e,t):pc(e,t,!0),i=a;do{if(n===0){sn&&!a&&ia(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!Eh(l)){n=pc(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var f=e;n=li;var d=f.current.memoizedState.isDehydrated;if(d&&(rn(f,u).flags|=256),u=pc(f,u,!1),u!==2){if(uc&&!d){f.errorRecoveryDisabledLanes|=i,Oa|=i,n=4;break e}i=Yt,Yt=n,i!==null&&(Yt===null?Yt=i:Yt.push.apply(Yt,i))}n=u}if(i=!1,n!==2)continue}}if(n===1){rn(e,0),ia(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:ia(a,t,al,!ta);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=rc+300-X(),10<n)){if(ia(a,t,al,!ta),gl(a,0,!0)!==0)break e;a.timeoutHandle=hd(Go.bind(null,a,l,Yt,fs,fc,t,al,Oa,un,ta,i,2,-0,0),n);break e}Go(a,l,Yt,fs,fc,t,al,Oa,un,ta,i,0,-0,0)}}break}while(!0);pl(e)}function Go(e,t,l,a,n,i,u,f,d,j,C,H,T,A){if(e.timeoutHandle=-1,H=t.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(ri={stylesheets:null,count:0,unsuspend:cy},zo(t),H=ry(),H!==null)){e.cancelPendingCommit=H(Ko.bind(null,e,t,i,l,a,n,u,f,d,C,1,T,A)),ia(e,i,u,!j);return}Ko(e,t,i,l,a,n,u,f,d)}function Eh(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!Qt(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ia(e,t,l,a){t&=~cc,t&=~Oa,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-ut(n),u=1<<i;a[i]=-1,n&=~u}l!==0&&bi(e,l,t)}function rs(){return(Le&6)===0?(ni(0),!1):!0}function hc(){if(Oe!==null){if(Ze===0)var e=Oe.return;else e=Oe,wl=Na=null,Du(e),tn=null,Jn=0,e=Oe;for(;e!==null;)vo(e.alternate,e),e=e.return;Oe=null}}function rn(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Zh(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),hc(),et=e,Oe=l=Tl(e.current,null),Ue=t,Ze=0,Vt=null,ta=!1,sn=vl(e,t),uc=!1,un=al=cc=Oa=la=ft=0,Yt=li=null,fc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-ut(a),i=1<<n;t|=e[n],a&=~i}return Ul=t,qi(),l}function ko(e,t){Ee=null,N.H=Fi,t===Yn||t===ki?(t=ar(),Ze=3):t===er?(t=ar(),Ze=4):Ze=t===no?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,Oe===null&&(ft=1,ls(e,Pt(t,e.current)))}function Qo(){var e=N.H;return N.H=Fi,e===null?Fi:e}function Xo(){var e=N.A;return N.A=Th,e}function yc(){ft=4,ta||(Ue&4194048)!==Ue&&ll.current!==null||(sn=!0),(la&134217727)===0&&(Oa&134217727)===0||et===null||ia(et,Ue,al,!1)}function pc(e,t,l){var a=Le;Le|=2;var n=Qo(),i=Xo();(et!==e||Ue!==t)&&(fs=null,rn(e,t)),t=!1;var u=ft;e:do try{if(Ze!==0&&Oe!==null){var f=Oe,d=Vt;switch(Ze){case 8:hc(),u=6;break e;case 3:case 2:case 9:case 6:ll.current===null&&(t=!0);var j=Ze;if(Ze=0,Vt=null,on(e,f,d,j),l&&sn){u=0;break e}break;default:j=Ze,Ze=0,Vt=null,on(e,f,d,j)}}wh(),u=ft;break}catch(C){ko(e,C)}while(!0);return t&&e.shellSuspendCounter++,wl=Na=null,Le=a,N.H=n,N.A=i,Oe===null&&(et=null,Ue=0,qi()),u}function wh(){for(;Oe!==null;)Lo(Oe)}function Mh(e,t){var l=Le;Le|=2;var a=Qo(),n=Xo();et!==e||Ue!==t?(fs=null,cs=X()+500,rn(e,t)):sn=vl(e,t);e:do try{if(Ze!==0&&Oe!==null){t=Oe;var i=Vt;t:switch(Ze){case 1:Ze=0,Vt=null,on(e,t,i,1);break;case 2:case 9:if(tr(i)){Ze=0,Vt=null,Zo(t);break}t=function(){Ze!==2&&Ze!==9||et!==e||(Ze=7),pl(e)},i.then(t,t);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:tr(i)?(Ze=0,Vt=null,Zo(t)):(Ze=0,Vt=null,on(e,t,i,7));break;case 5:var u=null;switch(Oe.tag){case 26:u=Oe.memoizedState;case 5:case 27:var f=Oe;if(!u||Ad(u)){Ze=0,Vt=null;var d=f.sibling;if(d!==null)Oe=d;else{var j=f.return;j!==null?(Oe=j,os(j)):Oe=null}break t}}Ze=0,Vt=null,on(e,t,i,5);break;case 6:Ze=0,Vt=null,on(e,t,i,6);break;case 8:hc(),ft=6;break e;default:throw Error(o(462))}}Oh();break}catch(C){ko(e,C)}while(!0);return wl=Na=null,N.H=a,N.A=n,Le=l,Oe!==null?0:(et=null,Ue=0,qi(),ft)}function Oh(){for(;Oe!==null&&!M();)Lo(Oe)}function Lo(e){var t=xo(e.alternate,e,Ul);e.memoizedProps=e.pendingProps,t===null?os(e):Oe=t}function Zo(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=ro(l,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=ro(l,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:Du(t);default:vo(l,t),t=Oe=Zf(t,Ul),t=xo(l,t,Ul)}e.memoizedProps=e.pendingProps,t===null?os(e):Oe=t}function on(e,t,l,a){wl=Na=null,Du(t),tn=null,Jn=0;var n=t.return;try{if(vh(e,n,t,l,Ue)){ft=1,ls(e,Pt(l,e.current)),Oe=null;return}}catch(i){if(n!==null)throw Oe=n,i;ft=1,ls(e,Pt(l,e.current)),Oe=null;return}t.flags&32768?(ke||a===1?e=!0:sn||(Ue&536870912)!==0?e=!1:(ta=e=!0,(a===2||a===9||a===3||a===6)&&(a=ll.current,a!==null&&a.tag===13&&(a.flags|=16384))),Vo(t,e)):os(t)}function os(e){var t=e;do{if((t.flags&32768)!==0){Vo(t,ta);return}e=t.return;var l=_h(t.alternate,t,Ul);if(l!==null){Oe=l;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);ft===0&&(ft=5)}function Vo(e,t){do{var l=Sh(e.alternate,e);if(l!==null){l.flags&=32767,Oe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=l}while(e!==null);ft=6,Oe=null}function Ko(e,t,l,a,n,i,u,f,d){e.cancelPendingCommit=null;do ds();while(At!==0);if((Le&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,i|=su,ya(e,l,i,u,f,d),e===et&&(Oe=et=null,Ue=0),cn=t,na=e,fn=l,oc=i,dc=n,Ho=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ch(me,function(){return Po(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=N.T,N.T=null,n=k.p,k.p=2,u=Le,Le|=4;try{jh(e,t,l)}finally{Le=u,k.p=n,N.T=a}}At=1,Jo(),$o(),Wo()}}function Jo(){if(At===1){At=0;var e=na,t=cn,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=N.T,N.T=null;var a=k.p;k.p=2;var n=Le;Le|=4;try{Oo(t,e);var i=wc,u=Rf(e.containerInfo),f=i.focusedElem,d=i.selectionRange;if(u!==f&&f&&f.ownerDocument&&Cf(f.ownerDocument.documentElement,f)){if(d!==null&&tu(f)){var j=d.start,C=d.end;if(C===void 0&&(C=j),"selectionStart"in f)f.selectionStart=j,f.selectionEnd=Math.min(C,f.value.length);else{var H=f.ownerDocument||document,T=H&&H.defaultView||window;if(T.getSelection){var A=T.getSelection(),ge=f.textContent.length,he=Math.min(d.start,ge),$e=d.end===void 0?he:Math.min(d.end,ge);!A.extend&&he>$e&&(u=$e,$e=he,he=u);var g=zf(f,he),p=zf(f,$e);if(g&&p&&(A.rangeCount!==1||A.anchorNode!==g.node||A.anchorOffset!==g.offset||A.focusNode!==p.node||A.focusOffset!==p.offset)){var S=H.createRange();S.setStart(g.node,g.offset),A.removeAllRanges(),he>$e?(A.addRange(S),A.extend(p.node,p.offset)):(S.setEnd(p.node,p.offset),A.addRange(S))}}}}for(H=[],A=f;A=A.parentNode;)A.nodeType===1&&H.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<H.length;f++){var U=H[f];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Ns=!!Ec,wc=Ec=null}finally{Le=n,k.p=a,N.T=l}}e.current=t,At=2}}function $o(){if(At===2){At=0;var e=na,t=cn,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=N.T,N.T=null;var a=k.p;k.p=2;var n=Le;Le|=4;try{Ao(e,t.alternate,t)}finally{Le=n,k.p=a,N.T=l}}At=3}}function Wo(){if(At===4||At===3){At=0,G();var e=na,t=cn,l=fn,a=Ho;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,cn=na=null,Fo(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(aa=null),kl(l),t=t.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(_e,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=N.T,n=k.p,k.p=2,N.T=null;try{for(var i=e.onRecoverableError,u=0;u<a.length;u++){var f=a[u];i(f.value,{componentStack:f.stack})}}finally{N.T=t,k.p=n}}(fn&3)!==0&&ds(),pl(e),n=e.pendingLanes,(l&4194090)!==0&&(n&42)!==0?e===mc?ai++:(ai=0,mc=e):ai=0,ni(0)}}function Fo(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Hn(t)))}function ds(e){return Jo(),$o(),Wo(),Po()}function Po(){if(At!==5)return!1;var e=na,t=oc;oc=0;var l=kl(fn),a=N.T,n=k.p;try{k.p=32>l?32:l,N.T=null,l=dc,dc=null;var i=na,u=fn;if(At=0,cn=na=null,fn=0,(Le&6)!==0)throw Error(o(331));var f=Le;if(Le|=4,Ro(i.current),qo(i,i.current,u,l),Le=f,ni(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(_e,i)}catch{}return!0}finally{k.p=n,N.T=a,Fo(e,t)}}function Io(e,t,l){t=Pt(l,t),t=Zu(e.stateNode,t,2),e=Jl(e,t,2),e!==null&&(bl(e,2),pl(e))}function Pe(e,t,l){if(e.tag===3)Io(e,e,l);else for(;t!==null;){if(t.tag===3){Io(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(aa===null||!aa.has(a))){e=Pt(l,e),l=lo(2),a=Jl(t,l,2),a!==null&&(ao(l,a,t,e),bl(a,2),pl(a));break}}t=t.return}}function xc(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Ah;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(uc=!0,n.add(l),e=Dh.bind(null,e,t,l),t.then(e,e))}function Dh(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,et===e&&(Ue&l)===l&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>X()-rc?(Le&2)===0&&rn(e,0):cc|=l,un===Ue&&(un=0)),pl(e)}function ed(e,t){t===0&&(t=Gl()),e=Za(e,t),e!==null&&(bl(e,t),pl(e))}function qh(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),ed(e,l)}function zh(e,t){var l=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),ed(e,l)}function Ch(e,t){return P(e,t)}var ms=null,dn=null,gc=!1,hs=!1,vc=!1,Da=0;function pl(e){e!==dn&&e.next===null&&(dn===null?ms=dn=e:dn=dn.next=e),hs=!0,gc||(gc=!0,Uh())}function ni(e,t){if(!vc&&hs){vc=!0;do for(var l=!1,a=ms;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var u=a.suspendedLanes,f=a.pingedLanes;i=(1<<31-ut(42|e)+1)-1,i&=n&~(u&~f),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,nd(a,i))}else i=Ue,i=gl(a,a===et?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||vl(a,i)||(l=!0,nd(a,i));a=a.next}while(l);vc=!1}}function Rh(){td()}function td(){hs=gc=!1;var e=0;Da!==0&&(Lh()&&(e=Da),Da=0);for(var t=X(),l=null,a=ms;a!==null;){var n=a.next,i=ld(a,t);i===0?(a.next=null,l===null?ms=n:l.next=n,n===null&&(dn=l)):(l=a,(e!==0||(i&3)!==0)&&(hs=!0)),a=n}ni(e)}function ld(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var u=31-ut(i),f=1<<u,d=n[u];d===-1?((f&l)===0||(f&a)!==0)&&(n[u]=bn(f,t)):d<=t&&(e.expiredLanes|=f),i&=~f}if(t=et,l=Ue,l=gl(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ma(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||vl(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&ma(a),kl(l)){case 2:case 8:l=ve;break;case 32:l=me;break;case 268435456:l=oe;break;default:l=me}return a=ad.bind(null,e),l=P(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&ma(a),e.callbackPriority=2,e.callbackNode=null,2}function ad(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(ds()&&e.callbackNode!==l)return null;var a=Ue;return a=gl(e,e===et?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Yo(e,a,t),ld(e,X()),e.callbackNode!=null&&e.callbackNode===l?ad.bind(null,e):null)}function nd(e,t){if(ds())return null;Yo(e,t,!0)}function Uh(){Vh(function(){(Le&6)!==0?P(J,Rh):td()})}function bc(){return Da===0&&(Da=_n()),Da}function id(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ti(""+e)}function sd(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Hh(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=id((n[Nt]||null).action),u=a.submitter;u&&(t=(t=u[Nt]||null)?id(t.formAction):u.getAttribute("formAction"),t!==null&&(i=t,u=null));var f=new Mi("action","action",null,a,n);e.push({event:f,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Da!==0){var d=u?sd(n,u):new FormData(n);Gu(l,{pending:!0,data:d,method:n.method,action:i},null,d)}}else typeof i=="function"&&(f.preventDefault(),d=u?sd(n,u):new FormData(n),Gu(l,{pending:!0,data:d,method:n.method,action:i},i,d))},currentTarget:n}]})}}for(var _c=0;_c<iu.length;_c++){var Sc=iu[_c],Bh=Sc.toLowerCase(),Yh=Sc[0].toUpperCase()+Sc.slice(1);cl(Bh,"on"+Yh)}cl(Bf,"onAnimationEnd"),cl(Yf,"onAnimationIteration"),cl(Gf,"onAnimationStart"),cl("dblclick","onDoubleClick"),cl("focusin","onFocus"),cl("focusout","onBlur"),cl(lh,"onTransitionRun"),cl(ah,"onTransitionStart"),cl(nh,"onTransitionCancel"),cl(kf,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ii));function ud(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var u=a.length-1;0<=u;u--){var f=a[u],d=f.instance,j=f.currentTarget;if(f=f.listener,d!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=j;try{i(n)}catch(C){ts(C)}n.currentTarget=null,i=d}else for(u=0;u<a.length;u++){if(f=a[u],d=f.instance,j=f.currentTarget,f=f.listener,d!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=j;try{i(n)}catch(C){ts(C)}n.currentTarget=null,i=d}}}}function De(e,t){var l=t[Ca];l===void 0&&(l=t[Ca]=new Set);var a=e+"__bubble";l.has(a)||(cd(t,e,2,!1),l.add(a))}function jc(e,t,l){var a=0;t&&(a|=4),cd(l,e,a,t)}var ys="_reactListening"+Math.random().toString(36).slice(2);function Nc(e){if(!e[ys]){e[ys]=!0,Ql.forEach(function(l){l!=="selectionchange"&&(Gh.has(l)||jc(l,!1,e),jc(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ys]||(t[ys]=!0,jc("selectionchange",!1,t))}}function cd(e,t,l,a){switch(qd(t)){case 2:var n=my;break;case 8:n=hy;break;default:n=Bc}l=n.bind(null,t,l,e),n=void 0,!Vs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function Tc(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var f=a.stateNode.containerInfo;if(f===n)break;if(u===4)for(u=a.return;u!==null;){var d=u.tag;if((d===3||d===4)&&u.stateNode.containerInfo===n)return;u=u.return}for(;f!==null;){if(u=se(f),u===null)return;if(d=u.tag,d===5||d===6||d===26||d===27){a=i=u;continue e}f=f.parentNode}}a=a.return}hf(function(){var j=i,C=Ls(l),H=[];e:{var T=Qf.get(e);if(T!==void 0){var A=Mi,ge=e;switch(e){case"keypress":if(Ei(l)===0)break e;case"keydown":case"keyup":A=Cm;break;case"focusin":ge="focus",A=Ws;break;case"focusout":ge="blur",A=Ws;break;case"beforeblur":case"afterblur":A=Ws;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=Sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Hm;break;case Bf:case Yf:case Gf:A=Tm;break;case kf:A=Ym;break;case"scroll":case"scrollend":A=bm;break;case"wheel":A=km;break;case"copy":case"cut":case"paste":A=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=vf;break;case"toggle":case"beforetoggle":A=Xm}var he=(t&4)!==0,$e=!he&&(e==="scroll"||e==="scrollend"),g=he?T!==null?T+"Capture":null:T;he=[];for(var p=j,S;p!==null;){var U=p;if(S=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||S===null||g===null||(U=Nn(p,g),U!=null&&he.push(si(p,U,S))),$e)break;p=p.return}0<he.length&&(T=new A(T,ge,null,l,C),H.push({event:T,listeners:he}))}}if((t&7)===0){e:{if(T=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",T&&l!==Xs&&(ge=l.relatedTarget||l.fromElement)&&(se(ge)||ge[_l]))break e;if((A||T)&&(T=C.window===C?C:(T=C.ownerDocument)?T.defaultView||T.parentWindow:window,A?(ge=l.relatedTarget||l.toElement,A=j,ge=ge?se(ge):null,ge!==null&&($e=x(ge),he=ge.tag,ge!==$e||he!==5&&he!==27&&he!==6)&&(ge=null)):(A=null,ge=j),A!==ge)){if(he=xf,U="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(he=vf,U="onPointerLeave",g="onPointerEnter",p="pointer"),$e=A==null?T:Ot(A),S=ge==null?T:Ot(ge),T=new he(U,p+"leave",A,l,C),T.target=$e,T.relatedTarget=S,U=null,se(C)===j&&(he=new he(g,p+"enter",ge,l,C),he.target=S,he.relatedTarget=$e,U=he),$e=U,A&&ge)t:{for(he=A,g=ge,p=0,S=he;S;S=mn(S))p++;for(S=0,U=g;U;U=mn(U))S++;for(;0<p-S;)he=mn(he),p--;for(;0<S-p;)g=mn(g),S--;for(;p--;){if(he===g||g!==null&&he===g.alternate)break t;he=mn(he),g=mn(g)}he=null}else he=null;A!==null&&fd(H,T,A,he,!1),ge!==null&&$e!==null&&fd(H,$e,ge,he,!0)}}e:{if(T=j?Ot(j):window,A=T.nodeName&&T.nodeName.toLowerCase(),A==="select"||A==="input"&&T.type==="file")var le=Ef;else if(Tf(T))if(wf)le=Im;else{le=Fm;var we=Wm}else A=T.nodeName,!A||A.toLowerCase()!=="input"||T.type!=="checkbox"&&T.type!=="radio"?j&&Qs(j.elementType)&&(le=Ef):le=Pm;if(le&&(le=le(e,j))){Af(H,le,l,C);break e}we&&we(e,T,j),e==="focusout"&&j&&T.type==="number"&&j.memoizedProps.value!=null&&ks(T,"number",T.value)}switch(we=j?Ot(j):window,e){case"focusin":(Tf(we)||we.contentEditable==="true")&&(Qa=we,lu=j,qn=null);break;case"focusout":qn=lu=Qa=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,Uf(H,l,C);break;case"selectionchange":if(th)break;case"keydown":case"keyup":Uf(H,l,C)}var ce;if(Ps)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else ka?jf(e,l)&&(pe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(pe="onCompositionStart");pe&&(bf&&l.locale!=="ko"&&(ka||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&ka&&(ce=yf()):(Ll=C,Ks="value"in Ll?Ll.value:Ll.textContent,ka=!0)),we=ps(j,pe),0<we.length&&(pe=new gf(pe,e,null,l,C),H.push({event:pe,listeners:we}),ce?pe.data=ce:(ce=Nf(l),ce!==null&&(pe.data=ce)))),(ce=Zm?Vm(e,l):Km(e,l))&&(pe=ps(j,"onBeforeInput"),0<pe.length&&(we=new gf("onBeforeInput","beforeinput",null,l,C),H.push({event:we,listeners:pe}),we.data=ce)),Hh(H,e,j,l,C)}ud(H,t)})}function si(e,t,l){return{instance:e,listener:t,currentTarget:l}}function ps(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Nn(e,l),n!=null&&a.unshift(si(e,n,i)),n=Nn(e,t),n!=null&&a.push(si(e,n,i))),e.tag===3)return a;e=e.return}return[]}function mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fd(e,t,l,a,n){for(var i=t._reactName,u=[];l!==null&&l!==a;){var f=l,d=f.alternate,j=f.stateNode;if(f=f.tag,d!==null&&d===a)break;f!==5&&f!==26&&f!==27||j===null||(d=j,n?(j=Nn(l,i),j!=null&&u.unshift(si(l,j,d))):n||(j=Nn(l,i),j!=null&&u.push(si(l,j,d)))),l=l.return}u.length!==0&&e.push({event:t,listeners:u})}var kh=/\r\n?/g,Qh=/\u0000|\uFFFD/g;function rd(e){return(typeof e=="string"?e:""+e).replace(kh,`
`).replace(Qh,"")}function od(e,t){return t=rd(t),rd(e)===t}function xs(){}function Je(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ba(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ba(e,""+a);break;case"className":Si(e,"class",a);break;case"tabIndex":Si(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(e,l,a);break;case"style":df(e,a,i);break;case"data":if(t!=="object"){Si(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ti(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Je(e,t,"name",n.name,n,null),Je(e,t,"formEncType",n.formEncType,n,null),Je(e,t,"formMethod",n.formMethod,n,null),Je(e,t,"formTarget",n.formTarget,n,null)):(Je(e,t,"encType",n.encType,n,null),Je(e,t,"method",n.method,n,null),Je(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ti(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=xs);break;case"onScroll":a!=null&&De("scroll",e);break;case"onScrollEnd":a!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Ti(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":De("beforetoggle",e),De("toggle",e),_i(e,"popover",a);break;case"xlinkActuate":jl(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":jl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":jl(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":jl(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":jl(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":jl(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":jl(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":jl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":jl(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":_i(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=gm.get(l)||l,_i(e,l,a))}}function Ac(e,t,l,a,n,i){switch(l){case"style":df(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ba(e,a):(typeof a=="number"||typeof a=="bigint")&&Ba(e,""+a);break;case"onScroll":a!=null&&De("scroll",e);break;case"onScrollEnd":a!=null&&De("scrollend",e);break;case"onClick":a!=null&&(e.onclick=xs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[Nt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):_i(e,l,a)}}}function Et(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];if(u!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Je(e,t,i,u,l,null)}}n&&Je(e,t,"srcSet",l.srcSet,l,null),a&&Je(e,t,"src",l.src,l,null);return;case"input":De("invalid",e);var f=i=u=n=null,d=null,j=null;for(a in l)if(l.hasOwnProperty(a)){var C=l[a];if(C!=null)switch(a){case"name":n=C;break;case"type":u=C;break;case"checked":d=C;break;case"defaultChecked":j=C;break;case"value":i=C;break;case"defaultValue":f=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(137,t));break;default:Je(e,t,a,C,l,null)}}cf(e,i,f,d,j,u,n,!1),ji(e);return;case"select":De("invalid",e),a=u=i=null;for(n in l)if(l.hasOwnProperty(n)&&(f=l[n],f!=null))switch(n){case"value":i=f;break;case"defaultValue":u=f;break;case"multiple":a=f;default:Je(e,t,n,f,l,null)}t=i,l=u,e.multiple=!!a,t!=null?Ha(e,!!a,t,!1):l!=null&&Ha(e,!!a,l,!0);return;case"textarea":De("invalid",e),i=n=a=null;for(u in l)if(l.hasOwnProperty(u)&&(f=l[u],f!=null))switch(u){case"value":a=f;break;case"defaultValue":n=f;break;case"children":i=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:Je(e,t,u,f,l,null)}rf(e,a,n,i),ji(e);return;case"option":for(d in l)if(l.hasOwnProperty(d)&&(a=l[d],a!=null))switch(d){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Je(e,t,d,a,l,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(a=0;a<ii.length;a++)De(ii[a],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in l)if(l.hasOwnProperty(j)&&(a=l[j],a!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Je(e,t,j,a,l,null)}return;default:if(Qs(t)){for(C in l)l.hasOwnProperty(C)&&(a=l[C],a!==void 0&&Ac(e,t,C,a,l,void 0));return}}for(f in l)l.hasOwnProperty(f)&&(a=l[f],a!=null&&Je(e,t,f,a,l,null))}function Xh(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,u=null,f=null,d=null,j=null,C=null;for(A in l){var H=l[A];if(l.hasOwnProperty(A)&&H!=null)switch(A){case"checked":break;case"value":break;case"defaultValue":d=H;default:a.hasOwnProperty(A)||Je(e,t,A,null,a,H)}}for(var T in a){var A=a[T];if(H=l[T],a.hasOwnProperty(T)&&(A!=null||H!=null))switch(T){case"type":i=A;break;case"name":n=A;break;case"checked":j=A;break;case"defaultChecked":C=A;break;case"value":u=A;break;case"defaultValue":f=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(o(137,t));break;default:A!==H&&Je(e,t,T,A,a,H)}}Gs(e,u,f,d,j,C,i,n);return;case"select":A=u=f=T=null;for(i in l)if(d=l[i],l.hasOwnProperty(i)&&d!=null)switch(i){case"value":break;case"multiple":A=d;default:a.hasOwnProperty(i)||Je(e,t,i,null,a,d)}for(n in a)if(i=a[n],d=l[n],a.hasOwnProperty(n)&&(i!=null||d!=null))switch(n){case"value":T=i;break;case"defaultValue":f=i;break;case"multiple":u=i;default:i!==d&&Je(e,t,n,i,a,d)}t=f,l=u,a=A,T!=null?Ha(e,!!l,T,!1):!!a!=!!l&&(t!=null?Ha(e,!!l,t,!0):Ha(e,!!l,l?[]:"",!1));return;case"textarea":A=T=null;for(f in l)if(n=l[f],l.hasOwnProperty(f)&&n!=null&&!a.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:Je(e,t,f,null,a,n)}for(u in a)if(n=a[u],i=l[u],a.hasOwnProperty(u)&&(n!=null||i!=null))switch(u){case"value":T=n;break;case"defaultValue":A=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==i&&Je(e,t,u,n,a,i)}ff(e,T,A);return;case"option":for(var ge in l)if(T=l[ge],l.hasOwnProperty(ge)&&T!=null&&!a.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:Je(e,t,ge,null,a,T)}for(d in a)if(T=a[d],A=l[d],a.hasOwnProperty(d)&&T!==A&&(T!=null||A!=null))switch(d){case"selected":e.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:Je(e,t,d,T,a,A)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in l)T=l[he],l.hasOwnProperty(he)&&T!=null&&!a.hasOwnProperty(he)&&Je(e,t,he,null,a,T);for(j in a)if(T=a[j],A=l[j],a.hasOwnProperty(j)&&T!==A&&(T!=null||A!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(137,t));break;default:Je(e,t,j,T,a,A)}return;default:if(Qs(t)){for(var $e in l)T=l[$e],l.hasOwnProperty($e)&&T!==void 0&&!a.hasOwnProperty($e)&&Ac(e,t,$e,void 0,a,T);for(C in a)T=a[C],A=l[C],!a.hasOwnProperty(C)||T===A||T===void 0&&A===void 0||Ac(e,t,C,T,a,A);return}}for(var g in l)T=l[g],l.hasOwnProperty(g)&&T!=null&&!a.hasOwnProperty(g)&&Je(e,t,g,null,a,T);for(H in a)T=a[H],A=l[H],!a.hasOwnProperty(H)||T===A||T==null&&A==null||Je(e,t,H,T,a,A)}var Ec=null,wc=null;function gs(e){return e.nodeType===9?e:e.ownerDocument}function dd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function md(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Mc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oc=null;function Lh(){var e=window.event;return e&&e.type==="popstate"?e===Oc?!1:(Oc=e,!0):(Oc=null,!1)}var hd=typeof setTimeout=="function"?setTimeout:void 0,Zh=typeof clearTimeout=="function"?clearTimeout:void 0,yd=typeof Promise=="function"?Promise:void 0,Vh=typeof queueMicrotask=="function"?queueMicrotask:typeof yd<"u"?function(e){return yd.resolve(null).then(e).catch(Kh)}:hd;function Kh(e){setTimeout(function(){throw e})}function sa(e){return e==="head"}function pd(e,t){var l=t,a=0,n=0;do{var i=l.nextSibling;if(e.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"){if(0<a&&8>a){l=a;var u=e.ownerDocument;if(l&1&&ui(u.documentElement),l&2&&ui(u.body),l&4)for(l=u.head,ui(l),u=l.firstChild;u;){var f=u.nextSibling,d=u.nodeName;u[W]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&u.rel.toLowerCase()==="stylesheet"||l.removeChild(u),u=f}}if(n===0){e.removeChild(i),yi(t);return}n--}else l==="$"||l==="$?"||l==="$!"?n++:a=l.charCodeAt(0)-48;else a=0;l=i}while(l);yi(t)}function Dc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Dc(l),je(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Jh(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[W])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=rl(e.nextSibling),e===null)break}return null}function $h(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=rl(e.nextSibling),e===null))return null;return e}function qc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Wh(e,t){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function rl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var zc=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(t===0)return e;t--}else l==="/$"&&t++}e=e.previousSibling}return null}function gd(e,t,l){switch(t=gs(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function ui(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);je(e)}var nl=new Map,vd=new Set;function vs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hl=k.d;k.d={f:Fh,r:Ph,D:Ih,C:ey,L:ty,m:ly,X:ny,S:ay,M:iy};function Fh(){var e=Hl.f(),t=rs();return e||t}function Ph(e){var t=Ae(e);t!==null&&t.tag===5&&t.type==="form"?Br(t):Hl.r(e)}var hn=typeof document>"u"?null:document;function bd(e,t,l){var a=hn;if(a&&typeof t=="string"&&t){var n=Ft(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),vd.has(n)||(vd.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),Et(t,"link",e),Me(t),a.head.appendChild(t)))}}function Ih(e){Hl.D(e),bd("dns-prefetch",e,null)}function ey(e,t){Hl.C(e,t),bd("preconnect",e,t)}function ty(e,t,l){Hl.L(e,t,l);var a=hn;if(a&&e&&t){var n='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Ft(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Ft(l.imageSizes)+'"]')):n+='[href="'+Ft(e)+'"]';var i=n;switch(t){case"style":i=yn(e);break;case"script":i=pn(e)}nl.has(i)||(e=w({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),nl.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(ci(i))||t==="script"&&a.querySelector(fi(i))||(t=a.createElement("link"),Et(t,"link",e),Me(t),a.head.appendChild(t)))}}function ly(e,t){Hl.m(e,t);var l=hn;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Ft(a)+'"][href="'+Ft(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=pn(e)}if(!nl.has(i)&&(e=w({rel:"modulepreload",href:e},t),nl.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fi(i)))return}a=l.createElement("link"),Et(a,"link",e),Me(a),l.head.appendChild(a)}}}function ay(e,t,l){Hl.S(e,t,l);var a=hn;if(a&&e){var n=lt(a).hoistableStyles,i=yn(e);t=t||"default";var u=n.get(i);if(!u){var f={loading:0,preload:null};if(u=a.querySelector(ci(i)))f.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},l),(l=nl.get(i))&&Cc(e,l);var d=u=a.createElement("link");Me(d),Et(d,"link",e),d._p=new Promise(function(j,C){d.onload=j,d.onerror=C}),d.addEventListener("load",function(){f.loading|=1}),d.addEventListener("error",function(){f.loading|=2}),f.loading|=4,bs(u,t,a)}u={type:"stylesheet",instance:u,count:1,state:f},n.set(i,u)}}}function ny(e,t){Hl.X(e,t);var l=hn;if(l&&e){var a=lt(l).hoistableScripts,n=pn(e),i=a.get(n);i||(i=l.querySelector(fi(n)),i||(e=w({src:e,async:!0},t),(t=nl.get(n))&&Rc(e,t),i=l.createElement("script"),Me(i),Et(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function iy(e,t){Hl.M(e,t);var l=hn;if(l&&e){var a=lt(l).hoistableScripts,n=pn(e),i=a.get(n);i||(i=l.querySelector(fi(n)),i||(e=w({src:e,async:!0,type:"module"},t),(t=nl.get(n))&&Rc(e,t),i=l.createElement("script"),Me(i),Et(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function _d(e,t,l,a){var n=(n=xe.current)?vs(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=yn(l.href),l=lt(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=yn(l.href);var i=lt(n).hoistableStyles,u=i.get(e);if(u||(n=n.ownerDocument||n,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,u),(i=n.querySelector(ci(e)))&&!i._p&&(u.instance=i,u.state.loading=5),nl.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},nl.set(e,l),i||sy(n,e,l,u.state))),t&&a===null)throw Error(o(528,""));return u}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=pn(l),l=lt(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function yn(e){return'href="'+Ft(e)+'"'}function ci(e){return'link[rel="stylesheet"]['+e+"]"}function Sd(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function sy(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Et(t,"link",l),Me(t),e.head.appendChild(t))}function pn(e){return'[src="'+Ft(e)+'"]'}function fi(e){return"script[async]"+e}function jd(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ft(l.href)+'"]');if(a)return t.instance=a,Me(a),a;var n=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Me(a),Et(a,"style",n),bs(a,l.precedence,e),t.instance=a;case"stylesheet":n=yn(l.href);var i=e.querySelector(ci(n));if(i)return t.state.loading|=4,t.instance=i,Me(i),i;a=Sd(l),(n=nl.get(n))&&Cc(a,n),i=(e.ownerDocument||e).createElement("link"),Me(i);var u=i;return u._p=new Promise(function(f,d){u.onload=f,u.onerror=d}),Et(i,"link",a),t.state.loading|=4,bs(i,l.precedence,e),t.instance=i;case"script":return i=pn(l.src),(n=e.querySelector(fi(i)))?(t.instance=n,Me(n),n):(a=l,(n=nl.get(i))&&(a=w({},l),Rc(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),Me(n),Et(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,bs(a,l.precedence,e));return t.instance}function bs(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,u=0;u<a.length;u++){var f=a[u];if(f.dataset.precedence===t)i=f;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Cc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Rc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var _s=null;function Nd(e,t,l){if(_s===null){var a=new Map,n=_s=new Map;n.set(l,a)}else n=_s,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[W]||i[ht]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var u=i.getAttribute(t)||"";u=e+u;var f=a.get(u);f?f.push(i):a.set(u,[i])}}return a}function Td(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function uy(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ad(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ri=null;function cy(){}function fy(e,t,l){if(ri===null)throw Error(o(475));var a=ri;if(t.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=yn(l.href),i=e.querySelector(ci(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Ss.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=i,Me(i);return}i=e.ownerDocument||e,l=Sd(l),(n=nl.get(n))&&Cc(l,n),i=i.createElement("link"),Me(i);var u=i;u._p=new Promise(function(f,d){u.onload=f,u.onerror=d}),Et(i,"link",l),t.instance=i}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Ss.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function ry(){if(ri===null)throw Error(o(475));var e=ri;return e.stylesheets&&e.count===0&&Uc(e,e.stylesheets),0<e.count?function(t){var l=setTimeout(function(){if(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Ss(){if(this.count--,this.count===0){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var js=null;function Uc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,js=new Map,t.forEach(oy,e),js=null,Ss.call(e))}function oy(e,t){if(!(t.state.loading&4)){var l=js.get(e);if(l)var a=l.get(null);else{l=new Map,js.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var u=n[i];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(l.set(u.dataset.precedence,u),a=u)}a&&l.set(null,a)}n=t.instance,u=n.getAttribute("data-precedence"),i=l.get(u)||a,i===a&&l.set(null,n),l.set(u,n),this.count++,a=Ss.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var oi={$$typeof:ue,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function dy(e,t,l,a,n,i,u,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qa(0),this.hiddenUpdates=qa(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function Ed(e,t,l,a,n,i,u,f,d,j,C,H){return e=new dy(e,t,l,u,f,d,j,H),t=1,i===!0&&(t|=24),i=Xt(3,null,null,t),e.current=i,i.stateNode=e,t=xu(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},_u(i),e}function wd(e){return e?(e=Va,e):Va}function Md(e,t,l,a,n,i){n=wd(n),a.context===null?a.context=n:a.pendingContext=n,a=Kl(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=Jl(e,a,t),l!==null&&(Jt(l,e,t),kn(l,e,t))}function Od(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Hc(e,t){Od(e,t),(e=e.alternate)&&Od(e,t)}function Dd(e){if(e.tag===13){var t=Za(e,67108864);t!==null&&Jt(t,e,67108864),Hc(e,67108864)}}var Ns=!0;function my(e,t,l,a){var n=N.T;N.T=null;var i=k.p;try{k.p=2,Bc(e,t,l,a)}finally{k.p=i,N.T=n}}function hy(e,t,l,a){var n=N.T;N.T=null;var i=k.p;try{k.p=8,Bc(e,t,l,a)}finally{k.p=i,N.T=n}}function Bc(e,t,l,a){if(Ns){var n=Yc(a);if(n===null)Tc(e,t,a,Ts,l),zd(e,a);else if(py(n,e,t,l,a))a.stopPropagation();else if(zd(e,a),t&4&&-1<yy.indexOf(e)){for(;n!==null;){var i=Ae(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var u=Xe(i.pendingLanes);if(u!==0){var f=i;for(f.pendingLanes|=2,f.entangledLanes|=2;u;){var d=1<<31-ut(u);f.entanglements[1]|=d,u&=~d}pl(i),(Le&6)===0&&(cs=X()+500,ni(0))}}break;case 13:f=Za(i,2),f!==null&&Jt(f,i,2),rs(),Hc(i,2)}if(i=Yc(a),i===null&&Tc(e,t,a,Ts,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else Tc(e,t,a,null,l)}}function Yc(e){return e=Ls(e),Gc(e)}var Ts=null;function Gc(e){if(Ts=null,e=se(e),e!==null){var t=x(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=_(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ts=e,null}function qd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(q()){case J:return 2;case ve:return 8;case me:case We:return 32;case oe:return 268435456;default:return 32}default:return 32}}var kc=!1,ua=null,ca=null,fa=null,di=new Map,mi=new Map,ra=[],yy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zd(e,t){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(t.pointerId)}}function hi(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Ae(t),t!==null&&Dd(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function py(e,t,l,a,n){switch(t){case"focusin":return ua=hi(ua,e,t,l,a,n),!0;case"dragenter":return ca=hi(ca,e,t,l,a,n),!0;case"mouseover":return fa=hi(fa,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return di.set(i,hi(di.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,mi.set(i,hi(mi.get(i)||null,e,t,l,a,n)),!0}return!1}function Cd(e){var t=se(e.target);if(t!==null){var l=x(t);if(l!==null){if(t=l.tag,t===13){if(t=_(l),t!==null){e.blockedOn=t,za(e.priority,function(){if(l.tag===13){var a=Kt();a=Sn(a);var n=Za(l,a);n!==null&&Jt(n,l,a),Hc(l,a)}});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function As(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Yc(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Xs=a,l.target.dispatchEvent(a),Xs=null}else return t=Ae(l),t!==null&&Dd(t),e.blockedOn=l,!1;t.shift()}return!0}function Rd(e,t,l){As(e)&&l.delete(t)}function xy(){kc=!1,ua!==null&&As(ua)&&(ua=null),ca!==null&&As(ca)&&(ca=null),fa!==null&&As(fa)&&(fa=null),di.forEach(Rd),mi.forEach(Rd)}function Es(e,t){e.blockedOn===t&&(e.blockedOn=null,kc||(kc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xy)))}var ws=null;function Ud(e){ws!==e&&(ws=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ws===e&&(ws=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(Gc(a||l)===null)continue;break}var i=Ae(l);i!==null&&(e.splice(t,3),t-=3,Gu(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function yi(e){function t(d){return Es(d,e)}ua!==null&&Es(ua,e),ca!==null&&Es(ca,e),fa!==null&&Es(fa,e),di.forEach(t),mi.forEach(t);for(var l=0;l<ra.length;l++){var a=ra[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ra.length&&(l=ra[0],l.blockedOn===null);)Cd(l),l.blockedOn===null&&ra.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],u=n[Nt]||null;if(typeof i=="function")u||Ud(l);else if(u){var f=null;if(i&&i.hasAttribute("formAction")){if(n=i,u=i[Nt]||null)f=u.formAction;else if(Gc(n)!==null)continue}else f=u.action;typeof f=="function"?l[a+1]=f:(l.splice(a,3),a-=3),Ud(l)}}}function Qc(e){this._internalRoot=e}Ms.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=Kt();Md(l,a,e,t,null,null)},Ms.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Md(e.current,2,null,e,null,null),rs(),t[_l]=null}};function Ms(e){this._internalRoot=e}Ms.prototype.unstable_scheduleHydration=function(e){if(e){var t=jn();e={blockedOn:null,target:e,priority:t};for(var l=0;l<ra.length&&t!==0&&t<ra[l].priority;l++);ra.splice(l,0,e),l===0&&Cd(e)}};var Hd=c.version;if(Hd!=="19.1.1")throw Error(o(527,Hd,"19.1.1"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=E(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var gy={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{_e=Os.inject(gy),tt=Os}catch{}}return xi.createRoot=function(e,t){if(!v(e))throw Error(o(299));var l=!1,a="",n=Pr,i=Ir,u=eo,f=null;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(f=t.unstable_transitionCallbacks)),t=Ed(e,1,!1,null,null,l,a,n,i,u,f,null),e[_l]=t.current,Nc(e),new Qc(t)},xi.hydrateRoot=function(e,t,l){if(!v(e))throw Error(o(299));var a=!1,n="",i=Pr,u=Ir,f=eo,d=null,j=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(u=l.onCaughtError),l.onRecoverableError!==void 0&&(f=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(d=l.unstable_transitionCallbacks),l.formState!==void 0&&(j=l.formState)),t=Ed(e,1,!0,t,l??null,a,n,i,u,f,d,j),t.context=wd(null),l=t.current,a=Kt(),a=Sn(a),n=Kl(a),n.callback=null,Jl(l,n,a),l=a,t.current.lanes=l,bl(t,l),pl(t),e[_l]=t.current,Nc(e),new Ms(t)},xi.version="19.1.1",xi}var Kd;function My(){if(Kd)return Zc.exports;Kd=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),Zc.exports=wy(),Zc.exports}var Oy=My();const nm=D.createContext({path:typeof window<"u"&&window.location&&window.location.pathname||"/",navigate:()=>{}});function Dy({children:r}){const[c,h]=D.useState(()=>{if(typeof window>"u"||!window.location)return"/";try{return window.location.pathname||"/"}catch{return"/"}});D.useEffect(()=>{if(typeof window>"u")return;const x=()=>{try{h(window.location.pathname||"/")}catch{h("/")}};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[]);const o=(x,_={})=>{if(!x)return;if(typeof window>"u"||!window.history||!window.location){h(x);return}const O=x;if(O!==c){try{_.replace?window.history.replaceState({},"",O):window.history.pushState({},"",O)}catch{}h(O)}},v=D.useMemo(()=>({path:c,navigate:o}),[c]);return s.jsx(nm.Provider,{value:v,children:r})}function im(){return D.useContext(nm)}function qy(r){if(!r||r==="")return{name:"root",params:{}};if(r==="/")return{name:"root",params:{}};if(r.startsWith("/login"))return{name:"login",params:{}};if(r.startsWith("/dashboard"))return{name:"dashboard",params:{}};if(r.startsWith("/my"))return{name:"my",params:{}};if(r.startsWith("/employees"))return{name:"employees",params:{}};if(r.startsWith("/availability"))return{name:"availability",params:{}};if(r.startsWith("/feed"))return{name:"feed",params:{}};if(r.startsWith("/tasks"))return{name:"tasks",params:{}};if(r.startsWith("/messages"))return{name:"messages",params:{}};if(r.startsWith("/requests"))return{name:"requests",params:{}};if(r.startsWith("/settings"))return{name:"settings",params:{}};const c=r.match(/^\/schedule\/(\d{4}-\d{2}-\d{2})/);return c?{name:"schedule",params:{week:c[1]}}:r.startsWith("/schedule")?{name:"schedule",params:{}}:{name:"unknown",params:{}}}function zy(r,c){const h=Array.isArray(r)?r:[],o=Array.isArray(c)?c:[];return h.map(v=>{const x=new Date(v);x.setHours(0,0,0,0);const _=x.toDateString(),O=o.filter(E=>{if(!E||!E.starts_at)return!1;const m=new Date(E.starts_at);return Number.isNaN(m.getTime())?!1:m.getFullYear()===x.getFullYear()&&m.getMonth()===x.getMonth()&&m.getDate()===x.getDate()}).sort((E,m)=>new Date(E.starts_at)-new Date(m.starts_at));return{key:_,date:x,shifts:O}})}function Jd(r){const c=new Date(r);return Number.isNaN(c.getTime())?"":c.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}function Cy(r,c){return!r||!c?"":`${Jd(r)}  ${Jd(c)}`}function Ry(r,c,h=0){const o=new Date(r),v=new Date(c);if(Number.isNaN(o.getTime())||Number.isNaN(v.getTime()))return"";const x=(Number(h)||0)*6e4,_=Math.max(0,v.getTime()-o.getTime()-x),O=Math.round(_/6e4),E=Math.floor(O/60),m=O%60;return E<=0&&m<=0?"":m===0?`${E}h`:E===0?`${m}m`:`${E}h ${m}m`}function Uy(r){const c=new Date(r);if(Number.isNaN(c.getTime()))return"";const h=c.toLocaleDateString([],{weekday:"short"}),o=c.getDate();return`${h} ${o}`}function Hy(r){switch(r){case"owner":return"border-emerald-200 bg-emerald-50 text-emerald-900";case"manager":return"border-amber-200 bg-amber-50 text-amber-900";default:return"border-sky-200 bg-sky-50 text-sky-900"}}function By(r){return r==="employee"?"Crew":r.charAt(0).toUpperCase()+r.slice(1)}function Yy({weekDays:r,shifts:c,users:h=[],positionsById:o={}}){const v=D.useMemo(()=>zy(r,c),[r,c]),x=D.useMemo(()=>Object.fromEntries((h||[]).map(_=>[_.id,_])),[h]);return s.jsx("div",{className:"space-y-4",children:v.map(({key:_,date:O,shifts:E})=>s.jsxs("div",{className:"border-b border-gray-100 pb-3 last:border-b-0",children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:Uy(O)}),E.length===0&&s.jsx("div",{className:"text-[11px] text-gray-400",children:"No shifts"})]}),s.jsx("div",{className:"space-y-2",children:E.map(m=>{const w=x[m.user_id],B=o[m.position_id]||null,R=w?.role||"employee",V=Hy(R),ae=Ry(m.starts_at,m.ends_at,m.break_min);return s.jsxs("div",{className:`w-full rounded-xl border px-3 py-2 text-sm shadow-sm ${V}`,children:[s.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[s.jsx("div",{className:"font-semibold",children:Cy(m.starts_at,m.ends_at)}),ae&&s.jsx("div",{className:"text-xs font-medium opacity-80",children:ae})]}),s.jsx("div",{className:"mt-1 text-sm font-medium",children:w?.full_name||"Unassigned"}),s.jsxs("div",{className:"mt-0.5 text-xs opacity-90",children:[B?.name||"Shift",s.jsxs("span",{children:["  ",By(R)]})]})]},m.id)})})]},_))})}const vn=r=>{if(r instanceof Date){const o=new Date(r);return isNaN(o.getTime())?new Date:o}const c=String(r||"");if(/^\d{4}-\d{2}-\d{2}$/.test(c)){const[o,v,x]=c.split("-").map(Number);return new Date(o,v-1,x)}const h=new Date(c);return isNaN(h.getTime())?new Date:h},$c=r=>vn(r).toISOString().slice(0,10),$d=r=>{const c=vn(r),h=c.getFullYear(),o=String(c.getMonth()+1).padStart(2,"0"),v=String(c.getDate()).padStart(2,"0");return`${h}-${o}-${v}`},xn=r=>vn(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Wc=r=>vn(r).toLocaleDateString([],{weekday:"short",month:"numeric",day:"numeric"}),Wd=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#e879f9","#22d3ee","#fb7185"],Fd=(r="")=>{let c=0;const h=String(r);for(let o=0;o<h.length;o++)c=c*31+h.charCodeAt(o)>>>0;return Wd[c%Wd.length]},Pd=(r="")=>({owner:"#e11d48",manager:"#0ea5e9",employee:"#64748b"})[r]||"#6b7280",Gy=(r,c,h=0)=>Math.max(0,(vn(c)-vn(r)-(Number(h)||0)*6e4)/36e5),ky=(r,c,h)=>r>=c&&r<=h,sm=()=>{try{return typeof localStorage>"u"?null:localStorage.getItem("shiftmate_auth_token")}catch{return null}},Qy=()=>typeof fetch=="function"&&!!sm(),Xy=async(r,c={})=>{const h=sm();if(typeof fetch!="function"||!h)throw new Error("schedule_api_unavailable");const o=await fetch(r,{method:c.method||"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`,...c.headers||{}},body:c.body?JSON.stringify(c.body):void 0});if(!o.ok){let x=null;try{x=await o.json()}catch{}const _=x&&(x.error||x.message)||`Request failed (${o.status})`,O=new Error(_);throw O.status=o.status,O.body=x,O}const v=await o.text();if(!v)return null;try{return JSON.parse(v)}catch{return null}};function Fc(r){const{employees:c,weekDays:h,shifts:o,positionsById:v,unavailability:x,timeOffList:_,showTimeOffChips:O,onCreate:E,onDelete:m,onEdit:w,currentUserId:B,showTileActions:R=!1,swapIndicators:V={},onOfferGiveaway:ae,onProposeTrade:L,allowCrossPosition:ee=!1,isQualified:ye=()=>!0,onDuplicate:ne,onMoveShift:ue,useDense:te,cleanUI:K}=r||{},Ne=!!(r&&(r.useDense??r.dense)),[qe,fe]=D.useState(null),Se=Array.isArray(c)?c:[],F=Array.isArray(o)?o:[],ie=Array.isArray(h)?h:[],Q=D.useMemo(()=>Object.fromEntries(Se.map(N=>[N.id,N.full_name])),[Se]),Ce=D.useMemo(()=>B?F.filter(N=>N.user_id!==B):[],[F,B]),be=D.useMemo(()=>{const N={};for(const k of Se)N[k.id]=[];for(const k of x||[])N[k.user_id]&&N[k.user_id].push(k);return N},[Se,x]),Re=D.useMemo(()=>{const N={};for(const k of Se)N[k.id]=[];for(const k of _||[])N[k.user_id]&&N[k.user_id].push(k);return N},[Se,_]);return s.jsx("div",{className:"space-y-3",children:Se.map(N=>s.jsx(Ly,{employee:N,weekDays:ie,allShifts:F,positionsById:v||{},unavailability:be[N.id]||[],timeOffList:Re[N.id]||[],showTimeOffChips:O,onCreate:E,onDelete:m,onEdit:w,currentUserId:B,showTileActions:R,swapIndicators:V,onOfferGiveaway:ae,onProposeTrade:L,allowCrossPosition:ee,isQualified:ye,onDuplicate:ne,onMoveShift:ue,isDense:Ne,openShiftMenu:qe,setOpenShiftMenu:fe,coworkerShifts:Ce,userNameById:Q},N.id))})}function Ly(r){const{employee:c,weekDays:h,allShifts:o,positionsById:v,unavailability:x,timeOffList:_,showTimeOffChips:O,onCreate:E,onDelete:m,onEdit:w,currentUserId:B,showTileActions:R,swapIndicators:V,onOfferGiveaway:ae,onProposeTrade:L,allowCrossPosition:ee,isQualified:ye,onDuplicate:ne,onMoveShift:ue,isDense:te,openShiftMenu:K,setOpenShiftMenu:Ne,coworkerShifts:qe,userNameById:fe}=r,Se=(o||[]).filter(ie=>ie.user_id===c.id),F=Se.reduce((ie,Q)=>ie+Gy(Q.starts_at,Q.ends_at,Q.break_min),0);return s.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white px-4 py-3 shadow-sm",children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:c.full_name}),s.jsx("span",{className:"ml-1 inline-flex items-center rounded-full px-2 py-0.5 text-[11px]",style:{border:`1px solid ${Pd(c.role)}`,color:Pd(c.role)},children:c.role})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:[F.toFixed(2)," h"]})]}),s.jsx("div",{className:"divide-y divide-gray-100",children:h.map(ie=>{const Q=$d(ie),Ce=Se.filter(N=>$d(N.starts_at)===Q),be=(x||[]).filter(N=>N.kind==="date"?N.date===Q:N.weekday===ie.getDay()),Re=(_||[]).filter(N=>ky(Q,N.date_from,N.date_to));return s.jsx(Zy,{day:ie,employee:c,shifts:Ce,positionsById:v,unavailability:be,timeOffList:Re,showTimeOffChips:O,onCreate:E,onDelete:m,onEdit:w,currentUserId:B,showTileActions:R,swapIndicators:V,onOfferGiveaway:ae,onProposeTrade:L,allowCrossPosition:ee,isQualified:ye,onDuplicate:ne,onMoveShift:ue,isDense:te,openShiftMenu:K,setOpenShiftMenu:Ne,coworkerShifts:qe,userNameById:fe},c.id+Q)})})]})}function Zy(r){const{day:c,employee:h,shifts:o,positionsById:v,unavailability:x,timeOffList:_,showTimeOffChips:O,onCreate:E,onDelete:m,onEdit:w,currentUserId:B,showTileActions:R,swapIndicators:V,onOfferGiveaway:ae,onProposeTrade:L,allowCrossPosition:ee,isQualified:ye,onDuplicate:ne,onMoveShift:ue,isDense:te,openShiftMenu:K,setOpenShiftMenu:Ne,coworkerShifts:qe,userNameById:fe}=r,Se=(o||[]).length>0,F=(x||[]).length>0,ie=(_||[]).length>0,Q=be=>{be.preventDefault(),be.dataTransfer.dropEffect="move"},Ce=be=>{const Re=be.dataTransfer.getData("text/plain");Re&&ue&&ue(Re,h.id,c)};return s.jsxs("div",{className:"flex items-start justify-between gap-3 py-2",onDragOver:Q,onDrop:Ce,children:[s.jsx("div",{className:"min-w-[96px] text-xs font-semibold uppercase tracking-wide text-gray-500",children:Wc(c)}),s.jsxs("div",{className:"flex-1 space-y-1",children:[O&&(_||[]).map(be=>s.jsxs("div",{className:`rounded-xl border px-2 py-1 text-xs ${be.status==="approved"?"border-green-300 bg-green-50 text-green-700":be.status==="pending"?"border-amber-300 bg-amber-50 text-amber-700":"border-gray-300 bg-gray-50 text-gray-700"}`,children:["Time off ",be.date_from,"",be.date_to," (",be.status,")",be.notes?`  ${be.notes}`:""]},be.id)),(x||[]).map(be=>s.jsxs("div",{className:"rounded-xl border border-red-300 bg-red-50 px-2 py-1 text-xs text-red-700",children:["Unavailable ",be.start_hhmm,"",be.end_hhmm,be.notes?`  ${be.notes}`:""]},be.id)),Se?o.map(be=>s.jsx(Vy,{shift:be,positionsById:v,hasUnav:F,hasTimeOff:ie,onEdit:w,onDelete:m,onDuplicate:ne,showTileActions:R,currentUserId:B,swapIndicators:V,onOfferGiveaway:ae,onProposeTrade:L,allowCrossPosition:ee,isQualified:ye,openShiftMenu:K,setOpenShiftMenu:Ne,coworkerShifts:qe,userNameById:fe,isDense:te},be.id)):s.jsx("div",{className:"text-[11px] text-gray-400",children:"No shifts"})]}),E&&s.jsx("button",{className:"ml-2 text-[11px] text-gray-500 underline underline-offset-2 hover:text-gray-700",onClick:()=>E(h.id,c),children:"+ add"})]})}function Vy(r){const{shift:c,positionsById:h,hasUnav:o,hasTimeOff:v,onEdit:x,onDelete:_,onDuplicate:O,showTileActions:E,currentUserId:m,swapIndicators:w,onOfferGiveaway:B,onProposeTrade:R,allowCrossPosition:V,isQualified:ae,openShiftMenu:L,setOpenShiftMenu:ee,coworkerShifts:ye,userNameById:ne,isDense:ue}=r,te=!!(m&&c.user_id===m),K=L===c.id,Ne=F=>{F.dataTransfer.setData("text/plain",c.id),F.dataTransfer.effectAllowed="move"},qe=()=>{E&&te&&ee(K?null:c.id)},fe=ue?"group relative mb-1 rounded-xl border border-gray-200 bg-white px-2 py-1 text-xs shadow-sm flex items-center justify-between gap-2":"group relative mb-1 rounded-xl border border-gray-200 bg-white px-2.5 py-2 text-sm shadow-sm flex items-center justify-between gap-2",Se=(ye||[]).filter(F=>{const ie=F.position_id===c.position_id,Q=V&&ae(m,F.position_id)&&ae(F.user_id,c.position_id);return ie||Q});return s.jsxs("div",{draggable:!0,onDragStart:Ne,className:fe,style:{borderLeft:`4px solid ${Fd(c.position_id)}`},onClick:qe,children:[s.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"font-medium",children:[xn(c.starts_at),"  ",xn(c.ends_at)]}),s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:"inline-flex items-center rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 text-[11px] text-gray-700",children:[s.jsx("span",{className:"mr-1 inline-block h-2 w-2 rounded-full",style:{backgroundColor:Fd(c.position_id)}}),h[c.position_id]?.name||"?"]})})]}),s.jsxs("div",{className:"relative flex items-start gap-1",children:[x&&s.jsx("button",{className:"hidden rounded border border-gray-200 bg-gray-50 p-1 text-gray-700 hover:bg-gray-100 md:inline-flex",onClick:F=>{F.stopPropagation(),x(c)},"aria-label":"Edit shift",title:"Edit",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M12.316 2.434a1.5 1.5 0 0 1 2.122 0l3.128 3.128a1.5 1.5 0 0 1 0 2.122l-9.17 9.17a2 2 0 0 1-1.106.56l-3.89.557a.75.75 0 0 1-.852-.852l.558-3.89a2 2 0 0 1 .56-1.106l9.172-9.17Zm1.414 1.414L6.56 11.018a.5.5 0 0 0-.14.276l-.29 2.023 2.023-.29a.5.5 0 0 0 .276-.14l7.168-7.168-1.867-1.867Z"})})}),O&&s.jsx("button",{className:"hidden rounded border border-gray-200 bg-gray-50 p-1 text-gray-700 hover:bg-gray-100 md:inline-flex",onClick:F=>{F.stopPropagation(),O(c.id)},"aria-label":"Duplicate shift",title:"Duplicate",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M7 4.5A1.5 1.5 0 0 1 8.5 3h6A1.5 1.5 0 0 1 16 4.5v6A1.5 1.5 0 0 1 14.5 12h-6A1.5 1.5 0 0 1 7 10.5v-6Zm-3 3A1.5 1.5 0 0 1 5.5 6h.5v7a2 2 0 0 0 2 2H15v.5A1.5 1.5 0 0 1 13.5 17h-6A1.5 1.5 0 0 1 6 15.5v-6Z"})})}),_&&s.jsx("button",{className:"hidden rounded border border-gray-200 bg-gray-50 p-1 text-gray-700 hover:bg-gray-100 md:inline-flex",onClick:F=>{F.stopPropagation(),_(c.id)},"aria-label":"Delete shift",title:"Delete",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{fillRule:"evenodd",d:"M8.75 2A1.75 1.75 0 0 0 7 3.75V4H3.5a.75.75 0 0 0 0 1.5h.548l.862 10.341A2.25 2.25 0 0 0 7.154 18h5.692a2.25 2.25 0 0 0 2.244-2.159L15.952 5.5H16.5a.75.75 0 0 0 0-1.5H13v-.25A1.75 1.75 0 0 0 11.25 2h-2.5Zm1.75 2h-2.5v.25H10.5V4Zm-3.75 3a.75.75 0 0 1 .75.75v7a.75.75 0 0 1-1.5 0v-7A.75.75 0 0 1 6.75 7Zm6.5 0a.75.75 0 0 1 .75.75v7a.75.75 0 0 1-1.5 0v-7a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})})}),(x||_||O)&&s.jsx("button",{className:"inline-flex rounded p-1 md:hidden",onClick:F=>{F.stopPropagation(),ee(K?null:c.id)},"aria-label":"More actions",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-gray-600",children:s.jsx("path",{d:"M6 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})})})]})]}),(o||v)&&s.jsxs("div",{className:"mt-1 flex gap-1 text-[10px]",children:[o&&s.jsx("span",{className:"rounded bg-red-100 px-1 text-red-700",children:"UA"}),v&&s.jsx("span",{className:"rounded bg-amber-100 px-1 text-amber-700",children:"TO"})]}),(w[c.id]?.give||w[c.id]?.trade)&&s.jsxs("div",{className:"mt-1 flex gap-1 text-xs text-gray-600",children:[w[c.id]?.give&&s.jsx("span",{title:"Giveaway",children:"Give"}),w[c.id]?.trade&&s.jsx("span",{title:"Trade",children:"Trade"})]}),E&&te&&K&&s.jsxs("div",{className:"mt-2 hidden rounded-lg border bg-white p-2 text-xs shadow md:block",children:[s.jsx("button",{className:"block w-full rounded px-2 py-1 text-left hover:bg-gray-50",onClick:F=>{F.stopPropagation(),B?.(c.id),ee(null)},children:"Offer Giveaway"}),s.jsxs("div",{className:"mt-1 grid gap-1",children:[s.jsx("div",{className:"px-2 text-[11px] text-gray-600",children:"Propose Trade for:"}),s.jsxs("select",{className:"w-56 rounded border px-2 py-1",onChange:F=>{const ie=F.target.value||"";ie&&(F.stopPropagation(),R?.(c.id,ie),ee(null))},children:[s.jsx("option",{value:"",children:"Select coworker shift"}),Se.map(F=>s.jsx("option",{value:F.id,children:(ne[F.user_id]||"Unknown")+"  "+Wc(F.starts_at)+"  "+xn(F.starts_at)+""+xn(F.ends_at)+(h[F.position_id]?.name?"  "+h[F.position_id].name:"")},F.id))]})]})]}),K&&s.jsxs("div",{className:"absolute right-1 top-7 z-20 w-48 rounded-lg border bg-white p-1 text-xs shadow md:hidden",children:[x&&s.jsx("button",{className:"block w-full rounded px-2 py-1 text-left hover:bg-gray-50",onClick:F=>{F.stopPropagation(),x(c),ee(null)},children:"Edit"}),O&&s.jsx("button",{className:"block w-full rounded px-2 py-1 text-left hover:bg-gray-50",onClick:F=>{F.stopPropagation(),O(c.id),ee(null)},children:"Duplicate"}),_&&s.jsx("button",{className:"block w-full rounded px-2 py-1 text-left hover:bg-gray-50",onClick:F=>{F.stopPropagation(),_(c.id),ee(null)},children:"Delete"}),E&&te&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-gray-100"}),s.jsx("button",{className:"block w-full rounded px-2 py-1 text-left hover:bg-gray-50",onClick:F=>{F.stopPropagation(),B?.(c.id),ee(null)},children:"Offer Giveaway"}),Se.length>0&&s.jsxs("div",{className:"mt-1",children:[s.jsx("div",{className:"px-2 text-[11px] text-gray-600",children:"Propose Trade for:"}),s.jsxs("select",{className:"mt-1 w-full rounded border px-2 py-1",onChange:F=>{const ie=F.target.value||"";ie&&(F.stopPropagation(),R?.(c.id,ie),ee(null))},children:[s.jsx("option",{value:"",children:"Select shift"}),Se.map(F=>s.jsx("option",{value:F.id,children:(ne[F.user_id]||"Unknown")+"  "+Wc(F.starts_at)+"  "+xn(F.starts_at)+""+xn(F.ends_at)},F.id))]})]})]})]})]})}function Ds({role:r,mode:c,weekDays:h,shifts:o,employees:v,currentUserId:x,positionsById:_}){const O=D.useMemo(()=>Array.isArray(o)?c==="my"&&x?o.filter(m=>m.user_id===x):o:[],[o,c,x]),E=D.useMemo(()=>Array.isArray(v)?c==="my"&&x?v.filter(m=>m.id===x):v:[],[v,c,x]);return s.jsx(Yy,{weekDays:h,shifts:O,users:E,positionsById:_})}function Id({currentUser:r,schedule:c,weekDays:h,positionsById:o,users:v=[],swapIndicators:x={},onOfferGiveaway:_,onProposeTrade:O,allowCrossPosition:E=!1,isQualified:m=()=>!0}){const[w,B]=D.useState(null),R=D.useMemo(()=>h&&h.length?$c(h[0]):null,[h]);D.useEffect(()=>{if(!Qy()||!r||!R){B(null);return}let ee=!1;return(async()=>{try{const ye=new URLSearchParams({weekStart:R}),ne=await Xy(`/api/my/shifts?${ye.toString()}`);ee||B(ne&&ne.data||[])}catch(ye){console.warn("MyShifts API error, falling back to schedule prop",ye),ee||B(null)}})(),()=>{ee=!0}},[r?.id,R]);const V=D.useMemo(()=>Array.isArray(w)?w:(c?.shifts||[]).filter(L=>L.user_id===r.id),[w,c?.shifts,r?.id]),ae=D.useMemo(()=>(v||[]).filter(L=>r&&L.id===r.id),[v,r?.id]);return s.jsx(Fc,{employees:ae,weekDays:h,shifts:V,positionsById:o,unavailability:[],timeOffList:[],showTimeOffChips:!1,currentUserId:r.id,showTileActions:!0,swapIndicators:x,onOfferGiveaway:_,onProposeTrade:O,allowCrossPosition:E,isQualified:m})}function Ky({onSubmit:r}){const[c,h]=D.useState($c(new Date)),[o,v]=D.useState($c(new Date)),[x,_]=D.useState("");return s.jsxs("div",{className:"mt-4 rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Request time off"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"From"}),s.jsx("input",{type:"date",value:c,onChange:O=>h(O.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"To"}),s.jsx("input",{type:"date",value:o,onChange:O=>v(O.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm md:col-span-1",children:[s.jsx("span",{className:"text-gray-600",children:"Notes"}),s.jsx("input",{type:"text",value:x,onChange:O=>_(O.target.value),className:"rounded-xl border px-3 py-2"})]})]}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>r({date_from:c,date_to:o,notes:x}),children:"Submit"})})]})}class Jy extends am.Component{constructor(c){super(c),this.state={error:null}}static getDerivedStateFromError(c){return{error:c}}componentDidCatch(c,h){try{console.error("App error:",c,h)}catch{}}render(){if(this.state.error){const c=this.state.error,h=String(c&&(c.stack||c.message||c));return s.jsxs("div",{style:{padding:16,fontFamily:"system-ui"},children:[s.jsx("h2",{style:{fontWeight:800,marginBottom:8},children:"Something went wrong"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap",background:"#fff7ed",border:"1px solid #fed7aa",padding:12,borderRadius:12},children:h}),s.jsx("div",{style:{marginTop:12,display:"flex",gap:8},children:s.jsx("button",{onClick:()=>{try{localStorage.removeItem("shiftmate_v2"),localStorage.removeItem("shiftmate_current_user"),localStorage.removeItem("shiftmate_schedule_view"),location.reload()}catch(o){console.warn(o)}},style:{padding:"8px 12px",borderRadius:12,border:"1px solid #e5e7eb",background:"#111827",color:"#fff"},children:"Clear Storage & Reload"})})]})}return this.props.children}}const $y=()=>s.jsx("style",{children:" ... "}),Us=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],He=r=>{if(r instanceof Date){const o=new Date(r);return isNaN(o.getTime())?new Date:o}const c=String(r||"");if(/^\d{4}-\d{2}-\d{2}$/.test(c)){const[o,v,x]=c.split("-").map(Number);return new Date(o,v-1,x)}const h=new Date(c);return isNaN(h.getTime())?new Date:h},Wy=(r,c)=>{const h=He(r),o=new Date(h);return o.setDate(o.getDate()+c),o},sl=(r,c=1)=>{const h=He(r),o=h.getDay(),v=(o<c?7:0)+o-c;return h.setDate(h.getDate()-v),h.setHours(0,0,0,0),h},nt=r=>He(r).toISOString().slice(0,10),Fy=r=>{const c=He(r),h=c.getFullYear(),o=String(c.getMonth()+1).padStart(2,"0"),v=String(c.getDate()).padStart(2,"0");return`${h}-${o}-${v}`},qs=r=>He(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Py=r=>He(r).toLocaleDateString([],{weekday:"short",month:"numeric",day:"numeric"}),Ve=()=>Math.random().toString(36).slice(2,10),gn=()=>new Date,zs=r=>{const c=He(r),h=String(c.getHours()).padStart(2,"0"),o=String(c.getMinutes()).padStart(2,"0");return`${h}:${o}`},xl=r=>{const[c,h]=String(r||"00:00").split(":").map(o=>Number(o)||0);return c*60+h},Cs=(r,c)=>{const h=He(r),[o,v]=String(c||"00:00").split(":").map(_=>Number(_)||0),x=new Date(h);return x.setHours(o,v,0,0),x},Iy=(r,c,h,o)=>Math.max(r,h)<Math.min(c,o),Rs=(r,c,h=0)=>Math.max(0,(He(c)-He(r)-(Number(h)||0)*6e4)/36e5),ep=(r,c)=>{const h=new Blob([c],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(h),v=document.createElement("a");v.href=o,v.download=r,v.click(),URL.revokeObjectURL(o)},tp=(r,c,h)=>r>=c&&r<=h,um=()=>{try{return typeof localStorage>"u"?null:localStorage.getItem("shiftmate_auth_token")}catch{return null}},il=()=>typeof fetch=="function"&&!!um(),$t=async(r,c={})=>{const h=um();if(typeof fetch!="function"||!h)throw new Error("schedule_api_unavailable");const o=await fetch(r,{method:c.method||"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`,...c.headers||{}},body:c.body?JSON.stringify(c.body):void 0});if(!o.ok){let x=null;try{x=await o.json()}catch{}const _=x&&(x.error||x.message)||`Request failed (${o.status})`,O=new Error(_);throw O.status=o.status,O.body=x,O}const v=await o.text();if(!v)return null;try{return JSON.parse(v)}catch{return null}},cm="shiftmate_v2",vi=()=>({unavailabilityEnabled:!0,employeeEditUnavailability:!0,showTimeOffOnSchedule:!0,newsfeedEnabled:!0,employeesCanPostToFeed:!1,tasksEnabled:!0,messagesEnabled:!0,requireManagerApproval:!0,swapCutoffHours:12,allowCrossPosition:!1,weekStartsOn:1}),Pc=()=>{const r={id:"loc1",name:"Main Shop"},c=[{id:Ve(),location_id:r.id,name:"Scooper"},{id:Ve(),location_id:r.id,name:"Shift Lead"},{id:Ve(),location_id:r.id,name:"Manager"}],h=Object.fromEntries(c.map(_=>[_.name,_])),o=[{id:Ve(),location_id:r.id,full_name:"Manager Mike",email:"manager@demo.local",password:"demo",role:"manager",is_active:!0,phone:"",birthday:"",pronouns:"",emergency_contact:{name:"",phone:""},attachments:[],notes:""},{id:Ve(),location_id:r.id,full_name:"Owner Olivia",email:"owner@demo.local",password:"demo",role:"owner",is_active:!0,phone:"",birthday:"",pronouns:"",emergency_contact:{name:"",phone:""},attachments:[],notes:""},{id:Ve(),location_id:r.id,full_name:"Lily Adams",email:"lily@example.com",password:"demo",role:"employee",is_active:!0,phone:"",birthday:"",pronouns:"she/her",emergency_contact:{name:"A. Adams",phone:"555-0102"},attachments:[],notes:""},{id:Ve(),location_id:r.id,full_name:"Gavin Reed",email:"gavin@example.com",password:"demo",role:"employee",is_active:!0,phone:"",birthday:"",pronouns:"he/him",emergency_contact:{name:"R. Reed",phone:"555-0103"},attachments:[],notes:""},{id:Ve(),location_id:r.id,full_name:"Riley Brooks",email:"riley@example.com",password:"demo",role:"employee",is_active:!0,phone:"",birthday:"",pronouns:"they/them",emergency_contact:{name:"K. Brooks",phone:"555-0104"},attachments:[],notes:""}],v=Object.fromEntries(o.map(_=>[_.full_name,_])),x=[{id:Ve(),user_id:v["Lily Adams"].id,position_id:h.Scooper.id},{id:Ve(),user_id:v["Gavin Reed"].id,position_id:h.Scooper.id},{id:Ve(),user_id:v["Riley Brooks"].id,position_id:h["Shift Lead"].id}];return{locations:[r],positions:c,users:o,schedules:[],swap_requests:[],swap_offers:[],swap_audit_logs:[],time_off_requests:[],unavailability:[],availability_change_requests:[],news_posts:[],tasks:[],task_templates:[],messages:[],user_qualifications:x,feature_flags:vi()}},lp=()=>{try{const r=localStorage.getItem(cm);if(!r)return Pc();const c=JSON.parse(r);if(c.unavailability||(c.unavailability=[]),c.time_off_requests||(c.time_off_requests=[]),c.availability_change_requests||(c.availability_change_requests=[]),c.news_posts||(c.news_posts=[]),c.tasks||(c.tasks=[]),c.task_templates||(c.task_templates=[]),c.messages||(c.messages=[]),c.feature_flags||(c.feature_flags=vi()),c.feature_flags.weekStartsOn==null&&(c.feature_flags.weekStartsOn=1),c.swap_requests||(c.swap_requests=[]),c.swap_offers||(c.swap_offers=[]),c.swap_audit_logs||(c.swap_audit_logs=[]),c.feature_flags.requireManagerApproval==null&&(c.feature_flags.requireManagerApproval=!0),c.feature_flags.swapCutoffHours==null&&(c.feature_flags.swapCutoffHours=12),c.feature_flags.allowCrossPosition==null&&(c.feature_flags.allowCrossPosition=!1),c.schedules||(c.schedules=[]),c.users=(c.users||[]).map(h=>({phone:"",birthday:"",pronouns:"",emergency_contact:{name:"",phone:""},attachments:[],notes:"",...h,emergency_contact:{name:"",phone:"",...h.emergency_contact||{}}})),c.user_qualifications||(c.user_qualifications=[]),(c.user_qualifications||[]).length===0){const h=[],o={};for(const v of c.positions||[])o[v.location_id]||(o[v.location_id]=[]),o[v.location_id].push(v);for(const v of c.users||[])for(const x of o[v.location_id]||[])h.push({id:Ve(),user_id:v.id,position_id:x.id});c.user_qualifications=h}return c}catch(r){return console.error(r),Pc()}},ap=r=>{const{schedules:c,...h}=r||{};localStorage.setItem(cm,JSON.stringify(h))};function Gt({title:r,right:c,children:h}){return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold",children:r}),s.jsx("div",{children:c})]}),s.jsx("div",{className:"rounded-2xl border p-4 shadow-sm",children:h})]})}function da({children:r,tone:c="default"}){const h=c==="success"?"text-green-700":c==="warn"?"text-amber-700":c==="danger"?"text-red-700":"text-gray-700",o=c==="success"?"bg-green-50 border-green-300":c==="warn"?"bg-amber-50 border-amber-300":c==="danger"?"bg-red-50 border-red-300":"bg-gray-50 border-gray-300";return s.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-xs ${o} ${h}`,children:r})}function np({children:r}){return s.jsx("div",{className:"flex flex-wrap gap-2",children:r})}function Rt({label:r,value:c,onChange:h,type:o="text",placeholder:v}){return s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:r}),s.jsx("input",{type:o,value:c,onChange:x=>h(x.target.value),placeholder:v,className:"rounded-xl border px-3 py-2"})]})}function ip({label:r,value:c,onChange:h,placeholder:o}){return s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:r}),s.jsx("textarea",{value:c,onChange:v=>h(v.target.value),placeholder:o,className:"min-h-[80px] rounded-xl border px-3 py-2"})]})}function ol({label:r,value:c,onChange:h,options:o}){return s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:r}),s.jsx("select",{value:c,onChange:v=>h(v.target.value),className:"rounded-xl border px-3 py-2",children:o.map(v=>s.jsx("option",{value:v.value,children:v.label},v.value))})]})}function gi({label:r,checked:c,onChange:h,hint:o}){return s.jsxs("label",{className:"flex items-start gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:c,onChange:v=>h(v.target.checked),className:"mt-1"}),s.jsxs("span",{children:[s.jsx("span",{className:"font-medium",children:r}),o&&s.jsx("div",{className:"text-xs text-gray-600",children:o})]})]})}function fm({open:r,onClose:c,title:h,children:o,footer:v}){return D.useEffect(()=>{if(!r||typeof document>"u"||!document.body)return;const x=document.body.style.overflow||"";return document.body.style.overflow="hidden",()=>{document.body.style.overflow=x}},[r]),r?s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 p-3",onClick:c,children:s.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-white p-4 shadow-xl",onClick:x=>x.stopPropagation(),children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:h}),s.jsx("button",{className:"rounded-xl border px-2 py-1 text-sm",onClick:c,children:"Close"})]}),s.jsx("div",{className:"space-y-3",children:o}),s.jsx("div",{className:"mt-4 flex justify-end gap-2",children:v})]})}):null}const rm=D.createContext(null),ef=()=>D.useContext(rm);function sp({children:r,data:c,setData:h}){const[o,v]=D.useState(()=>localStorage.getItem("shiftmate_current_user")||null),x=c.users.find(m=>m.id===o)||null,_=(m,w)=>{const B=c.users.find(V=>V.email.toLowerCase()===m.toLowerCase());if(!B)throw new Error("No account found");const R=B.password||"demo";if(w!==R)throw new Error("Wrong password");return localStorage.setItem("shiftmate_current_user",B.id),v(B.id),B},O=()=>{localStorage.removeItem("shiftmate_current_user"),v(null)},E=(m,w=c.locations[0]?.id)=>{const B={id:Ve(),location_id:w,role:"employee",is_active:!0,password:"demo",attachments:[],...m};h(R=>({...R,users:[...R.users,B]}))};return s.jsx(rm.Provider,{value:{currentUser:x,login:_,logout:O,addUser:E},children:r})}function up(){const[r,c]=D.useState(lp),[h,o]=D.useState("loc1"),v=nt(sl(gn(),1)),[x,_]=D.useState(v),[O,E]=D.useState({open:!1,preUserId:null,preDay:null}),[m,w]=D.useState(!1),B=r.locations.find(M=>M.id===h)||r.locations[0],R=r.users.filter(M=>M.location_id===B.id&&M.is_active),V=r.positions.filter(M=>M.location_id===B.id),ae=D.useMemo(()=>Object.fromEntries(V.map(M=>[M.id,M])),[V]);D.useEffect(()=>{c(M=>({...M,unavailability:M.unavailability||[],news_posts:M.news_posts||[],tasks:M.tasks||[],task_templates:M.task_templates||[],messages:M.messages||[],feature_flags:M.feature_flags||vi(),users:(M.users||[]).map(G=>({phone:"",birthday:"",pronouns:"",emergency_contact:{name:"",phone:""},attachments:[],notes:"",...G,emergency_contact:{name:"",phone:"",...G.emergency_contact||{}}}))}))},[]),D.useEffect(()=>{const M=(r.feature_flags||vi()).weekStartsOn??1;_(G=>nt(sl(G,M)))},[]);const L=D.useMemo(()=>(r.schedules||[]).find(M=>M.location_id===B.id&&M.week_start===x),[r.schedules,B.id,x]),ee=D.useMemo(()=>{const M=He(x);return Array.from({length:7},(G,X)=>{const q=new Date(M);return q.setDate(q.getDate()+X),q})},[x]);D.useEffect(()=>{ap(r)},[r]);const ye=async()=>{if(L)return L;const M=il(),G=B.id,X=x;if(M)try{const J=new URLSearchParams({locationId:G,weekStart:X});try{const me=await $t(`/api/schedules?${J.toString()}`);if(me&&me.schedule){const We=me.schedule;return c(oe=>{const wt=(oe.schedules||[]).filter(_e=>_e.id!==We.id);return{...oe,schedules:[...wt,We]}}),We}}catch(me){me&&me.status===404||console.warn("ensureSchedule load error",me)}const ve=await $t("/api/schedules",{method:"POST",body:{locationId:G,weekStart:X}});if(ve&&ve.schedule){const me=ve.schedule;return c(We=>({...We,schedules:[...We.schedules||[],me]})),me}}catch(J){console.warn("ensureSchedule API failed, falling back to local schedule",J)}const q={id:Ve(),location_id:G,week_start:X,status:"draft",shifts:[]};return c(J=>({...J,schedules:[...J.schedules||[],q]})),q},ne=M=>{c(G=>{const X=G.schedules||[];return{...G,schedules:X.map(q=>q.location_id===B.id&&q.week_start===x?M(q):q)}})},ue=(M,G)=>{const X=nt(G),q=He(G).getDay();return(r.unavailability||[]).filter(J=>J.user_id===M&&(J.kind==="date"&&J.date===X||J.kind==="weekly"&&J.weekday===q))};D.useEffect(()=>{L||ye()},[B.id,x,L]);const te=(M,G,X,q)=>{const J=xl(X),ve=xl(q);return ve>J?ue(M,G).filter(We=>Iy(J,ve,xl(We.start_hhmm),xl(We.end_hhmm))):[]},K=(M,G)=>{const X=nt(G);return(r.time_off_requests||[]).filter(q=>q.user_id===M&&tp(X,q.date_from,q.date_to))},Ne=(M,G)=>K(M,G).filter(q=>q.status==="pending"||q.status==="approved"),qe=async M=>{const G=xl(M.start_hhmm);if(!(xl(M.end_hhmm)>G)){alert("End time must be after start time.");return}if(il()&&M.kind==="weekly")try{const J={user_id:M.user_id,weekday:M.weekday,start_hhmm:M.start_hhmm,end_hhmm:M.end_hhmm,notes:M.notes||""},ve=await $t("/api/availability",{method:"POST",body:J}),me=ve&&ve.row;if(me){const We={id:me.id,user_id:me.user_id,kind:"weekly",weekday:me.weekday,start_hhmm:me.start_hhmm,end_hhmm:me.end_hhmm,notes:me.notes||""};c(oe=>({...oe,unavailability:[We,...oe.unavailability||[]]}));return}}catch(J){console.warn("addUnavailability API failed, falling back to local",J)}c(J=>({...J,unavailability:[{id:Ve(),...M},...J.unavailability||[]]}))},fe=async M=>{if(il()&&M.kind==="weekly"&&M.id)try{const X={weekday:M.weekday,start_hhmm:M.start_hhmm,end_hhmm:M.end_hhmm,notes:M.notes||""},q=await $t(`/api/availability/${encodeURIComponent(M.id)}`,{method:"PATCH",body:X}),J=q&&q.row;if(J){const ve={id:J.id,user_id:J.user_id,kind:"weekly",weekday:J.weekday,start_hhmm:J.start_hhmm,end_hhmm:J.end_hhmm,notes:J.notes||""};c(me=>({...me,unavailability:(me.unavailability||[]).map(We=>We.id===M.id?ve:We)}));return}}catch(X){console.warn("updateUnavailability API failed, falling back to local",X)}c(X=>({...X,unavailability:(X.unavailability||[]).map(q=>q.id===M.id?{...q,...M}:q)}))},Se=async M=>{if(il()&&M)try{await $t(`/api/availability/${encodeURIComponent(M)}`,{method:"DELETE"})}catch(X){console.warn("deleteUnavailability API failed, falling back to local",X)}c(X=>({...X,unavailability:(X.unavailability||[]).filter(q=>q.id!==M)}))},F=ef(),ie=F?.currentUser?.id||null,Q=F?.currentUser?.role||"employee",Ce=async({user_id:M,position_id:G,day:X,start_hhmm:q,end_hhmm:J,break_min:ve,notes:me,quickTaskTitle:We,quickTaskTemplateId:oe})=>{const Fe=xl(q);if(!(xl(J)>Fe)){alert("End time must be after start time.");return}const _e=te(M,X,q,J);if(_e.length){const Ie=_e.slice(0,3).map(Xe=>`${Xe.kind==="weekly"?"Weekly":Xe.date}: ${Xe.start_hhmm}${Xe.end_hhmm}${Xe.notes?"  "+Xe.notes:""}`).join(`
`);if(!confirm(`This shift overlaps with unavailability:
${Ie}

Schedule anyway?`))return}const tt=Ne(M,X);if(tt.length){const Ie=tt.slice(0,3).map(Xe=>`${Xe.date_from}${Xe.date_to} (${Xe.status})${Xe.notes?"  "+Xe.notes:""}`).join(`
`);if(!confirm(`This shift falls during time off:
${Ie}

Schedule anyway?`))return}const jt=Cs(X,q),ut=Cs(X,J),Yl={position_id:G,user_id:M,starts_at:jt.toISOString(),ends_at:ut.toISOString(),break_min:Number(ve||0),notes:me||""};let ha={id:Ve(),...Yl};if(il())try{const Ie=L||await ye(),Qe=await $t("/api/shifts",{method:"POST",body:{...Yl,scheduleId:Ie.id}});Qe&&Qe.shift&&(ha=Qe.shift)}catch(Ie){console.warn("createShift API error, falling back to local state only",Ie),L||await ye()}else L||await ye();if(c(Ie=>{const Qe=Ie.schedules||[];return{...Ie,schedules:Qe.map(Xe=>Xe.location_id===B.id&&Xe.week_start===x?{...Xe,shifts:[...Xe.shifts||[],ha]}:Xe)}}),oe){const Ie=r.task_templates.find(Qe=>Qe.id===oe);Ie&&Ge(Ie.title,M,nt(X),ie||M)}else We&&We.trim()&&Ge(We.trim(),M,nt(X),ie||M)},be=async M=>{if(!L)return;if(il())try{await $t(`/api/shifts/${encodeURIComponent(M)}`,{method:"DELETE"})}catch(X){console.warn("deleteShift API error, applying local state only",X)}ne(X=>({...X,shifts:(X.shifts||[]).filter(q=>q.id!==M)}))},Re=async({id:M,user_id:G,position_id:X,day:q,start_hhmm:J,end_hhmm:ve,break_min:me,notes:We})=>{if(!L)return;const oe=xl(J);if(!(xl(ve)>oe)){alert("End time must be after start time.");return}const wt=te(G,q,J,ve);if(wt.length){const Mt=wt.slice(0,3).map(Qe=>(Qe.kind==="weekly"?"Weekly":Qe.date)+": "+(Qe.start_hhmm??"")+""+(Qe.end_hhmm??"")+(Qe.notes?"  "+Qe.notes:"")).join(`
`);if(!confirm(`This shift overlaps with unavailability:
${Mt}

Save anyway?`))return}const _e=Ne(G,q);if(_e.length){const Mt=_e.slice(0,3).map(Qe=>Qe.date_from+""+Qe.date_to+" ("+Qe.status+")"+(Qe.notes?"  "+Qe.notes:"")).join(`
`);if(!confirm(`This shift falls during time off:
${Mt}

Save anyway?`))return}const tt=Cs(q,J),jt=Cs(q,ve),ut={user_id:G,position_id:X,starts_at:tt.toISOString(),ends_at:jt.toISOString(),break_min:Number(me||0),notes:We||""};let Yl={id:M,...ut};if(il())try{const Mt=await $t(`/api/shifts/${encodeURIComponent(M)}`,{method:"PATCH",body:ut});Mt&&Mt.shift&&(Yl=Mt.shift)}catch(Mt){console.warn("updateShift API error, updating local state only",Mt)}ne(Mt=>({...Mt,shifts:(Mt.shifts||[]).map(Ie=>Ie.id===M?{...Ie,...Yl}:Ie)}))},N=M=>{if(!L)return;const G=L.shifts.find(ve=>ve.id===M);if(!G)return;const X=Fy(G.starts_at),q=zs(G.starts_at),J=zs(G.ends_at);Ce({user_id:G.user_id,position_id:G.position_id,day:X,start_hhmm:q,end_hhmm:J,break_min:G.break_min,notes:G.notes})},k=(M,G,X)=>{if(!L)return;const q=L.shifts.find(me=>me.id===M);if(!q)return;const J=zs(q.starts_at),ve=zs(q.ends_at);Re({id:q.id,user_id:G,position_id:q.position_id,day:X,start_hhmm:J,end_hhmm:ve,break_min:q.break_min,notes:q.notes})},re=async()=>{if(!L)return;const M=L.status==="draft"?"published":"draft";let G={...L,status:M};if(il())try{const q=await $t(`/api/schedules/${encodeURIComponent(L.id)}`,{method:"PATCH",body:{status:M}});q&&q.schedule&&(G=q.schedule)}catch(q){console.warn("publish API error, toggling status locally only",q)}c(q=>({...q,schedules:(q.schedules||[]).map(J=>J.id===L.id?{...J,...G}:J)}))},Ye=D.useMemo(()=>{const M=Object.fromEntries(R.map(G=>[G.id,0]));if(!L)return M;for(const G of L.shifts)M[G.user_id]=(M[G.user_id]||0)+Rs(G.starts_at,G.ends_at,G.break_min);return M},[L,R]),y=D.useMemo(()=>{const M=Object.fromEntries(ee.map(G=>[nt(G),0]));if(!L)return M;for(const G of L.shifts){const X=nt(G.starts_at);M[X]=(M[X]||0)+Rs(G.starts_at,G.ends_at,G.break_min)}return M},[L,ee]),Y=()=>{if(!L)return;const G=[["Week Start","Status","Employee","Position","Date","Start","End","Break (min)","Hours","Notes"]];for(const q of L.shifts){const J=r.users.find(me=>me.id===q.user_id),ve=ae[q.position_id];G.push([L.week_start,L.status,J?.full_name||"",ve?.name||"",nt(q.starts_at),qs(q.starts_at),qs(q.ends_at),q.break_min,Rs(q.starts_at,q.ends_at,q.break_min).toFixed(2),(q.notes||"").replaceAll(",",";")])}const X=G.map(q=>q.map(J=>`"${String(J).replaceAll('"','""')}"`).join(",")).join(`
`);ep(`ShiftMate_${L.week_start}.csv`,X)},I=async()=>{if(!L)return;const G=[["Employee","Date","Start","End","Break","Role","Hours"]];for(const q of L.shifts){const J=r.users.find(me=>me.id===q.user_id),ve=ae[q.position_id];G.push([J?.full_name||"",nt(q.starts_at),qs(q.starts_at),qs(q.ends_at),q.break_min,ve?.name||"",Rs(q.starts_at,q.ends_at,q.break_min).toFixed(2)])}const X=G.map(q=>q.join(",")).join(`
`);try{await navigator.clipboard.writeText(X),alert("CSV copied to clipboard")}catch{alert("Copy failed. Try Download instead.")}},$=()=>{if(!confirm("Reset demo data? This cannot be undone."))return;const M=Pc();c(M),_(nt(sl(gn(),M.feature_flags.weekStartsOn))),localStorage.removeItem("shiftmate_current_user")},de=async({user_id:M,date_from:G,date_to:X,notes:q})=>{if(il())try{const me={date_from:G,date_to:X,notes:q||""};M&&ie&&M!==ie&&(Q==="manager"||Q==="owner")&&(me.user_id=M);const We=await $t("/api/time-off",{method:"POST",body:me}),oe=We&&We.request;if(oe){c(Fe=>({...Fe,time_off_requests:[oe,...Fe.time_off_requests||[]]}));return}}catch(me){console.warn("createTimeOff API failed, falling back to local",me)}const ve={id:Ve(),user_id:M,date_from:G,date_to:X,notes:q||"",status:"pending",created_at:new Date().toISOString()};c(me=>({...me,time_off_requests:[ve,...me.time_off_requests||[]]}))},ze=async(M,G)=>{if(il())try{const q=await $t(`/api/time-off/${encodeURIComponent(M)}`,{method:"PATCH",body:{status:G}}),J=q&&q.request;if(J){c(ve=>({...ve,time_off_requests:(ve.time_off_requests||[]).map(me=>me.id===M?J:me)}));return}}catch(q){console.warn("setTimeOffStatus API failed, falling back to local",q)}c(q=>({...q,time_off_requests:(q.time_off_requests||[]).map(J=>J.id===M?{...J,status:G}:J)}))},xe=(M,G,X)=>{const q=String(G||"").trim(),J=String(X||"").trim();if(!q&&!J)return;const ve={id:Ve(),user_id:M,pattern:q,note:J,created_at:new Date().toISOString()};c(me=>({...me,availability_change_requests:[ve,...me.availability_change_requests||[]]}))},xt=(M,G)=>{const X={id:Ve(),user_id:M,body:G.trim(),created_at:new Date().toISOString()};X.body&&c(q=>({...q,news_posts:[X,...q.news_posts]}))},Ge=(M,G,X,q)=>{const J={id:Ve(),title:M.trim(),assigned_to:G,due_date:X,status:"open",created_by:q};if(!J.title||!G)return alert("Task needs a title and assignee");c(ve=>({...ve,tasks:[J,...ve.tasks]}))},zt=(M,G)=>c(X=>({...X,tasks:X.tasks.map(q=>q.id===M?{...q,status:G}:q)})),St=M=>c(G=>({...G,tasks:G.tasks.filter(X=>X.id!==M)})),st=M=>c(G=>({...G,task_templates:[{id:Ve(),title:M.trim()},...G.task_templates]})),Bl=M=>c(G=>({...G,task_templates:G.task_templates.filter(X=>X.id!==M)})),P=(M,G,X)=>{const q={id:Ve(),from_user_id:M,to_user_id:G,body:X.trim(),created_at:new Date().toISOString()};q.body&&c(J=>({...J,messages:[...J.messages,q]}))},ma=M=>c(G=>({...G,users:[...G.users,{id:Ve(),location_id:G.locations[0]?.id||"loc1",role:M.role||"employee",is_active:!0,password:"demo",attachments:M.attachments||[],...M}]}));return s.jsx(Jy,{children:s.jsx(sp,{data:r,setData:c,children:s.jsx(cp,{data:r,setData:c,locationId:h,setLocationId:o,weekStart:x,setWeekStart:_,users:R,positions:V,positionsById:ae,weekDays:ee,schedule:L,ensureSchedule:ye,createShift:Ce,updateShift:Re,deleteShift:be,handleDuplicateShift:N,moveShift:k,publish:re,totalHoursByUser:Ye,totalHoursByDay:y,copyCsv:I,exportCsv:Y,resetDemo:$,shiftModal:O,setShiftModal:E,addEmployee:ma,addPosition:M=>c(G=>({...G,positions:[...G.positions,{id:Ve(),location_id:B.id,name:M}]})),createTimeOff:de,setTimeOffStatus:ze,addAvailabilityChangeRequest:xe,addUnavailability:qe,updateUnavailability:fe,deleteUnavailability:Se,unavailability:r.unavailability||[],addPost:xt,addTask:Ge,setTaskStatus:zt,deleteTask:St,addTemplate:st,deleteTemplate:Bl,sendMessage:P,dense:m,setDense:w})})})}function cp(r){const{data:c,setData:h,locationId:o,setLocationId:v,weekStart:x,setWeekStart:_,users:O,positions:E,positionsById:m,weekDays:w,schedule:B,ensureSchedule:R,createShift:V,updateShift:ae,deleteShift:L,handleDuplicateShift:ee,moveShift:ye,publish:ne,totalHoursByUser:ue,totalHoursByDay:te,copyCsv:K,exportCsv:Ne,resetDemo:qe,shiftModal:fe,setShiftModal:Se,addEmployee:F,addPosition:ie,createTimeOff:Q,setTimeOffStatus:Ce,addAvailabilityChangeRequest:be,addUnavailability:Re,updateUnavailability:N,deleteUnavailability:k,unavailability:re,addPost:Ye,addTask:y,setTaskStatus:Y,deleteTask:I,addTemplate:$,deleteTemplate:de,sendMessage:ze,dense:xe,setDense:xt}=r,Ge=!!xe,{path:zt,navigate:St}=im(),{name:st,params:Bl}=D.useMemo(()=>qy(zt),[zt]),{currentUser:P,logout:ma}=ef(),G=(P?.role||"employee")==="employee",X="shiftmate_schedule_view",[q,J]=D.useState(()=>localStorage.getItem(X)||"my");D.useEffect(()=>{try{localStorage.setItem(X,q)}catch{}},[q]);const[ve,me]=D.useState("timeoff");D.useEffect(()=>{if(!P)return;localStorage.getItem(X)||J(G?"my":"full")},[P,G]);const We=!P,oe=c.feature_flags||vi(),Fe=!G,wt=O,_e=D.useMemo(()=>st==="my"?"schedule":["schedule","dashboard","employees","availability","feed","tasks","messages","requests","settings"].includes(st)?st:"schedule",[st]);D.useEffect(()=>{if(!P){st!=="login"&&St("/login",{replace:!0});return}(st==="login"||st==="root"||st==="unknown")&&((P.role||"employee")==="employee"?St("/my",{replace:!0}):x&&St(`/schedule/${x}`,{replace:!0}))},[P,st,St,x]),D.useEffect(()=>{if(!P)return;const b=P.role||"employee";st==="dashboard"&&b==="employee"&&St("/my",{replace:!0})},[P,st,St]),D.useEffect(()=>{if(st!=="schedule")return;const b=Bl.week;b&&_(z=>z===b?z:b)},[st,Bl.week,_]),D.useEffect(()=>{if(!(!P||(P.role||"employee")==="employee")&&st==="schedule"){const z=`/schedule/${x}`;z!==zt&&St(z,{replace:!0})}},[P,st,x,zt,St]),D.useEffect(()=>{if(!il()||!P)return;let z=!1;return(async()=>{try{const Z=await $t("/api/time-off");!z&&Z&&Array.isArray(Z.data)&&h(W=>({...W,time_off_requests:Z.data}))}catch(Z){console.warn("time-off API error; keeping local state",Z)}})(),()=>{z=!0}},[P?.id,h]),D.useEffect(()=>{if(!il()||!P||!oe.unavailabilityEnabled)return;let z=!1;return(async()=>{try{const Z=new URLSearchParams;P.role==="employee"&&Z.set("userId",P.id);const W=Z.toString(),je=await $t(`/api/availability${W?`?${W}`:""}`);if(!z&&je&&Array.isArray(je.data)){const se=je.data.map(Ae=>({id:Ae.id,user_id:Ae.user_id,kind:"weekly",weekday:Ae.weekday,start_hhmm:Ae.start_hhmm,end_hhmm:Ae.end_hhmm,notes:Ae.notes||""}));h(Ae=>({...Ae,unavailability:se}))}}catch(Z){console.warn("availability API error; keeping local state",Z)}})(),()=>{z=!0}},[P?.id,P?.role,oe.unavailabilityEnabled,h]);const tt=b=>_(z=>nt(sl(Wy(z,b*7),oe.weekStartsOn))),jt=new Set(["open","offered","manager_pending"]),ut=()=>new Date().toISOString(),[Yl,ha]=D.useState({open:!1,shiftId:null}),[Mt,Ie]=D.useState({open:!1,requestId:null}),[Qe,Xe]=D.useState({open:!1,shift:null}),gl=D.useMemo(()=>{const b={};for(const z of c.swap_requests||[])jt.has(z.status)&&(b[z.shift_id]||(b[z.shift_id]={}),z.type==="give"&&(b[z.shift_id].give=!0),z.type==="trade"&&(b[z.shift_id].trade=!0,z.target_shift_id&&(b[z.target_shift_id]||(b[z.target_shift_id]={}),b[z.target_shift_id].trade=!0)));return b},[c.swap_requests]),vl=b=>{kl({shiftId:b,type:"give"})},bn=(b,z)=>{z&&kl({shiftId:b,type:"trade",targetShiftId:z})},_n=D.useMemo(()=>(c.schedules||[]).flatMap(b=>(b.shifts||[]).map(z=>({...z,__schedule_id:b.id,__location_id:b.location_id}))),[c.schedules]),Gl=b=>_n.find(z=>z.id===b)||null,qa=b=>{const z=Number(oe.swapCutoffHours||0);return(He(b.starts_at)-new Date)/36e5>=z},bl=(b,z,Z,W=[])=>{const je=He(z).getTime(),se=He(Z).getTime();for(const Ae of _n){if(Ae.user_id!==b||W.includes(Ae.id))continue;const Ot=He(Ae.starts_at).getTime(),lt=He(Ae.ends_at).getTime();if(Math.max(je,Ot)<Math.min(se,lt))return!0}return!1},ya=(b,z)=>(c.user_qualifications||[]).some(Z=>Z.user_id===b&&Z.position_id===z),bi=(b,z,Z,W)=>b.position_id===z.position_id?!0:oe.allowCrossPosition?ya(Z,z.position_id)&&ya(W,b.position_id):!1,kt=(b,z,Z,W,je={})=>{const se={id:Ve(),swap_id:b,kind:z,actor_id:Z,action:W,meta:je,created_at:ut()};h(Ae=>({...Ae,swap_audit_logs:[...Ae.swap_audit_logs,se]}))},Sn=()=>{const b=new Date;h(z=>({...z,swap_requests:z.swap_requests.map(Z=>(Z.status==="open"||Z.status==="offered")&&Z.expires_at&&He(Z.expires_at)<=b?(kt(Z.id,"request",P.id,"expire",{reason:"expires_at passed"}),{...Z,status:"expired"}):Z)}))};D.useEffect(()=>{P&&Sn()},[P]);const kl=({shiftId:b,type:z,message:Z,expiresAt:W,targetShiftId:je})=>{const se=Gl(b);if(!se)return alert("Shift not found");if(se.user_id!==P.id)return alert("You can only request a swap for your own shift");if(!qa(se))return alert(`Swaps must be requested ${oe.swapCutoffHours}h before start`);if((c.swap_requests||[]).some(lt=>lt.shift_id===b&&jt.has(lt.status)))return alert("This shift already has an active swap request");const Ot={id:Ve(),shift_id:b,requester_id:P.id,type:z,status:"open",message:Z||"",created_at:ut(),expires_at:W||null};z==="trade"&&je&&(Ot.target_shift_id=je),h(lt=>({...lt,swap_requests:[Ot,...lt.swap_requests]})),kt(Ot.id,"request",P.id,"create",{type:z,message:Z,target_shift_id:je||null}),ha({open:!1,shiftId:null})},jn=b=>{const z=(c.swap_requests||[]).find(Z=>Z.id===b);if(z){if(z.requester_id!==P.id)return alert("Only the requester can cancel");if(!jt.has(z.status))return alert("Request is no longer active");h(Z=>({...Z,swap_requests:Z.swap_requests.map(W=>W.id===b?{...W,status:"canceled"}:W)})),kt(z.id,"request",P.id,"cancel",{})}},za=({requestId:b,offerShiftId:z=null})=>{const Z=(c.swap_requests||[]).find(se=>se.id===b);if(!Z)return alert("Request not found");if(!jt.has(Z.status))return alert("Request is not open");const W=Gl(Z.shift_id);if(!W)return alert("Base shift not found");if(P.id===Z.requester_id)return alert("You cannot offer on your own request");if(!qa(W))return alert("Shift is within cutoff");if(!positionMatchesOrAllowed(W.position_id,z?Gl(z)?.position_id:W.position_id))return alert("Position mismatch (cross-train disabled)");if(!z&&bl(P.id,W.starts_at,W.ends_at,[]))return alert("Offer would overlap your existing shift");if(Z.type==="trade"){if(!z)return alert("Choose one of your shifts to trade");const se=Gl(z);if(!se||se.user_id!==P.id)return alert("Invalid trade shift");if(!bi(W,se,Z.requester_id,P.id))return alert("Trade not allowed by cross-train/qualification rules");const Ae=bl(Z.requester_id,se.starts_at,se.ends_at,[Z.shift_id]),Ot=bl(P.id,W.starts_at,W.ends_at,[z]);if(Ae||Ot)return alert("Trade would create an overlap")}const je={id:Ve(),request_id:b,offerer_id:P.id,offer_shift_id:z||null,status:"proposed",created_at:ut()};h(se=>({...se,swap_offers:[je,...se.swap_offers],swap_requests:se.swap_requests.map(Ae=>Ae.id===b?{...Ae,status:"offered"}:Ae)})),kt(je.id,"offer",P.id,"offer",{offer_shift_id:z}),Ie({open:!1,requestId:null})},ul=b=>{const z=(c.swap_offers||[]).find(Z=>Z.id===b);if(z){if(z.offerer_id!==P.id)return alert("Only the offerer can withdraw");h(Z=>({...Z,swap_offers:Z.swap_offers.map(W=>W.id===b?{...W,status:"withdrawn"}:W)})),kt(z.id,"offer",P.id,"withdraw",{})}},ht=(b,z)=>{const Z=(c.swap_requests||[]).find(se=>se.id===b),W=(c.swap_offers||[]).find(se=>se.id===z);if(!Z||!W)return alert("Missing items");if(!Gl(Z.shift_id))return alert("Base shift missing");h(se=>{const Ae=se.schedules.map(Me=>({...Me,shifts:[...Me.shifts]})),Ot=Me=>{for(const Ql of Ae){const Xl=Ql.shifts.findIndex(Sl=>Sl.id===Me);if(Xl>=0)return{s:Ql,i:Xl}}return null},lt=Ot(Z.shift_id);if(!lt)return se;if(Z.type==="give")lt.s.shifts[lt.i]={...lt.s.shifts[lt.i],user_id:W.offerer_id};else{const Me=Ot(W.offer_shift_id);if(!Me)return se;const Ql=lt.s.shifts[lt.i],Xl=Me.s.shifts[Me.i];lt.s.shifts[lt.i]={...Ql,user_id:Xl.user_id},Me.s.shifts[Me.i]={...Xl,user_id:Ql.user_id}}return{...se,schedules:Ae,swap_requests:se.swap_requests.map(Me=>Me.id===b?{...Me,status:"approved"}:Me),swap_offers:se.swap_offers.map(Me=>Me.id===z?{...Me,status:"accepted"}:Me)}}),kt(b,"request",P.id,"apply",{offer_id:z})},Nt=b=>{const z=(c.swap_offers||[]).find(W=>W.id===b);if(!z)return;const Z=(c.swap_requests||[]).find(W=>W.id===z.request_id);if(Z){if(Z.requester_id!==P.id)return alert("Only the requester can accept");oe.requireManagerApproval?(h(W=>({...W,swap_requests:W.swap_requests.map(je=>je.id===Z.id?{...je,status:"manager_pending"}:je)})),kt(Z.id,"request",P.id,"accept",{offer_id:b,manager_pending:!0})):(kt(Z.id,"request",P.id,"accept",{offer_id:b,manager_pending:!1}),ht(Z.id,b))}},_l=b=>{if(!(c.swap_requests||[]).find(se=>se.id===b))return;const Z=(c.swap_offers||[]).find(se=>se.request_id===b&&se.status==="proposed"),je=[...c.swap_audit_logs].reverse().find(se=>se.kind==="request"&&se.swap_id===b&&se.action==="accept")?.meta?.offer_id||Z?.id;if(!je)return alert("No offer to approve");kt(b,"request",P.id,"approve",{offer_id:je}),ht(b,je)},Ca=b=>{h(z=>({...z,swap_requests:z.swap_requests.map(Z=>Z.id===b?{...Z,status:"declined"}:Z)})),kt(b,"request",P.id,"decline",{})};return We?s.jsx(dp,{onAfterLogin:b=>{(b?.role||"employee")==="employee"?St("/my",{replace:!0}):x?St(`/schedule/${x}`,{replace:!0}):St("/",{replace:!0})}}):s.jsxs("div",{className:"mx-auto max-w-6xl space-y-6 p-4",children:[s.jsx($y,{}),s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"grid place-items-center rounded-2xl border bg-white p-2 shadow-sm",children:s.jsx("div",{className:"h-8 w-8 rounded-xl border"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-black",children:"ShiftMate"}),s.jsx("div",{className:"text-sm text-gray-600",children:Fe?"Manager Console":"My Shifts"})]})]}),s.jsxs(np,{children:[s.jsxs("div",{className:"hidden sm:flex items-center gap-2 rounded-xl border px-3 py-2 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Location"}),s.jsx("select",{className:"outline-none",value:o,onChange:b=>v(b.target.value),children:c.locations.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2 rounded-xl border px-3 py-2 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Week"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Prev week",onClick:()=>tt(-1),children:""}),s.jsx("input",{type:"date",value:x,onChange:b=>_(nt(sl(b.target.value,oe.weekStartsOn))),className:"outline-none"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Jump to current week",onClick:()=>_(nt(sl(gn(),oe.weekStartsOn))),children:"Today"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Next week",onClick:()=>tt(1),children:""})]}),s.jsxs("label",{className:"hidden sm:flex items-center gap-2 rounded-xl border px-3 py-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:Ge,onChange:b=>xt&&xt(b.target.checked)}),"Compact"]}),s.jsxs("div",{className:"rounded-xl border px-3 py-2 text-sm",children:[P.full_name," ",s.jsxs("span",{className:"text-gray-500",children:["(",P.role,")"]})]}),s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm shadow-sm",onClick:ma,children:"Logout"})]})]}),s.jsxs("nav",{className:"flex flex-wrap gap-2",children:[Fe&&s.jsxs(s.Fragment,{children:[s.jsx(_t,{id:"schedule",tab:_e,label:"Schedule",to:`/schedule/${x}`}),s.jsx(_t,{id:"dashboard",tab:_e,label:"Dashboard",to:"/dashboard"}),s.jsx(_t,{id:"employees",tab:_e,label:"Employees",to:"/employees"}),oe.unavailabilityEnabled&&s.jsx(_t,{id:"availability",tab:_e,label:"Availability",to:"/availability"}),oe.newsfeedEnabled&&s.jsx(_t,{id:"feed",tab:_e,label:"Feed",to:"/feed"}),oe.tasksEnabled&&s.jsx(_t,{id:"tasks",tab:_e,label:"Tasks",to:"/tasks"}),oe.messagesEnabled&&s.jsx(_t,{id:"messages",tab:_e,label:"Messages",to:"/messages"}),s.jsx(_t,{id:"requests",tab:_e,label:`Requests (${(c.time_off_requests||[]).filter(b=>b.status==="pending").length+(c.swap_requests||[]).filter(b=>["open","offered","manager_pending"].includes(b.status)).length})`,to:"/requests"}),s.jsx(_t,{id:"settings",tab:_e,label:"Settings",to:"/settings"})]}),!Fe&&s.jsxs(s.Fragment,{children:[s.jsx(_t,{id:"schedule",tab:_e,label:"Schedule",to:"/my"}),oe.unavailabilityEnabled&&s.jsx(_t,{id:"availability",tab:_e,label:"Availability",to:"/availability"}),oe.newsfeedEnabled&&s.jsx(_t,{id:"feed",tab:_e,label:"Feed",to:"/feed"}),oe.tasksEnabled&&s.jsx(_t,{id:"tasks",tab:_e,label:"Tasks",to:"/tasks"}),oe.messagesEnabled&&s.jsx(_t,{id:"messages",tab:_e,label:"Messages",to:"/messages"}),s.jsx(_t,{id:"requests",tab:_e,label:`Requests (${(c.time_off_requests||[]).filter(b=>b.user_id===P.id&&b.status==="pending").length+(c.swap_requests||[]).filter(b=>b.requester_id===P.id&&!["approved","declined","canceled","expired"].includes(b.status)).length})`,to:"/requests"})]})]}),Fe&&_e==="dashboard"&&s.jsx(Gt,{title:"Dashboard",right:s.jsx("div",{className:"text-sm text-gray-600",children:"Location overview"}),children:s.jsx(vp,{data:c,users:O,currentUser:P})}),Fe&&_e==="schedule"&&s.jsxs(Gt,{title:`Week of ${He(x).toLocaleDateString()}`,right:s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[B?s.jsxs(da,{children:["Status: ",s.jsx("span",{className:`ml-1 font-semibold ${B.status==="published"?"text-green-700":"text-amber-700"}`,children:B.status})]}):s.jsx(da,{children:"Draft (no schedule yet)"}),s.jsxs("div",{className:"inline-flex rounded-full border p-1 text-xs",children:[s.jsx("button",{className:`px-3 py-1 rounded-full ${q==="my"?"bg-black text-white":""}`,onClick:()=>J("my"),children:"My Schedule"}),s.jsx("button",{className:`px-3 py-1 rounded-full ${q==="full"?"bg-black text-white":""}`,onClick:()=>J("full"),children:"Full Schedule"})]})]}),s.jsx("div",{className:"text-xs text-gray-500",children:q==="my"?"Viewing: My Schedule":"Viewing: Full Schedule"})]}),children:[s.jsxs("div",{className:"mt-3 mb-4 flex items-center justify-between gap-2 sm:hidden text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-600",children:"Week"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Previous week",onClick:()=>tt(-1),children:""}),s.jsx("input",{type:"date",value:x,onChange:b=>_(nt(sl(b.target.value,oe.weekStartsOn))),className:"rounded-lg border px-2 py-1 text-sm"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Next week",onClick:()=>tt(1),children:""})]}),s.jsx("button",{className:"rounded-lg border px-2 py-1 text-sm",onClick:()=>_(nt(sl(gn(),oe.weekStartsOn))),children:"Today"})]}),wt.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"Add employees first."}):q==="my"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Id,{currentUser:P,schedule:B,weekDays:w,positionsById:m,users:O,swapIndicators:gl,onOfferGiveaway:vl,onProposeTrade:bn})}),s.jsx("div",{className:"block md:hidden mt-3",children:s.jsx(Ds,{role:"manager",mode:"my",weekDays:w,shifts:B?.shifts||[],employees:wt,currentUserId:P.id,positionsById:m})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Fc,{employees:wt,weekDays:w,shifts:B?.shifts||[],positionsById:m,unavailability:re,timeOffList:c.time_off_requests,showTimeOffChips:oe.showTimeOffOnSchedule,onCreate:(b,z)=>Se({open:!0,preUserId:b,preDay:z}),onDelete:L,onEdit:b=>Xe({open:!0,shift:b}),swapIndicators:gl,allowCrossPosition:oe.allowCrossPosition,isQualified:ya,useDense:Ge,onDuplicate:ee,onMoveShift:ye,cleanUI:!0})}),s.jsx("div",{className:"block md:hidden mt-3",children:s.jsx(Ds,{role:"manager",mode:"full",weekDays:w,shifts:B?.shifts||[],employees:wt,currentUserId:P.id,positionsById:m})})]}),B&&s.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Total hours by employee"}),s.jsx("ul",{className:"space-y-1 text-sm",children:wt.map(b=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:b.full_name}),s.jsxs("span",{className:"tabular-nums",children:[(ue[b.id]||0).toFixed(2)," h"]})]},b.id))})]}),s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Total hours by day"}),s.jsx("ul",{className:"space-y-1 text-sm",children:w.map(b=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:Py(b)}),s.jsxs("span",{className:"tabular-nums",children:[(te[nt(b)]||0).toFixed(2)," h"]})]},String(b)))})]})]}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx("button",{disabled:!B,className:`rounded-xl border px-3 py-2 text-sm shadow-sm ${B?.status==="published"?"bg-green-50":""}`,onClick:ne,children:B?.status==="published"?"Unpublish":"Publish"}),s.jsx("button",{disabled:!B,className:"rounded-xl border px-3 py-2 text-sm shadow-sm",onClick:K,children:"Copy CSV"}),s.jsx("button",{disabled:!B,className:"rounded-xl border px-3 py-2 text-sm shadow-sm",onClick:Ne,children:"Download CSV"}),s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm shadow-sm",onClick:qe,children:"Reset Demo"})]})]}),Fe&&_e==="employees"&&s.jsx(Gt,{title:"Employees",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-[1fr,2fr]",children:[s.jsx(fp,{onAdd:F}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Active employees"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[O.map(b=>s.jsxs("li",{className:"grid gap-2 p-3 sm:grid-cols-[1fr_auto] sm:items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[b.full_name," ",b.pronouns?s.jsxs("span",{className:"text-xs text-gray-500",children:["(",b.pronouns,")"]}):null]}),s.jsxs("div",{className:"text-xs text-gray-600",children:[b.email,b.phone?`  ${b.phone}`:"",b.birthday?`  Birthday: ${b.birthday}`:""]}),b.emergency_contact?.name&&s.jsxs("div",{className:"text-xs text-gray-600",children:["Emergency: ",b.emergency_contact.name," ",b.emergency_contact.phone?`(${b.emergency_contact.phone})`:""]}),b.notes&&s.jsxs("div",{className:"text-xs text-gray-600",children:["Notes: ",b.notes]}),(b.attachments||[]).length>0&&s.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:["Attachments: ",(b.attachments||[]).map(z=>z.name).join(", ")]})]}),s.jsx(da,{children:b.role})]},b.id)),O.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No employees yet."})]})]})]})}),Fe&&oe.unavailabilityEnabled&&_e==="availability"&&s.jsx(Gt,{title:"Availability (all employees)",children:s.jsx(yp,{users:O,list:re,onAdd:Re,onUpdate:N,onDelete:k})}),!Fe&&oe.unavailabilityEnabled&&_e==="availability"&&s.jsx(Gt,{title:"My Availability",children:s.jsx(mp,{currentUser:P,list:re,onRequestChange:be})}),oe.newsfeedEnabled&&_e==="feed"&&s.jsx(Gt,{title:"Company feed",children:s.jsx(pp,{users:O,currentUser:P,posts:c.news_posts,onPost:b=>Ye(P.id,b),allowPost:Fe||c.feature_flags.employeesCanPostToFeed})}),oe.tasksEnabled&&_e==="tasks"&&s.jsx(Gt,{title:"Tasks",children:s.jsx(xp,{users:O,currentUser:P,tasks:c.tasks,templates:c.task_templates,onAdd:y,onSetStatus:Y,onDelete:I,onAddTemplate:$,onDeleteTemplate:de})}),oe.messagesEnabled&&_e==="messages"&&s.jsx(Gt,{title:"Messages",children:s.jsx(gp,{users:O,currentUser:P,messages:c.messages,onSend:ze})}),Fe&&_e==="requests-old"&&s.jsx(Gt,{title:"Timeoff requests",children:s.jsx(em,{users:O,list:c.time_off_requests,onSetStatus:Ce})}),Fe&&_e==="requests-old"&&s.jsx(Gt,{title:"Swap requests (queue)",children:s.jsx(tm,{requests:c.swap_requests,offers:c.swap_offers,users:O,findShiftById:b=>(c.schedules||[]).flatMap(z=>(z.shifts||[]).map(Z=>({...Z,__location_id:z.location_id}))).find(z=>z.id===b),onApprove:_l,onDecline:Ca})}),!Fe&&_e==="requests-old"&&s.jsx(Gt,{title:"Swap Center",children:s.jsx(lm,{data:c,users:O,currentUser:P,positionsById:m,findShiftById:b=>(c.schedules||[]).flatMap(z=>(z.shifts||[]).map(Z=>({...Z,__location_id:z.location_id}))).find(z=>z.id===b),onCreateRequest:b=>kl(b),onOfferCover:b=>za({requestId:b,offerShiftId:null}),onOfferTrade:(b,z)=>za({requestId:b,offerShiftId:z}),onWithdrawOffer:ul,onAcceptOffer:Nt,onCancelRequest:jn,flags:oe})}),!Fe&&_e==="schedule"&&s.jsxs(Gt,{title:`Week of ${He(x).toLocaleDateString()}`,right:s.jsxs("div",{className:"flex flex-col items-end gap-1 text-xs",children:[s.jsxs("div",{className:"inline-flex rounded-full border p-1",children:[s.jsx("button",{className:`px-3 py-1 rounded-full ${q==="my"?"bg-black text-white":""}`,onClick:()=>J("my"),children:"My Schedule"}),s.jsx("button",{className:`px-3 py-1 rounded-full ${q==="full"?"bg-black text-white":""}`,onClick:()=>J("full"),children:"Full Schedule"})]}),s.jsx("div",{className:"mt-1 text-gray-500",children:q==="my"?"Viewing: My Schedule":"Viewing: Full Schedule"})]}),children:[s.jsxs("div",{className:"mt-3 mb-4 flex items-center justify-between gap-2 sm:hidden text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-600",children:"Week"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Previous week",onClick:()=>tt(-1),children:""}),s.jsx("input",{type:"date",value:x,onChange:b=>_(nt(sl(b.target.value,oe.weekStartsOn))),className:"rounded-lg border px-2 py-1 text-sm"}),s.jsx("button",{className:"rounded-lg border px-2 py-1",title:"Next week",onClick:()=>tt(1),children:""})]}),s.jsx("button",{className:"rounded-lg border px-2 py-1 text-sm",onClick:()=>_(nt(sl(gn(),oe.weekStartsOn))),children:"Today"})]}),q==="my"?s.jsxs(s.Fragment,{children:[s.jsx(da,{tone:B?.status==="published"?"success":"warn",children:B?B.status:"no schedule yet"}),s.jsx("div",{className:"mt-3"}),s.jsx("div",{className:"hidden md:block",children:s.jsx(Id,{currentUser:P,schedule:B,weekDays:w,positionsById:m,users:O,swapIndicators:gl,onOfferGiveaway:vl,onProposeTrade:bn,allowCrossPosition:oe.allowCrossPosition,isQualified:ya})}),s.jsx("div",{className:"block md:hidden mt-3",children:s.jsx(Ds,{role:"employee",mode:"my",weekDays:w,shifts:B?.shifts||[],employees:wt,currentUserId:P.id,positionsById:m})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Fc,{employees:wt,weekDays:w,shifts:B?.shifts||[],positionsById:m,unavailability:re,timeOffList:c.time_off_requests,showTimeOffChips:oe.showTimeOffOnSchedule,currentUserId:P.id,showTileActions:!0,swapIndicators:gl,onOfferGiveaway:vl,onProposeTrade:bn,allowCrossPosition:oe.allowCrossPosition,isQualified:ya,cleanUI:!0})}),s.jsx("div",{className:"block md:hidden mt-3",children:s.jsx(Ds,{role:"employee",mode:"full",weekDays:w,shifts:B?.shifts||[],employees:wt,currentUserId:P.id,positionsById:m})})]})]}),_e==="requests"&&s.jsx(Gt,{title:"Requests",children:(()=>{const b=(c.time_off_requests||[]).filter(W=>(Fe||W.user_id===P.id)&&W.status==="pending").length,z=Fe?(c.swap_requests||[]).filter(W=>["open","offered","manager_pending"].includes(W.status)).length:(c.swap_requests||[]).filter(W=>W.requester_id===P.id&&!["approved","declined","canceled","expired"].includes(W.status)).length,Z=(c.availability_change_requests||[]).filter(W=>Fe?!0:W.user_id===P.id).length;return s.jsxs("div",{children:[s.jsxs("div",{className:"mb-3 flex gap-2",children:[s.jsx(_t,{id:"timeoff",tab:ve,setTab:me,label:`Time Off (${b})`}),s.jsx(_t,{id:"swaps",tab:ve,setTab:me,label:`Swaps (${z})`}),s.jsx(_t,{id:"availability",tab:ve,setTab:me,label:`Availability (${Z})`})]}),ve==="timeoff"&&(Fe?s.jsx(em,{users:O,list:c.time_off_requests,onSetStatus:Ce}):s.jsxs(s.Fragment,{children:[s.jsx(Ky,{onSubmit:W=>Q({user_id:P.id,...W})}),s.jsx(hp,{data:c,currentUser:P})]})),ve==="swaps"&&(Fe?s.jsx(tm,{requests:c.swap_requests,offers:c.swap_offers,users:O,findShiftById:W=>(c.schedules||[]).flatMap(je=>(je.shifts||[]).map(se=>({...se,__location_id:je.location_id}))).find(je=>je.id===W),onApprove:_l,onDecline:Ca}):s.jsx(lm,{data:c,users:O,currentUser:P,positionsById:m,findShiftById:W=>(c.schedules||[]).flatMap(je=>(je.shifts||[]).map(se=>({...se,__location_id:je.location_id}))).find(je=>je.id===W),onCreateRequest:W=>kl(W),onOfferCover:W=>za({requestId:W,offerShiftId:null}),onOfferTrade:(W,je)=>za({requestId:W,offerShiftId:je}),onWithdrawOffer:ul,onAcceptOffer:Nt,onCancelRequest:jn,flags:oe})),ve==="availability"&&s.jsx(om,{users:O,currentUser:P,requests:c.availability_change_requests||[]})]})})()}),_e==="settings"&&s.jsxs(Gt,{title:"Settings",children:[s.jsxs("div",{className:"space-y-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Feature toggles"}),s.jsxs("div",{className:"mt-2 grid gap-2 md:grid-cols-2",children:[s.jsx(gi,{label:"Enable Unavailability",checked:oe.unavailabilityEnabled,onChange:b=>h(z=>({...z,feature_flags:{...z.feature_flags,unavailabilityEnabled:b}}))}),s.jsx(gi,{label:"Employees can edit their unavailability",checked:oe.employeeEditUnavailability,onChange:b=>h(z=>({...z,feature_flags:{...z.feature_flags,employeeEditUnavailability:b}}))}),s.jsx(gi,{label:"Show Time-off chips on Schedule",checked:oe.showTimeOffOnSchedule,onChange:b=>h(z=>({...z,feature_flags:{...z.feature_flags,showTimeOffOnSchedule:b}}))}),s.jsx(gi,{label:"Swap requires manager approval",checked:oe.requireManagerApproval,onChange:b=>h(z=>({...z,feature_flags:{...z.feature_flags,requireManagerApproval:b}}))}),s.jsx(gi,{label:"Allow cross-position swaps",checked:oe.allowCrossPosition,onChange:b=>h(z=>({...z,feature_flags:{...z.feature_flags,allowCrossPosition:b}}))}),s.jsx(ol,{label:"Work week starts on",value:oe.weekStartsOn,onChange:b=>{const z=Number(b);h(Z=>({...Z,feature_flags:{...Z.feature_flags,weekStartsOn:z}})),_(Z=>nt(sl(Z,z)))},options:Us.map((b,z)=>({value:z,label:b}))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Qualifications"}),s.jsx("div",{className:"mt-2",children:s.jsx(bp,{users:O,positions:E,data:c,onToggle:(b,z,Z)=>{h(W=>{const je=(W.user_qualifications||[]).some(Ae=>Ae.user_id===b&&Ae.position_id===z);let se=W.user_qualifications||[];return Z&&!je&&(se=[...se,{id:Ve(),user_id:b,position_id:z}]),!Z&&je&&(se=se.filter(Ae=>!(Ae.user_id===b&&Ae.position_id===z))),{...W,user_qualifications:se}})}})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Positions (roles)"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-[1fr,2fr] mt-2",children:[s.jsx(rp,{onAdd:ie}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Current roles"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[E.map(b=>s.jsxs("li",{className:"flex items-center justify-between p-3",children:[s.jsx("div",{className:"font-medium",children:b.name}),s.jsxs(da,{children:["loc: ",b.location_id]})]},b.id)),E.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No positions yet."})]})]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Locations"}),s.jsx("ul",{className:"mt-1 list-disc pl-6",children:c.locations.map(b=>s.jsxs("li",{children:[b.name," ",s.jsxs("span",{className:"text-gray-500",children:["(id: ",b.id,")"]})]},b.id))})]}),s.jsxs("div",{className:"rounded-xl bg-amber-50 p-3",children:[s.jsx("div",{className:"font-semibold",children:"How to use"}),s.jsxs("ol",{className:"ml-4 list-decimal pl-2",children:[s.jsx("li",{children:"Add employees & positions."}),s.jsx("li",{children:"Pick a week (uses your setting). A schedule is created automatically if missing."}),s.jsxs("li",{children:["Create shifts via ",s.jsx("b",{children:"+ add"})," in each employee/day cell."]}),s.jsxs("li",{children:["Use ",s.jsx("b",{children:"Tasks"})," & ",s.jsx("b",{children:"Feed"})," for daily ops."]}),s.jsxs("li",{children:["Export via ",s.jsx("b",{children:"Copy"})," or ",s.jsx("b",{children:"Download CSV"}),"."]})]})]})]}),s.jsx(_p,{open:Qe.open,onClose:()=>Xe({open:!1,shift:null}),shift:Qe.shift,users:O,positions:E,onSave:ae}),s.jsx(op,{open:fe.open,onClose:()=>Se({open:!1,preUserId:null,preDay:null}),users:O,positions:E,defaultUserId:fe.preUserId,defaultDay:fe.preDay,onCreate:V,templates:c.task_templates,canQuickTask:!0}),s.jsx("footer",{className:"py-8 text-center text-xs text-gray-500",children:"Rolebased demo. Ready to connect to Express/Postgres & JWT for production."})]})}function _t({id:r,tab:c,setTab:h,label:o,to:v}){const x=im(),_=c===r,O=()=>{typeof h=="function"&&h(r),v&&x&&typeof x.navigate=="function"&&x.navigate(v)};return s.jsx("button",{onClick:O,className:`rounded-full px-4 py-1 text-sm ${_?"bg-black text-white":"border"}`,children:o})}function fp({onAdd:r}){const[c,h]=D.useState(""),[o,v]=D.useState(""),[x,_]=D.useState("employee"),[O,E]=D.useState(""),[m,w]=D.useState(""),[B,R]=D.useState(""),[V,ae]=D.useState(""),[L,ee]=D.useState(""),[ye,ne]=D.useState(""),[ue,te]=D.useState([]),K=Ne=>{const qe=Array.from(Ne||[]).map(fe=>({id:Ve(),name:fe.name,size:fe.size,type:fe.type,lastModified:fe.lastModified}));te(qe)};return s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Add employee"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsx(Rt,{label:"Full name",value:c,onChange:h,placeholder:"Jane Doe"}),s.jsx(Rt,{label:"Email",value:o,onChange:v,placeholder:"jane@example.com"}),s.jsx(ol,{label:"Role",value:x,onChange:_,options:[{value:"employee",label:"Employee"},{value:"manager",label:"Manager"},{value:"owner",label:"Owner"}]}),s.jsx(Rt,{label:"Phone",value:O,onChange:E,placeholder:"555-0123"}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Birthday"}),s.jsx("input",{type:"date",value:m,onChange:Ne=>w(Ne.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsx(Rt,{label:"Pronouns (optional)",value:B,onChange:R,placeholder:"she/her"}),s.jsx(Rt,{label:"Emergency contact name",value:V,onChange:ae,placeholder:"Contact name"}),s.jsx(Rt,{label:"Emergency contact phone",value:L,onChange:ee,placeholder:"555-0456"}),s.jsxs("label",{className:"md:col-span-2 grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Attachments (stored as metadata only in demo)"}),s.jsx("input",{type:"file",multiple:!0,onChange:Ne=>K(Ne.target.files),className:"rounded-xl border px-3 py-2"}),ue.length>0&&s.jsxs("div",{className:"text-xs text-gray-600",children:[ue.length," file(s): ",ue.map(Ne=>Ne.name).join(", ")]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(ip,{label:"Notes",value:ye,onChange:ne,placeholder:"Allergies, preferred shifts, etc."})})]}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm shadow-sm",onClick:()=>{if(!c.trim())return alert("Enter a name");r({full_name:c.trim(),email:o.trim(),role:x,phone:O,birthday:m,pronouns:B,emergency_contact:{name:V,phone:L},attachments:ue,notes:ye}),h(""),v(""),_("employee"),E(""),w(""),R(""),ae(""),ee(""),te([]),ne("")},children:"Add"})})]})}function rp({onAdd:r}){const[c,h]=D.useState("");return s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Add role/position"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.jsx(Rt,{label:"Name",value:c,onChange:h,placeholder:"Scooper"})}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx("button",{className:"rounded-2xl border px-3 py-2 text-sm shadow-sm",onClick:()=>{if(!c.trim())return alert("Enter a name");r(c.trim()),h("")},children:"Add"})})]})}function op({open:r,onClose:c,users:h,positions:o,defaultUserId:v,defaultDay:x,onCreate:_,templates:O,canQuickTask:E}){const[m,w]=D.useState(v||(h[0]?.id??"")),[B,R]=D.useState(o[0]?.id??""),[V,ae]=D.useState(x||sl(gn(),1)),[L,ee]=D.useState("15:00"),[ye,ne]=D.useState("22:00"),[ue,te]=D.useState(0),[K,Ne]=D.useState(""),[qe,fe]=D.useState(""),[Se,F]=D.useState("");return D.useEffect(()=>{v&&w(v),x&&ae(x)},[v,x,r]),s.jsxs(fm,{open:r,onClose:c,title:"Add shift",footer:s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:c,children:"Cancel"}),s.jsx("button",{className:"rounded-xl border bg-black px-3 py-2 text-sm text-white",onClick:()=>{if(!m||!B)return alert("Pick employee & position");_({user_id:m,position_id:B,day:V,start_hhmm:L,end_hhmm:ye,break_min:ue,notes:K,quickTaskTitle:qe,quickTaskTemplateId:Se}),fe(""),F(""),c()},children:"Save shift"})]}),children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsx(ol,{label:"Employee",value:m,onChange:w,options:h.map(ie=>({value:ie.id,label:ie.full_name}))}),s.jsx(ol,{label:"Position",value:B,onChange:R,options:o.map(ie=>({value:ie.id,label:ie.name}))}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Day"}),s.jsx("input",{type:"date",value:nt(V),onChange:ie=>ae(He(ie.target.value)),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Start time"}),s.jsx("input",{type:"time",value:L,onChange:ie=>ee(ie.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"End time"}),s.jsx("input",{type:"time",value:ye,onChange:ie=>ne(ie.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Break (minutes)"}),s.jsx("input",{type:"number",min:0,step:5,value:ue,onChange:ie=>te(Number(ie.target.value)),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"md:col-span-2 grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Notes (optional)"}),s.jsx("input",{type:"text",value:K,onChange:ie=>Ne(ie.target.value),className:"rounded-xl border px-3 py-2"})]})]}),E&&s.jsxs("div",{className:"mt-4 rounded-xl border p-3",children:[s.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Optional: create a task for this shift"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsx(ol,{label:"From template",value:Se,onChange:F,options:[{value:"",label:"(none)"},...(O||[]).map(ie=>({value:ie.id,label:ie.title}))]}),s.jsx(Rt,{label:"Or custom title",value:qe,onChange:fe,placeholder:"Mop floor at close"})]}),s.jsx("div",{className:"mt-1 text-xs text-gray-600",children:"Task will assign to the selected employee with due date = shift day."})]})]})}function dp({onAfterLogin:r}){const{login:c}=ef(),[h,o]=D.useState("manager@demo.local"),[v,x]=D.useState("demo"),[_,O]=D.useState("");return s.jsx("div",{className:"mx-auto grid min-h-[70vh] max-w-md place-items-center p-6",children:s.jsxs("div",{className:"w-full rounded-2xl border p-6 shadow-sm",children:[s.jsx("h1",{className:"mb-1 text-2xl font-black",children:"ShiftMate"}),s.jsx("div",{className:"mb-4 text-gray-600",children:"Sign in"}),_&&s.jsx("div",{className:"mb-3 rounded-lg bg-red-50 p-2 text-sm text-red-700",children:_}),s.jsxs("div",{className:"grid gap-3",children:[s.jsx(Rt,{label:"Email",value:h,onChange:o,type:"email"}),s.jsx(Rt,{label:"Password",value:v,onChange:x,type:"password"}),s.jsx("button",{className:"mt-1 rounded-xl border bg-black px-3 py-2 text-sm font-medium text-white",onClick:()=>{try{const E=c(h,v);r?.(E)}catch(E){O(E.message||"Login failed")}},children:"Sign in"})]}),s.jsxs("div",{className:"mt-4 text-xs text-gray-600",children:["Demo accounts:",s.jsxs("ul",{className:"list-disc pl-5",children:[s.jsxs("li",{children:["Manager: ",s.jsx("code",{children:"manager@demo.local"})," / ",s.jsx("code",{children:"demo"})]}),s.jsxs("li",{children:["Employee: ",s.jsx("code",{children:"lily@example.com"})," / ",s.jsx("code",{children:"demo"})]})]})]})]})})}function mp({currentUser:r,list:c,onRequestChange:h}){const o=D.useMemo(()=>(c||[]).filter(w=>w.user_id===r.id&&w.kind==="weekly"),[c,r?.id]),[v,x]=D.useState(""),[_,O]=D.useState(""),[E,m]=D.useState(!1);return s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Weekly availability"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[o.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No weekly rows set."}),o.map(w=>s.jsx("li",{className:"flex items-center justify-between p-3 text-sm",children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[Us[w.weekday]," ",w.start_hhmm," - ",w.end_hhmm]}),w.notes&&s.jsx("div",{className:"text-xs text-gray-600",children:w.notes})]})},w.id))]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Request change"}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Preferred pattern (free text)"}),s.jsx("input",{value:_,onChange:w=>O(w.target.value),placeholder:"e.g., Mon-Thu 9-5",className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Note"}),s.jsx("textarea",{value:v,onChange:w=>x(w.target.value),className:"min-h-20 rounded-xl border px-3 py-2"})]}),s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>{h?.(r.id,_,v),x(""),O(""),m(!0)},children:"Submit request"}),E&&s.jsx("div",{className:"text-xs text-green-700",children:"Request sent. Your manager will review and update your availability."}),s.jsx("div",{className:"text-xs text-gray-600",children:"Your manager will review and update canonical availability."})]})]})]})}function hp({data:r,currentUser:c}){const h=r.time_off_requests.filter(o=>o.user_id===c.id).sort((o,v)=>He(v.created_at)-He(o.created_at));return h.length===0?null:s.jsxs("div",{className:"mt-4 rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"My requests"}),s.jsx("ul",{className:"divide-y",children:h.map(o=>s.jsxs("li",{className:"flex items-center justify-between py-2 text-sm",children:[s.jsxs("div",{children:[o.date_from,"  ",o.date_to," ",o.notes?` ${o.notes}`:""]}),s.jsx(da,{tone:o.status==="approved"?"success":o.status==="denied"?"danger":"warn",children:o.status})]},o.id))})]})}function yp({users:r,list:c,onAdd:h,onUpdate:o,onDelete:v}){const[x,_]=D.useState(r[0]?.id||""),[O,E]=D.useState(1),[m,w]=D.useState("09:00"),[B,R]=D.useState("17:00"),[V,ae]=D.useState(""),[L,ee]=D.useState(null),ye=D.useMemo(()=>{const te={};for(const K of r)te[K.id]=[];for(const K of c)te[K.user_id]&&te[K.user_id].push(K);return te},[r,c]),ne=()=>{if(!x)return alert("Pick an employee");L?(o({id:L.id,user_id:x,kind:"weekly",weekday:Number(O),start_hhmm:m,end_hhmm:B,notes:V}),ee(null)):h({user_id:x,kind:"weekly",weekday:Number(O),start_hhmm:m,end_hhmm:B,notes:V}),ae("")},ue=te=>{ee(te),_(te.user_id),E(Number(te.weekday)),w(te.start_hhmm),R(te.end_hhmm),ae(te.notes||"")};return s.jsxs("div",{className:"grid gap-6 md:grid-cols-[1fr,2fr]",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsxs("h4",{className:"mb-2 font-semibold",children:[L?"Edit":"Add"," weekly unavailability"]}),s.jsx(ol,{label:"Employee",value:x||"",onChange:_,options:r.map(te=>({value:te.id,label:te.full_name}))}),s.jsxs("div",{className:"mt-3 grid gap-3",children:[s.jsx(ol,{label:"Weekday",value:O,onChange:te=>E(Number(te)),options:Us.map((te,K)=>({value:K,label:te}))}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Start"}),s.jsx("input",{type:"time",value:m,onChange:te=>w(te.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"End"}),s.jsx("input",{type:"time",value:B,onChange:te=>R(te.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsx(Rt,{label:"Notes (optional)",value:V,onChange:ae,placeholder:"Class, commute, etc."}),s.jsxs("div",{className:"flex justify-end gap-2",children:[L&&s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>ee(null),children:"Cancel"}),s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:ne,children:L?"Save":"Add"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Current unavailability (all)"}),r.map(te=>s.jsxs("div",{className:"mb-4 rounded-2xl border",children:[s.jsx("div",{className:"flex items-center justify-between p-3",children:s.jsx("div",{className:"font-medium",children:te.full_name})}),s.jsxs("ul",{className:"divide-y",children:[(ye[te.id]||[]).filter(K=>K.kind==="weekly").length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No entries."}),(ye[te.id]||[]).filter(K=>K.kind==="weekly").map(K=>s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[Us[K.weekday]," ",K.start_hhmm,"",K.end_hhmm]}),K.notes&&s.jsx("div",{className:"text-xs text-gray-600",children:K.notes})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>ue(K),children:"Edit"}),s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>v(K.id),children:"Delete"})]})]},K.id))]})]},te.id))]})]})}function pp({users:r,currentUser:c,posts:h,onPost:o,allowPost:v}){const[x,_]=D.useState(""),O=D.useMemo(()=>Object.fromEntries(r.map(E=>[E.id,E])),[r]);return s.jsxs("div",{className:"space-y-4",children:[v&&s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx(Rt,{label:"Share an update",value:x,onChange:_,placeholder:"Post an announcement..."}),s.jsx("div",{className:"mt-2 flex justify-end",children:s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>{o(x),_("")},children:"Post"})})]}),s.jsxs("ul",{className:"space-y-3",children:[h.length===0&&s.jsx("li",{className:"rounded-2xl border p-3 text-sm text-gray-600",children:"No posts yet."}),h.map(E=>s.jsxs("li",{className:"rounded-2xl border p-3",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:[O[E.user_id]?.full_name||"Unknown","  ",new Date(E.created_at).toLocaleString()]}),s.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:E.body})]},E.id))]})]})}function xp({users:r,currentUser:c,tasks:h,templates:o,onAdd:v,onSetStatus:x,onDelete:_,onAddTemplate:O,onDeleteTemplate:E}){const[m,w]=D.useState(""),[B,R]=D.useState(c.role==="employee"?c.id:r[0]?.id||""),[V,ae]=D.useState(nt(new Date)),[L,ee]=D.useState(""),ye=c.role==="employee"?h.filter(ne=>ne.assigned_to===c.id):h;return s.jsxs("div",{className:"grid gap-4 md:grid-cols-[1fr,2fr]",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Create task"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsx(Rt,{label:"Title",value:m,onChange:w,placeholder:"Clean front counter"}),c.role!=="employee"&&s.jsx(ol,{label:"Assign to",value:B,onChange:R,options:r.map(ne=>({value:ne.id,label:ne.full_name}))}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Due date"}),s.jsx("input",{type:"date",value:V,onChange:ne=>ae(ne.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>{v(m,c.role==="employee"?c.id:B,V,c.id),w("")},children:"Add"})})]})]}),c.role!=="employee"&&s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Task templates"}),s.jsxs("div",{className:"grid gap-2 md:grid-cols-[1fr_auto]",children:[s.jsx(Rt,{label:"New template title",value:L,onChange:ee,placeholder:"Mop floor at close"}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>{L.trim()&&(O(L.trim()),ee(""))},children:"Add template"})})]}),s.jsxs("ul",{className:"mt-2 divide-y rounded-xl border",children:[o.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No templates yet."}),o.map(ne=>s.jsxs("li",{className:"flex items-center justify-between p-2 text-sm",children:[s.jsx("div",{children:ne.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{className:"rounded-xl border px-2 py-1",onChange:ue=>{const te=ue.target.value;te&&(v(ne.title,te,nt(new Date),c.id),ue.target.value="")},children:[s.jsx("option",{value:"",children:"Assign"}),r.map(ue=>s.jsx("option",{value:ue.id,children:ue.full_name},ue.id))]}),s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>E(ne.id),children:"Delete"})]})]},ne.id))]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-2 font-semibold",children:c.role==="employee"?"My tasks":"All tasks"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[ye.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No tasks."}),ye.map(ne=>s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ne.title}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Due ",ne.due_date,"  Assigned to ",r.find(ue=>ue.id===ne.assigned_to)?.full_name||""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{className:"rounded-xl border px-2 py-1",value:ne.status,onChange:ue=>x(ne.id,ue.target.value),children:[s.jsx("option",{value:"open",children:"open"}),s.jsx("option",{value:"done",children:"done"})]}),s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>_(ne.id),children:"Delete"})]})]},ne.id))]})]})]})}function gp({users:r,currentUser:c,messages:h,onSend:o}){const[v,x]=D.useState(r.find(m=>m.id!==c.id)?.id||""),[_,O]=D.useState(""),E=h.filter(m=>m.from_user_id===c.id&&m.to_user_id===v||m.to_user_id===c.id&&m.from_user_id===v);return s.jsxs("div",{className:"grid gap-4 md:grid-cols-[260px_1fr]",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Conversations"}),s.jsx("select",{className:"w-full rounded-xl border px-3 py-2",value:v,onChange:m=>x(m.target.value),children:r.filter(m=>m.id!==c.id).map(m=>s.jsx("option",{value:m.id,children:m.full_name},m.id))})]}),s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:"Chat"}),s.jsxs("div",{className:"mb-3 max-h-72 overflow-auto rounded-xl border p-2",children:[E.length===0&&s.jsx("div",{className:"text-sm text-gray-600",children:"No messages yet."}),E.map(m=>s.jsx("div",{className:`mb-2 flex ${m.from_user_id===c.id?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[70%] rounded-xl border px-2 py-1 text-sm ${m.from_user_id===c.id?"bg-black text-white":""}`,children:[m.body,s.jsx("div",{className:"mt-1 text-[10px] opacity-70",children:new Date(m.created_at).toLocaleString()})]})},m.id))]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{className:"flex-1 rounded-xl border px-3 py-2 text-sm",value:_,onChange:m=>O(m.target.value),placeholder:"Type a message"}),s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:()=>{o(c.id,v,_),O("")},children:"Send"})]})]})]})}function vp({data:r,users:c,currentUser:h}){const o=h?.location_id||null,v=D.useMemo(()=>Object.fromEntries(c.map(R=>[R.id,R])),[c]),x=D.useMemo(()=>o?new Set(c.filter(R=>R.location_id===o).map(R=>R.id)):new Set(c.map(R=>R.id)),[c,o]),_=D.useMemo(()=>(r.time_off_requests||[]).filter(V=>x.has(V.user_id)),[r.time_off_requests,x]),O=D.useMemo(()=>_.filter(R=>R.status==="pending"),[_]),E=D.useMemo(()=>{const R=r.swap_requests||[],ae=(r.schedules||[]).flatMap(ee=>(ee.shifts||[]).map(ye=>({...ye,__location_id:ee.location_id}))),L=Object.fromEntries(ae.map(ee=>[ee.id,ee]));return R.filter(ee=>{const ye=L[ee.shift_id];if(ye&&o)return ye.__location_id===o;if(!o)return!0;const ne=v[ee.requester_id];return ne&&ne.location_id===o})},[r.swap_requests,r.schedules,v,o]),m=D.useMemo(()=>E.filter(R=>["open","offered","manager_pending"].includes(R.status)),[E]),w=D.useMemo(()=>(r.availability_change_requests||[]).filter(V=>x.has(V.user_id)),[r.availability_change_requests,x]),B=D.useMemo(()=>{const R=[];for(const V of _)R.push({id:`to-${V.id}`,created_at:V.created_at||V.date_from,type:"Time Off",label:`${v[V.user_id]?.full_name||"Employee"} requested ${V.date_from}  ${V.date_to}`,status:V.status});for(const V of E){const ae=v[V.requester_id];R.push({id:`sw-${V.id}`,created_at:V.created_at,type:"Swap",label:`${ae?.full_name||"Employee"} ${V.type==="trade"?"proposed trade":"offered shift"}`,status:V.status})}for(const V of w){const ae=v[V.user_id];R.push({id:`av-${V.id}`,created_at:V.created_at,type:"Availability",label:`${ae?.full_name||"Employee"} requested availability change`,status:V.status||"pending"})}return R.sort((V,ae)=>{const L=He(V.created_at||0).getTime();return He(ae.created_at||0).getTime()-L}),R.slice(0,10)},[_,E,w,v]);return s.jsxs("div",{className:"grid gap-4 lg:grid-cols-[2fr,1fr]",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h3",{className:"mb-2 text-sm font-semibold",children:"Recent Changes"}),B.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No recent changes for this location yet."}):s.jsx("ul",{className:"space-y-2 text-sm",children:B.map(R=>s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:R.type}),s.jsx("div",{className:"text-xs text-gray-700",children:R.label})]}),s.jsxs("div",{className:"text-right text-xs text-gray-500",children:[R.status&&s.jsx("div",{className:"mb-1 capitalize",children:R.status}),R.created_at&&s.jsx("div",{children:He(R.created_at).toLocaleString()})]})]},R.id))})]}),s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h3",{className:"mb-2 text-sm font-semibold",children:"Swap Requests"}),m.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No open swap requests."}):s.jsx("ul",{className:"space-y-2 text-sm",children:m.map(R=>{const V=v[R.requester_id];return s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[V?.full_name||"Employee","  ",R.type]}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Status: ",R.status]})]}),s.jsx("div",{className:"text-xs text-gray-500",children:R.created_at&&He(R.created_at).toLocaleString()})]},R.id)})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h3",{className:"mb-2 text-sm font-semibold",children:"Pending Time Off"}),O.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No pending time-off requests."}):s.jsx("ul",{className:"space-y-2 text-sm",children:O.map(R=>{const V=v[R.user_id];return s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:V?.full_name||"Employee"}),s.jsxs("div",{className:"text-xs text-gray-600",children:[R.date_from," \\u2192 ",R.date_to]})]}),s.jsx("div",{className:"text-xs text-gray-500",children:R.created_at&&He(R.created_at).toLocaleString()})]},R.id)})})]}),s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("h3",{className:"mb-2 text-sm font-semibold",children:"Availability Requests"}),w.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No availability change requests."}):s.jsx(om,{users:c,currentUser:h,requests:w})]})]})]})}function om({users:r,currentUser:c,requests:h}){const o=D.useMemo(()=>Object.fromEntries(r.map(O=>[O.id,O])),[r]),v=(c?.role||"employee")!=="employee",x=c?.location_id||null,_=D.useMemo(()=>{const O=h||[];if(!v)return O.filter(m=>m.user_id===c.id);if(!x)return O;const E=new Set(r.filter(m=>m.location_id===x).map(m=>m.id));return O.filter(m=>E.has(m.user_id))},[h,v,c?.id,x,r]);return _.length?s.jsx("ul",{className:"divide-y rounded-2xl border",children:_.map(O=>{const E=o[O.user_id];return s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:v&&E?E.full_name:"Requested change"}),O.pattern&&s.jsx("div",{className:"text-xs text-gray-700",children:O.pattern}),O.note&&s.jsx("div",{className:"text-xs text-gray-600",children:O.note})]}),s.jsx("div",{className:"text-xs text-gray-500",children:He(O.created_at).toLocaleString()})]},O.id)})}):s.jsx("div",{className:"text-sm text-gray-600",children:"No availability change requests yet."})}function em({users:r,list:c,onSetStatus:h}){const o=D.useMemo(()=>Object.fromEntries(r.map(_=>[_.id,_])),[r]),v=c.filter(_=>_.status==="pending"),x=c.filter(_=>_.status!=="pending");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"Pending"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[v.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No pending requests."}),v.map(_=>s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o[_.user_id]?.full_name||""}),s.jsxs("div",{className:"text-gray-600",children:[_.date_from,"  ",_.date_to,_.notes?`  ${_.notes}`:""]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>h(_.id,"approved"),children:"Approve"}),s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>h(_.id,"denied"),children:"Deny"})]})]},_.id))]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"History"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[x.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No history yet."}),x.map(_=>s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o[_.user_id]?.full_name||""}),s.jsxs("div",{className:"text-gray-600",children:[_.date_from,"  ",_.date_to,_.notes?`  ${_.notes}`:""]})]}),s.jsx(da,{tone:_.status==="approved"?"success":_.status==="denied"?"danger":"warn",children:_.status})]},_.id))]})]})]})}function tm({requests:r,offers:c,users:h,findShiftById:o,onApprove:v,onDecline:x}){const _=D.useMemo(()=>Object.fromEntries(h.map(m=>[m.id,m])),[h]),O=(r||[]).filter(m=>m.status==="manager_pending"),E=D.useMemo(()=>{const m={};for(const w of c||[])m[w.request_id]||(m[w.request_id]=[]),m[w.request_id].push(w);return m},[c]);return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"Manager approval queue"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[O.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No items in queue."}),O.map(m=>{const w=o(m.shift_id),B=_[m.requester_id],R=(E[m.id]||[]).length;return s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[B?.full_name||"Unknown"," ",s.jsx("span",{className:"ml-2 text-gray-600",children:m.type})]}),w&&s.jsxs("div",{className:"text-gray-600",children:[new Date(w.starts_at).toLocaleString()," - ",new Date(w.ends_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(da,{children:["offers: ",R]}),s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>v(m.id),children:"Approve"}),s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>x(m.id),children:"Decline"})]})]},m.id)})]})]})})}function lm({data:r,users:c,currentUser:h,positionsById:o,findShiftById:v,onCreateRequest:x,onOfferCover:_,onOfferTrade:O,onWithdrawOffer:E,onAcceptOffer:m,onCancelRequest:w,flags:B}){const R=h.id,ae=(r.schedules||[]).flatMap(Q=>(Q.shifts||[]).map(Ce=>({...Ce,__location_id:Q.location_id}))).filter(Q=>Q.user_id===R&&He(Q.starts_at)>new Date),L=(r.swap_requests||[]).filter(Q=>(Q.status==="open"||Q.status==="offered")&&Q.requester_id!==R),ee=(r.swap_requests||[]).filter(Q=>Q.requester_id===R),ye=(r.swap_offers||[]).filter(Q=>Q.offerer_id===R),ne=D.useMemo(()=>{const Q={};for(const Ce of r.swap_offers||[])Q[Ce.request_id]||(Q[Ce.request_id]=[]),Q[Ce.request_id].push(Ce);return Q},[r.swap_offers]),[ue,te]=D.useState(ae[0]?.id||""),[K,Ne]=D.useState("give"),[qe,fe]=D.useState(""),[Se,F]=D.useState(""),ie=()=>{if(!ue)return alert("Pick a shift");const Q=Se?new Date(Date.now()+Number(Se)*36e5).toISOString():null;x({shiftId:ue,type:K,message:qe,expiresAt:Q}),fe(""),F("")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"Create swap request"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"My future shift"}),s.jsx("select",{className:"rounded-xl border px-3 py-2",value:ue,onChange:Q=>te(Q.target.value),children:ae.map(Q=>s.jsxs("option",{value:Q.id,children:[o[Q.position_id]?.name||"?","  ",new Date(Q.starts_at).toLocaleString()," - ",new Date(Q.ends_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]},Q.id))})]}),s.jsx(ol,{label:"Type",value:K,onChange:Ne,options:[{value:"give",label:"Give away"},{value:"trade",label:"Trade"}]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Expires in (hours)"}),s.jsx("input",{className:"rounded-xl border px-3 py-2",type:"number",min:"0",value:Se,onChange:Q=>F(Q.target.value)})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsx(Rt,{label:"Message (optional)",value:qe,onChange:fe})})]}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:ie,children:"Request swap"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"Open requests (eligible)"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[L.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No open requests right now."}),L.map(Q=>{const Ce=v(Q.shift_id),be=c.find(k=>k.id===Q.requester_id);if(!Ce||!(Ce.__location_id===h.location_id))return null;const N=ae.filter(k=>B.allowCrossPosition||k.position_id===Ce.position_id);return s.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 p-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[be?.full_name||"Unknown"," ",s.jsx("span",{className:"ml-2 text-gray-600",children:Q.type})]}),s.jsxs("div",{className:"text-gray-600",children:[new Date(Ce.starts_at).toLocaleString()," - ",new Date(Ce.ends_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:Q.type==="give"?s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>_(Q.id),children:"Offer to cover"}):s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("select",{className:"rounded-xl border px-2 py-1",onChange:k=>{k.target.value&&O(Q.id,k.target.value)},defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"Offer trade shift"}),N.map(k=>s.jsxs("option",{value:k.id,children:[new Date(k.starts_at).toLocaleDateString()," ",new Date(k.starts_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]},k.id))]})})})]},Q.id)})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"My requests"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[ee.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No swap requests yet."}),ee.map(Q=>{const Ce=v(Q.shift_id),be=ne[Q.id]||[];return s.jsxs("li",{className:"p-3 text-sm",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[Q.type," ",s.jsx("span",{className:"ml-2 text-gray-600",children:Q.status})]}),Ce&&s.jsx("div",{className:"text-gray-600",children:new Date(Ce.starts_at).toLocaleString()})]}),s.jsx("div",{className:"flex items-center gap-2",children:(Q.status==="open"||Q.status==="offered")&&s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>w(Q.id),children:"Cancel"})})]}),be.length>0&&s.jsxs("div",{className:"mt-2 rounded-xl border p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-semibold",children:"Offers"}),s.jsx("ul",{className:"space-y-1 text-xs",children:be.map(Re=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["From ",c.find(N=>N.id===Re.offerer_id)?.full_name||"Unknown",Re.offer_shift_id?" (trade)":" (cover)"]}),Q.status!=="manager_pending"&&s.jsx("button",{className:"rounded-xl border px-2 py-0.5",onClick:()=>m(Re.id),children:"Accept"})]},Re.id))})]})]},Q.id)})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-semibold",children:"My offers"}),s.jsxs("ul",{className:"divide-y rounded-2xl border",children:[ye.length===0&&s.jsx("li",{className:"p-3 text-sm text-gray-600",children:"No offers yet."}),ye.map(Q=>s.jsxs("li",{className:"flex items-center justify-between p-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[Q.offer_shift_id?"Trade":"Cover"," offer ",s.jsx("span",{className:"ml-2 text-gray-600",children:Q.status})]}),s.jsxs("div",{className:"text-gray-600",children:["For request ",Q.request_id.slice(0,6)]})]}),Q.status==="proposed"&&s.jsx("button",{className:"rounded-xl border px-2 py-1",onClick:()=>E(Q.id),children:"Withdraw"})]},Q.id))]})]})]})}function bp({users:r,positions:c,data:h,onToggle:o}){const v=D.useMemo(()=>{const x={};for(const _ of r)x[_.id]=new Set;for(const _ of h.user_qualifications||[])x[_.user_id]||(x[_.user_id]=new Set),x[_.user_id].add(_.position_id);return x},[r,h.user_qualifications]);return D.useMemo(()=>{const x={};for(const _ of c)x[_.location_id]||(x[_.location_id]=[]),x[_.location_id].push(_);return x},[c]),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2",children:"Employee"}),c.map(x=>s.jsx("th",{className:"p-2 whitespace-nowrap",children:x.name},x.id))]})}),s.jsx("tbody",{children:r.map(x=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2 font-medium whitespace-nowrap",children:x.full_name}),c.map(_=>{const O=v[x.id]?.has(_.id)||!1,E=x.location_id===_.location_id;return s.jsx("td",{className:"p-2 text-center",children:s.jsx("input",{type:"checkbox",disabled:!E,checked:O,onChange:m=>o(x.id,_.id,m.target.checked)})},_.id)})]},x.id))})]})})}function _p({open:r,onClose:c,shift:h,users:o,positions:v,onSave:x}){const _=fe=>{const Se=He(fe),F=String(Se.getHours()).padStart(2,"0"),ie=String(Se.getMinutes()).padStart(2,"0");return`${F}:${ie}`},O=o?.[0]?.id||"",E=v?.[0]?.id||"",m=new Date,[w,B]=D.useState(h?.user_id??O),[R,V]=D.useState(h?.position_id??E),[ae,L]=D.useState(He(h?.starts_at??m)),[ee,ye]=D.useState(_(h?.starts_at??m)),[ne,ue]=D.useState(_(h?.ends_at??m)),[te,K]=D.useState(h?.break_min||0),[Ne,qe]=D.useState(h?.notes||"");return D.useEffect(()=>{h&&(B(h.user_id),V(h.position_id),L(He(h.starts_at)),ye(_(h.starts_at)),ue(_(h.ends_at)),K(h.break_min||0),qe(h.notes||""))},[h,r]),!r||!h?null:s.jsx(fm,{open:r,onClose:c,title:"Edit shift",footer:s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"rounded-xl border px-3 py-2 text-sm",onClick:c,children:"Cancel"}),s.jsx("button",{className:"rounded-xl border bg-black px-3 py-2 text-sm text-white",onClick:()=>{if(!w||!R)return alert("Pick employee & position");x({id:h.id,user_id:w,position_id:R,day:ae,start_hhmm:ee,end_hhmm:ne,break_min:te,notes:Ne}),c()},children:"Save changes"})]}),children:s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsx(ol,{label:"Employee",value:w,onChange:B,options:o.map(fe=>({value:fe.id,label:fe.full_name}))}),s.jsx(ol,{label:"Position",value:R,onChange:V,options:v.map(fe=>({value:fe.id,label:fe.name}))}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Day"}),s.jsx("input",{type:"date",value:nt(ae),onChange:fe=>L(He(fe.target.value)),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Start time"}),s.jsx("input",{type:"time",value:ee,onChange:fe=>ye(fe.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"End time"}),s.jsx("input",{type:"time",value:ne,onChange:fe=>ue(fe.target.value),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Break (minutes)"}),s.jsx("input",{type:"number",min:0,step:5,value:te,onChange:fe=>K(Number(fe.target.value)),className:"rounded-xl border px-3 py-2"})]}),s.jsxs("label",{className:"md:col-span-2 grid gap-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Notes (optional)"}),s.jsx("input",{type:"text",value:Ne,onChange:fe=>qe(fe.target.value),className:"rounded-xl border px-3 py-2"})]})]})})}Oy.createRoot(document.getElementById("root")).render(s.jsx(am.StrictMode,{children:s.jsx(Dy,{children:s.jsx(up,{})})}));
